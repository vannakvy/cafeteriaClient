{"version":3,"sources":["static/reportWebVitals.js","context/styleProvider.js","asset/img/logo.png","static/theme.js","asset/data/formatKhDate.js","functions/fn.js","components/dashboard/chart/expIncValue.js","components/dashboard/chart/expIncValueDay.js","components/dashboard/chart/orderCompare.js","components/dashboard/chart/orderDetailCompare.js","components/dashboard/textBox/topTitle.js","graphql/dashboard.js","pages/dashboard.js","api/config.js","asset/data/msgTitle.js","asset/data/colorBadge.js","graphql/product.js","components/product/modal/addEditCategory.js","components/product/category.js","components/product/comp/uploadProfile.js","components/product/modal/addEditProduct.js","asset/data/productsField.js","components/product/modal/sortFilterProduct.js","components/product/modal/viewProduct.js","components/product/tableColds/productCol.js","graphql/user.js","context/initialState.js","context/reducer.js","context/dataProvider.js","pages/product.js","graphql/saleOrder.js","components/saleOrder/tableCols/saleOrderCol.js","components/saleOrder/modal/setStatusOrder.js","pages/saleOrder.js","graphql/purchaseOrder.js","components/purchaseOrder/tableCols/purchaseCol.js","pages/purchaseOrder.js","graphql/reconciliation.js","components/reconciliation/modal/accounting.js","components/reconciliation/modal/generate.js","pages/reconciliation.js","graphql/customer.js","components/customer/drawer/addUpdateCustomer.js","components/customer/modal/viewCustomer.js","components/customer/tableCol/customerCol.js","pages/customer.js","graphql/supplier.js","components/supplier/tableCol/supplierCol.js","components/supplier/drawer/addUpdateSupplier.js","components/supplier/modal/viewSupplier.js","pages/supplier.js","graphql/deliver.js","components/deliver/drawer/addUpdateDeliver.js","components/deliver/modal/viewDeliver.js","components/deliver/tableCol/deliverCol.js","pages/deliver.js","components/user/tableCols/userCol.js","components/user/modal/addUpdateUser.js","graphql/content.js","components/user/modal/configContent.js","pages/user.js","components/saleOrder/modal/addCustomerToSale.js","components/saleOrder/modal/addDeliverToSale.js","asset/img/pinRed.png","components/saleOrder/comp/mapAddOrder.js","components/saleOrder/modal/addLocationToSale.js","components/saleOrder/comp/printComponent.js","components/saleOrder/modal/printSaleOrder.js","components/saleOrder/modal/updateCart.js","components/saleOrder/tableCols/cartCol.js","components/saleOrder/addSaleOrder.js","components/saleOrder/comp/mapViewOrder.js","components/saleOrder/modal/updateCustomer.js","components/saleOrder/modal/updateDeliver.js","components/saleOrder/modal/updateLocation.js","components/saleOrder/modal/updateStatus.js","components/saleOrder/modal/updateViewSubOrder.js","components/saleOrder/tableCols/cartViewCol.js","components/saleOrder/viewSaleOrder.js","components/purchaseOrder/tableCols/cartCol.js","components/purchaseOrder/modal/updateCart.js","components/purchaseOrder/modal/addSupplierToPO.js","components/purchaseOrder/comp/printComponent.js","components/purchaseOrder/modal/printPurchaseOrder.js","components/purchaseOrder/addPurchaseOrder.js","components/purchaseOrder/comp/mapViewOrder.js","components/purchaseOrder/modal/updateCustomer.js","components/purchaseOrder/modal/updateViewSubOrder.js","components/purchaseOrder/tableCols/cartViewCol.js","components/purchaseOrder/viewPurchaseOrder.js","graphql/report.js","components/report/comp/printProductDate.js","asset/column/report.js","components/report/modal/printProductByDate.js","components/report/modal/getProductByDate.js","components/report/comp/printProductRangeDate.js","components/report/modal/printProductByRangeDate.js","components/report/modal/getProductByRangeDate.js","components/report/comp/printCategoryRangeDate.js","components/report/modal/printCategoryByRangeDate.js","components/report/modal/getCategoryByRangeDate.js","components/report/comp/printSaleOrderRangeDate.js","components/report/modal/printSaleOrderByRangeDate.js","components/report/modal/getSaleOrderByRangeDate.js","components/report/comp/printPurchaseRangeDate.js","components/report/modal/printPurchaseOrderByRangeDate.js","components/report/modal/getPurchaseOrderByRangeDate.js","pages/report.js","functions/routeFn.js","routes/navbar.js","graphql/notification.js","routes/navheader.js","pages/404.js","pages/login.js","asset/gif/bagLoading.gif","asset/gif/breadLoading.gif","components/login/loading.js","App.js","ApolloProvider.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StyleController","createContext","StyleProvider","children","useState","contextStyle","setContextStyle","Provider","value","theme","dayKh","monthKh","convertTel","e","tel","charAt","substring","convertUpdateData","type","array","keys","Object","map","load","push","name","noticeAction","msg","notification","message","placement","mutationCallBackFn","gqlFn","gqlFnName","refetchQueries","onError","err","console","log","graphQLErrors","searchOptions","label","style","display","alignItems","width","src","image","preview","marginLeft","fontWeight","description","fontSize","cost","um","id","isHex","num","Boolean","match","convertEditData","entries","key","convertProduct","newArray","product","price","qty","total","remark","addDateForBarChart","result","i","__typename","date","count","index","findIndex","ele","addMonthForBarChart","expense","income","month","reportCombineResAndProduct","newArr","_id","stockIn","stockOut","totalStock","openning","sort","a","b","addIndex","convertDateToKh","day","moment","format","year","newDay","parseInt","newMonth","newYear","numberWithCommas","scale","Math","round","pow","sign","arr","abs","split","length","dec","slice","toString","replace","ExpIncValue","dataDb","data","labels","datasets","backgroundColor","barThickness","height","options","plugins","legend","font","size","family","scales","x","ticks","y","ExpIncValueDay","dataDb1","dataDb2","BarName","OrderCompare","padding","position","OrderDetailCompare","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","TopTitle","href","header","body","newBody","to","className","color","textShadow","lineHeight","GET_ALL_DASHBOARD","gql","Dashboard","DashboardDb","useQuery","getDashboard","gutter","xs","md","orientation","top","newCustomer","customer","newDeliver","deliver","newSupplier","supplier","dataYearRecord","topInc","topExp","borderRadius","boxShadow","underline","Item","Meta","title","level","parseFloat","toFixed","expData","paid","nonPaid","incData","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","storage","getStorage","msgTitle","colorBadge","GET_ALL_PRODUCT","GET_ALL_PRODUCT_NO_PAGE","GET_PRODUCT_BY_ID","GET_PRODUCT_BY_CTG","ADD_PRODUCT","UPDATE_PRODUCT","DELETE_PRODUCT","GET_ALL_CATEGORY","ADD_CATEGORY","UPDATE_CATEGORY","DELETE_CATEGORY","AddEditCategory","open","setOpen","getRole","useMutation","setCategories","updateCategories","deleteCategories","dsp","setDsp","errorMsg","setErrorMsg","useEffect","visible","onCancel","footer","okText","cancelText","okType","onConfirm","variables","input","update","_","disabled","delete","btnSize","danger","float","onClick","onChange","target","marginTop","Category","useLazyQuery","getCategories","CategoryDb","updateData","setUpdateData","sortData","setSortData","setData","typeBtn","setTypeBtn","openAddEdit","setOpenAddEdit","keyword","openAddEditFn","onSortFn","SortDescendingOutlined","SortAscendingOutlined","itemLayout","dataSource","renderItem","random","text","create","PlusOutlined","UploadProfile","imageUrl","setImageUrl","pid","onCloseFn","updateProducts","loading","setLoading","handleChange","info","storageRef","ref","metadata","contentType","uploadBytesResumable","file","uploadTask","task","on","error","getDownloadURL","downloadURL","uploadButton","LoadingOutlined","rotate","listType","showUploadList","customRequest","alt","Option","Select","AddEditProduct","Form","useForm","form","setProducts","setPid","setKeyword","category","onSearch","val","resetFields","layout","hideRequiredMark","fields","onFinish","values","code","onFinishFailed","autoComplete","undefined","rules","required","formatter","parser","showSearch","placeholder","optionFilterProp","htmlType","ProductsField","SortFilterProduct","setFilterData","fieldname","textAlign","valuePropName","ViewProduct","bordered","span","inStock","ProductCol","current","limit","onViewFn","onAddFn","onUpdateFn","onDeleteFn","prefix","SearchOutlined","dataIndex","align","render","row","page","ellipsis","MoreOutlined","fixed","view","EyeOutlined","EditOutlined","DeleteOutlined","GET_ALL_USER","GET_USER_CONTENT_BY_UID","ADD_USER","UPDATE_USER","DELETE_USER","UPDATE_CONTENT","initState","generalCustomer","geolocation","lat","long","ACTION","reducer","state","action","payload","Error","DataController","DataProvider","useReducer","urlPath","urlPathDispatch","user","setUser","logined","loginedDispatch","fetchPolicy","errorPolicy","getContentById","content","onAuthStateChanged","uid","setTimeout","Product","useContext","role","profile","contentRole","getProducts","deleteProducts","setGetRole","viewData","setViewData","openType","setOpenType","openAddUpdate","setOpenAddUpdate","openView","setOpenView","openSortFilter","setOpenSortFilter","setCurrent","setLimit","setSort","filter","setFilter","find","path","FilterOutlined","columns","desertRef","deleteObject","catch","sticky","scroll","rowKey","record","pagination","showSizeChanger","pageSize","GET_ALL_SALEORDER","SUB_ALL_SALEORDER","ADD_SALEORDER","VIEW_SALEORDER_BY_ID","UPDATE_SALEORDER","DELETE_SALEORDER","ADD_SUB_SALEORDER","UPDATE_SUB_SALEORDER","DELETE_SUB_SALEORDER","UPDATE_ORDER_STATUS","SaleOrderCol","onSetStatusFn","lname","fname","subTotal","offer","tax","delivery","grandTotal","status","isCanceled","isPrepared","icon","SyncOutlined","spin","isCooked","isDelivered","isPaid","deliveryTime","productCount","FileSyncOutlined","SetStatusOrder","updateOrderStatus","errorInfo","SaleOrder","history","useHistory","subscribeToMore","SaleOrderDb","deleteSaleOrders","openStatus","setOpenStatus","document","updateQuery","prev","subscriptionData","newSaleOrder","assign","getSaleOrders","GET_ALL_PURCHASEORDER","SUB_ALL_PURCHASEORDER","VIEW_PURCHASEORDER_BY_ID","ADD_PURCHASEORDER","UPDATE_PURCHASEORDER","DELETE_PURCHASEORDER","ADD_SUB_PURCHASEORDER","UPDATE_SUB_PURCHASEORDER","DELETE_SUB_PURCHASEORDER","PurchaseOrderCol","companyName","payment","PurchaseOrder","PurchaseOrderDb","deletePurchaseOrders","getPurchaseOrders","CREATE_GENERATE_INVENTORY","CREATE_GENERATE_ACCOUNTING","GET_ALL_RECON","Accounting","getInventory","InventoryDB","generateAccounting","onSelect","setFieldsValue","Generate","generateInventory","Reconciliation","openGenerate","setOpenGenerate","openGenAcc","setOpenGenAcc","item","DollarOutlined","accounting","GET_ALL_CUSTOMER","ADD_CUSTOMER","UPDATE_CUSTOMER","DELETE_CUSTOMER","AddUpdateCustomer","setCustomers","updateCustomers","onClose","bodyStyle","paddingBottom","ViewCustomer","email","address","totalAmount","CustomerCol","Customer","getCustomers","CustomerDb","deleteCustomers","openAdd","setOpenAdd","GET_ALL_SUPPLIER","ADD_SUPPLIER","UPDATE_SUPPLIER","DELETE_SUPPLIER","SupplierCol","AddUpdateSupplier","ViewSupplier","Supplier","getSuppliers","SupplierDb","deleteSuppliers","GET_ALL_DELIVER","ADD_DELIVER","UPDATE_DELIVER","DELETE_DELIVER","AddUpdateDeliver","setDelivers","updateDelivers","ViewDeliver","DeliverCol","Deliver","getDelivers","DeliverDb","deleteDelivers","UserCol","onConfigFn","displayName","CheckOutlined","FileSearchOutlined","PlusCircleOutlined","AddUpdateUser","addUser","updateUser","min","Password","GET_ALL_CONTENT","ConfigContent","ContentDb","updateContent","getContents","getContent","newData","setNewData","checkedValues","dataV","checked","arrayDb","menu","actions","User","getUsers","UsersDb","deleteUser","configCSelected","setconfigCSelected","openConfigContent","setOpenConfigContent","AddCustomerToSale","AddDeliverToSale","MapAddOrder","refMap","useRef","useJsApiLoader","googleMapsApiKey","isLoaded","mapContainerStyle","center","lng","zoom","onBoundsChanged","AddLocationToSale","centerLocation","setCenterLocation","marginBottom","left","pin","PrintComponent","this","props","Logo","paddingTop","products","rowSpan","colSpan","verticalAlign","renderAs","PureComponent","PrintSaleOrder","clearDataFn","componentRef","trigger","UpdateCart","selectData","cartData","setCartData","CartCol","AddSaleOrder","ProductSearchDb","getProductBySelectCTG","ProductDb","setSaleOrders","getProductById","selectValue","setSelectValue","totalQty","setTotalQty","noPaid","totalBL","setTotalBL","customerData","setCustomerData","placename","locationData","setLocationData","deliverData","setDeliverData","printData","setPrintData","addTax","setAddTax","addOffer","setAddOffer","addDelivery","setAddDelivery","addPayment","setAddPayment","activeCategory","setActiveCategory","openProductDetail","setOpenProductDetail","openAddCustomer","setOpenAddCustomer","openAddLocation","setOpenAddLocation","openAddDeliver","setOpenAddDeliver","openPrint","setOpenPrint","generalGuest","setGeneralGuest","searchKeyword","setSearchKeyword","sumQty","selectCategoryFn","handleSearchEnter","findProduct","pushToCart","findData","dropdownMatchSelectWidth","onInputKeyDown","onSelectCard","Text","mark","pageSizeOptions","splice","PushpinOutlined","labelStyle","contentStyle","onBlur","headerData","onSubmitFn","MapViewOrder","customerMap","deliverMap","setCenter","UpdateCustomer","updateSaleOrders","orderId","UpdateDeliver","UpdateLocation","UpdatetStatus","UpdateViewSubOrder","updateSubSaleOrders","CartViewCol","handleSearch","ViewSaleOrder","slug","useParams","getSaleOrderById","setSubSaleOrders","deleteSubSaleOrders","setStatus","status2","setStatus2","openUpdateCustomer","setOpenUpdateCustomer","openUpdateLocation","setOpenUpdateLocation","openUpdateDeliver","setOpenUpdateDeliver","openUpdateStatus","setOpenUpdateStatus","canceled","onUpdateTotalBL","strong","offset","defaultValue","rate","comment","feedback","progressDot","Step","PrinterOutlined","AddSupplierToPO","PrintPurchaseOrder","AddPurchaseOrder","setPurchaseOrders","supplierData","setSupplierData","openAddSupplier","setOpenAddSupplier","supplierMap","UpdateSupplier","updatePurchaseOrders","updateSubPurchaseOrders","ViewPurchaseOrder","setSubPurchaseOrders","deleteSubPurchaseOrders","getPurchaseOrderById","openUpdateSupplier","setOpenUpdateSupplier","GET_REPORT_PRODUCT_BY_DATE","GET_REPORT_PRODUCT_RANGE_DATE","GET_REPORT_CATEGORY_BY_DATE","GET_REPORT_SALEORDER_RANGE_DATE","GET_REPORT_PO_BY_DATE","PrintProductDate","border","reportProduct","reportProductRange","PrintProductByDate","csvReport","headers","filename","GetProductByDate","productDB","getReportProductByDate","setDate","getResults","getAllProducts","PrintProductRangeDate","startDate","endDate","PrintProductByRangeDate","GetProductByRangeDate","getReportProductByRangeDate","RangePicker","PrintCategoryRangeDate","PrintCategoryByRangeDate","GetCategoryByRangeDate","getReportCategoryByDate","PrintSaleOrderRangeDate","dataFooter","PrintSaleOrderByRangeDate","setDataFooter","reduce","curr","GetSaleOrderByRangeDate","getReportSaleOrderByRangeDate","PrintPurchaseOrderRangeDate","PrintPurchaseOrderByRangeDate","GetPurchaseOrderByRangeDate","getReportPurchaseOrderByRangeDate","Report","openProductByDate","setOpenProductByDate","openProductByRangeDate","setOpenProductByRangeDate","openCategoryByRangeDate","setOpenCategoryByRangeDate","openSaleOrderByRangeDate","setOpenSaleOrderByRangeDate","openPurchaseOrderByRangeDate","setOpenPurchaseOrderByRangeDate","keyMenu","myArr","iconMenu","BarChartOutlined","ShoppingCartOutlined","PieChartOutlined","CreditCardOutlined","UserOutlined","combineMenu","newArray1","newArray2","sub","load1","subContent","contentRouter","Sider","Layout","SubMenu","Menu","NavBar","collapsed","setCollapsed","collapsible","onCollapse","selectedKeys","mode","GET_NOTIFICATION","Header","newNum","setNewNum","maxHeight","overflowX","overflowY","Date","createAt","fromNow","Navheader","useLocation","pathname","NoticeDB","useSubscription","newNotice","paddingLeft","BellOutlined","cursor","paddingRight","signOut","shape","PoweroffOutlined","Error404","subTitle","extra","Login","signInWithEmailAndPassword","password","userCredential","errorCode","errorMessage","minHeight","backgroundImage","opacity","transform","Loading","LoadingGif","Loading1Gif","Content","App","margin","exact","process","httpLink","HttpLink","uri","wsLink","WebSocketLink","reconnect","authLink","setContext","request","previousContext","token","localStorage","getItem","Authorization","splitLink","query","definition","getMainDefinition","kind","operation","concat","client","ApolloClient","link","cache","InMemoryCache","ApolloProvider","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.a640f1e6.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { createContext, useState } from 'react'\r\n\r\nexport const StyleController = createContext()\r\n\r\nexport default function StyleProvider({ children }) {\r\n    const [contextStyle, setContextStyle] = useState({\r\n\r\n    })\r\n    \r\n    return (\r\n        <StyleController.Provider\r\n            value={{\r\n                contextStyle, setContextStyle\r\n            }}\r\n        >\r\n            {children}\r\n        </StyleController.Provider>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.3b1a1c67.png\";","export const theme = {\r\n    MenuFontSize: \"25px​ !important\",\r\n    tableSize: \"large\",\r\n    btnSize: \"large\",\r\n    inputSize: \"large\",\r\n    selectSize: \"large\",\r\n    greenColor: \"#1783c5\",\r\n    pinkColor: \"#efbf1a\",\r\n    blackColor: \"#484848\"\r\n}","export const dayKh = [\r\n    \"០\",\r\n    \"១\",\r\n    \"២\",\r\n    \"៣\",\r\n    \"៤\",\r\n    \"៥\",\r\n    \"៦\",\r\n    \"៧\",\r\n    \"៨\",\r\n    \"៩\",\r\n]\r\n\r\nexport const monthKh = [\r\n    \"មករា\",\r\n    \"កុម្ភៈ\",\r\n    \"មិនា\",\r\n    \"មេសា\",\r\n    \"ឧសភា\",\r\n    \"មិថុនា\",\r\n    \"កក្តដា\",\r\n    \"សីហា\",\r\n    \"កញ្ញា\",\r\n    \"តុលា\",\r\n    \"វិច្ឆិកា\",\r\n    \"ធ្នូ\",\r\n]","import { Image, notification } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { dayKh, monthKh } from \"../asset/data/formatKhDate\";\r\n\r\n\r\nexport const convertTel = (e) => {\r\n    let tel = e\r\n\r\n    if (e) {\r\n        if (tel.charAt(0) === \"0\") {\r\n            tel = tel.substring(1)\r\n        }\r\n    }\r\n\r\n    return tel\r\n}\r\n\r\nexport const convertUpdateData = (type, e) => {\r\n    let array = []\r\n    let keys = Object.keys(e)\r\n\r\n    if (type === \"add\") {\r\n        keys?.map(load => {\r\n            return array.push({\r\n                name: load,\r\n                value: \"\"\r\n            })\r\n        })\r\n    } else {\r\n        keys?.map(load => {\r\n            return array.push({\r\n                name: load,\r\n                value: e[load]\r\n            })\r\n        })\r\n    }\r\n\r\n    return array\r\n}\r\n\r\nexport function convertQueryDate(date) {\r\n    let hour = new Date(date).getHours()\r\n    let minute = new Date(date).getMinutes()\r\n    let second = new Date(date).getSeconds()\r\n\r\n    return new Date(new Date(new Date(new Date(date).setHours(hour)).setMinutes(minute)).setSeconds(second))\r\n}\r\n\r\nexport const convertMask = (e) => {\r\n    let array = []\r\n\r\n    for (let i = 0; i < e.length; i++) {\r\n        // console.log(e.charAt(i))\r\n        if (e.charAt(i) === '%' || e.charAt(i) === '/' || e.charAt(i) === '*' || e.charAt(i) === '+' || e.charAt(i) === '-' || e.charAt(i) === ' ') {\r\n            array.push(`${e.charAt(i)}`)\r\n        } else {\r\n            array.push(`/\\\\d\\\\`)\r\n        }\r\n    }\r\n\r\n    return array\r\n}\r\n\r\nexport const noticeAction = (type, msg) => {\r\n    notification[type]({\r\n        message: msg,\r\n        placement: \"bottomLeft\"\r\n    })\r\n}\r\n\r\nexport const mutationCallBackFn = (gqlFn, gqlFnName) => {\r\n    return {\r\n        refetchQueries: [\r\n            gqlFn, // DocumentNode object parsed with gql\r\n            gqlFnName\r\n        ],\r\n        onError: (err) => {\r\n            console.log(err?.graphQLErrors[0]?.message)\r\n\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        }\r\n    }\r\n}\r\n\r\nexport const tableFilter = (data, filter1, filter2) => {\r\n    let array = data?.getProducts?.data\r\n    let newArray = []\r\n\r\n    array?.map(load => {\r\n        return newArray.push({\r\n            text: !filter2 ? load[filter1] : load[filter1][filter2],\r\n            value: !filter2 ? load[filter1] : load[filter1][filter2]\r\n        })\r\n    })\r\n\r\n    var result = [];\r\n    newArray.map(load => {\r\n        if (result.findIndex(ele => ele.text === load.text) < 0) {\r\n            return result.push({\r\n                text: load.text,\r\n                value: load.value\r\n            });\r\n        }\r\n\r\n        return null\r\n    });\r\n\r\n    // console.log(result)\r\n\r\n    return result\r\n}\r\n\r\nexport const searchOptions = (e) => {\r\n    let array = []\r\n    e?.map(load => {\r\n        return array.push({\r\n            label: (\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        // justifyContent: \"center\",\r\n                        alignItems: \"center\"\r\n                    }}\r\n                >\r\n                    <Image\r\n                        width={50}\r\n                        src={load.image}\r\n                        preview={false}\r\n                    />\r\n                    <div>\r\n                        <span\r\n                            style={{\r\n                                marginLeft: 20,\r\n                                fontWeight: \"bolder\"\r\n                            }}\r\n                        >\r\n                            {load.description}\r\n                        </span><br />\r\n                        <span\r\n                            style={{\r\n                                marginLeft: 20,\r\n                                fontSize: 11\r\n                            }}\r\n                        >\r\n                            {load.cost}$ /{load.um}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            ),\r\n            value: load.id\r\n        })\r\n    })\r\n\r\n    return array\r\n}\r\n\r\nexport const isHex = (num) => {\r\n    return Boolean(num.match(/^[0-9a-fA-F]{24}$/))\r\n}\r\n\r\nexport function convertEditData(e) {\r\n    var array = []\r\n    for (let [key, value] of Object.entries(e)) {\r\n        array.push(\r\n            {\r\n                \"name\": [\r\n                    key\r\n                ],\r\n                \"value\": value\r\n            }\r\n        )\r\n    }\r\n    return array\r\n}\r\n\r\nexport const convertProduct = (e) => {\r\n    let newArray = []\r\n    e?.map(load => newArray.push({\r\n        product: load.id,\r\n        price: load.price,\r\n        qty: load.qty,\r\n        total: load.total,\r\n        remark: load.remark\r\n    }))\r\n\r\n    return newArray\r\n}\r\n\r\nexport const BarName = () => {\r\n    let array = []\r\n\r\n    for (var i = 1; i <= 31; i++) {\r\n        array.push(i.toString())\r\n    }\r\n\r\n    return array\r\n}\r\n\r\nexport const addDateForBarChart = (e) => {\r\n    if (e) {\r\n        let array = [...e]\r\n        let newArray = []\r\n        let result = []\r\n\r\n        for (var i = 1; i <= 31; i++) {\r\n            newArray.push({\r\n                __typename: 'DataRecord',\r\n                date: i,\r\n                count: 0,\r\n                total: 0\r\n            })\r\n        }\r\n\r\n        newArray.map(load => {\r\n            const index = array.findIndex(ele => ele.date === load.date)\r\n\r\n            if (index === -1) {\r\n                result.push(load.total)\r\n            } else {\r\n                result.push(array[index].total)\r\n            }\r\n\r\n            return null\r\n        })\r\n\r\n        return result\r\n    }\r\n}\r\n\r\nexport const addMonthForBarChart = (e) => {\r\n    if (e) {\r\n        let array = [...e]\r\n        let expense = []\r\n        let income = []\r\n\r\n        for (let i = 1; i <= 12; i++) {\r\n            let index = array.findIndex(ele => ele.month === i)\r\n\r\n            if (index !== -1) {\r\n                expense.push(array[index].expense)\r\n                income.push(array[index].income)\r\n            } else {\r\n                expense.push(0)\r\n                income.push(0)\r\n            }\r\n        }\r\n\r\n        return {\r\n            expense,\r\n            income\r\n        }\r\n    }\r\n}\r\n\r\nexport const reportCombineResAndProduct = (result, product) => {\r\n    let newArr = []\r\n\r\n    product?.map(load => {\r\n        let index = result.findIndex(ele => ele._id === load.id)\r\n\r\n        if(index === -1){\r\n            newArr.push({\r\n                _id: load.id,\r\n                description: load.description,\r\n                stockIn: 0,\r\n                stockOut: 0,\r\n                totalStock: 0,\r\n                openning: 0\r\n            })\r\n        } else {\r\n            newArr.push({\r\n                _id: result[index]._id,\r\n                description: result[index].description,\r\n                stockIn: result[index].stockIn,\r\n                stockOut: result[index].stockOut,\r\n                totalStock: result[index].totalStock,\r\n                openning: result[index].openning\r\n            })\r\n        }\r\n\r\n        return null\r\n    })\r\n\r\n    return newArr.sort((a,b) => (b.totalStock - a.totalStock))\r\n}\r\n\r\nexport const addIndex = (e) => {\r\n    let newArr = []\r\n    e.map((load, index) => newArr.push({\r\n        ...load,\r\n        index: index+1\r\n    }))\r\n\r\n    return newArr\r\n}\r\n\r\nexport const convertDateToKh = (e) => {\r\n    let day = moment(e).format(\"DD\")\r\n    let month = moment(e).month()\r\n    let year = moment(e).format(\"YYYY\")\r\n\r\n    let newDay = dayKh[parseInt(day[0])] + dayKh[parseInt(day[1])]\r\n    let newMonth = monthKh[parseInt(month)]\r\n    let newYear = dayKh[parseInt(year[0])] + dayKh[parseInt(year[1])] + dayKh[parseInt(year[2])] + dayKh[parseInt(year[3])]\r\n\r\n    let date = `ថ្ងៃទី${newDay} ខែ${newMonth} ឆ្នាំ${newYear}`\r\n\r\n    return date\r\n}\r\n\r\nexport function numberWithCommas(num, scale) {\r\n\r\n    if (Math.round(num) !== num) {\r\n        if (Math.pow(0.1, scale) > num) {\r\n          return 0;\r\n        }\r\n        var sign = Math.sign(num);\r\n        var arr = (\"\" + Math.abs(num)).split(\".\");\r\n        if (arr.length > 1) {\r\n          if (arr[1].length > scale) {\r\n            var integ = +arr[0] * Math.pow(10, scale);\r\n            var dec = integ + (+arr[1].slice(0, scale) + Math.pow(10, scale));\r\n            var proc = +arr[1].slice(scale, scale + 1)\r\n            if (proc >= 5) {\r\n              dec = dec + 1;\r\n            }\r\n            dec = sign * (dec - Math.pow(10, scale)) / Math.pow(10, scale);\r\n            return dec.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n          }\r\n        }\r\n      }\r\n      return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}","import React from 'react'\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { theme } from '../../../static/theme';\r\nimport { addMonthForBarChart } from '../../../functions/fn';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\n\r\nexport default function ExpIncValue({ dataDb }) {\r\n\r\n    const labels = ['មករា', 'កុម្ភះ', 'មិនា', 'មេសា', 'ឧសភា', 'មិថុនា', 'កក្តដា', 'សីហា', 'កញ្ញា', 'តុលា', 'វិច្ឆិកា', 'ធ្នូ'];\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                label: 'ចំណូល',\r\n                data: addMonthForBarChart(dataDb)?.income,\r\n                backgroundColor: theme.greenColor,\r\n                barThickness: 25,\r\n            },\r\n            {\r\n                label: 'ចំណាយ',\r\n                data: addMonthForBarChart(dataDb)?.expense,\r\n                backgroundColor: theme.pinkColor,\r\n                barThickness: 25,\r\n            },\r\n        ],\r\n    };\r\n\r\n    return (\r\n        <div\r\n        >\r\n            <Bar\r\n                height={90}\r\n                options={{\r\n                    plugins: {\r\n                        legend: {\r\n                            labels: {\r\n                                // This more specific font property overrides the global property\r\n                                font: {\r\n                                    size: 18,\r\n                                    family: \"khmerOsSiemReap\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    scales: {\r\n                        x: {\r\n                            ticks: {\r\n                                font: {\r\n                                    size: 18,\r\n                                    family: \"Khmer OS Siemreap\"\r\n                                },\r\n                                //   color:'#e6fffb',\r\n                                // mirror:true,\r\n                                // autoSkip: false,\r\n                                // maxRotation: 90,\r\n                                // minRotation: 90,\r\n\r\n                            },\r\n                            // gridLines: {\r\n                            //   color: \"#FFFFFF\",\r\n                            // }\r\n                        },\r\n                        y: {\r\n                            ticks: {\r\n                                font: {\r\n                                    size: 15,\r\n                                    family: \"Khmer OS Siemreap\",\r\n\r\n                                },\r\n                                // color:'#b5f5ec',\r\n                                // mirror:true,\r\n                                // maxTicksLimit: 10\r\n\r\n                            },\r\n                            // gridLines: {\r\n                            //   color: \"rgba(0, 0, 0, .125)\",\r\n                            // }\r\n                        }\r\n                    },\r\n                }}\r\n                data={data}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { theme } from '../../../static/theme';\r\nimport { addDateForBarChart, BarName } from '../../../functions/fn';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\n\r\nexport default function ExpIncValueDay({dataDb1, dataDb2}) {\r\n\r\n    const labels = BarName();\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                label: 'ចំណូល',\r\n                data: addDateForBarChart(dataDb1),\r\n                backgroundColor: theme.greenColor,\r\n                barThickness: 10,\r\n            },\r\n            {\r\n                label: 'ចំណាយ',   \r\n                data: addDateForBarChart(dataDb2),\r\n                backgroundColor: theme.pinkColor,\r\n                barThickness: 10,\r\n            },\r\n        ],\r\n    };\r\n\r\n    return (\r\n        <div\r\n        >\r\n            <Bar\r\n                height={90}\r\n                options={{\r\n                    plugins: {\r\n                        legend: {\r\n                            labels: {\r\n                                // This more specific font property overrides the global property\r\n                                font: {\r\n                                    size: 18,\r\n                                    family: \"khmerOsSiemReap\"\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    scales: {\r\n                        x: {\r\n                            ticks: {\r\n                                font: {\r\n                                    size: 18,\r\n                                    family:\"Khmer OS Siemreap\"\r\n                                },\r\n                              //   color:'#e6fffb',\r\n                                // mirror:true,\r\n                                // autoSkip: false,\r\n                                // maxRotation: 90,\r\n                                // minRotation: 90,\r\n                                \r\n                            },\r\n                            // gridLines: {\r\n                            //   color: \"#FFFFFF\",\r\n                            // }\r\n                        },\r\n                        y: {\r\n                          ticks: {\r\n                              font: {\r\n                                  size: 15,\r\n                                  family:\"Khmer OS Siemreap\",\r\n                                  \r\n                              },\r\n                              // color:'#b5f5ec',\r\n                              // mirror:true,\r\n                              // maxTicksLimit: 10\r\n                              \r\n                          },\r\n                          // gridLines: {\r\n                          //   color: \"rgba(0, 0, 0, .125)\",\r\n                          // }\r\n                        }\r\n                      },\r\n                }}\r\n                data={data}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { theme } from '../../../static/theme';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default function OrderCompare({ dataDb1, dataDb2 }) {\r\n\r\n    const labels = ['ចំណូល', 'ចំណាយ'];\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                label: '# of Votes',\r\n                data: [dataDb1, dataDb2],\r\n                backgroundColor: [\r\n                    theme.greenColor,\r\n                    theme.pinkColor,\r\n                ],\r\n                font: {\r\n                    size: 18,\r\n                    family: \"khmerOsSiemReap\"\r\n                }\r\n            },\r\n        ],\r\n    }\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                padding: 50\r\n            }}\r\n        >\r\n            <Pie\r\n                options={{\r\n                    plugins: {\r\n                        legend: {\r\n                            labels: {\r\n                                // This more specific font property overrides the global property\r\n                                font: {\r\n                                    size: 18,\r\n                                    family: \"khmerOsSiemReap\"\r\n                                },\r\n                                position: \"bottom\"\r\n                            }\r\n                        },\r\n                    }\r\n                }}\r\n                data={data}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { theme } from '../../../static/theme';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default function OrderDetailCompare({ dataDb1, dataDb2 }) {\r\n\r\n    const labels = ['ប្រាក់ទូទាត់រួច', 'ប្រាក់មិនទូទាត់'];\r\n\r\n    const data = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                label: '# of Votes',\r\n                data: [dataDb1, dataDb2],\r\n                backgroundColor: [\r\n                    theme.greenColor,\r\n                    theme.pinkColor,\r\n                ],\r\n                font: {\r\n                    size: 18,\r\n                    family: \"khmerOsSiemReap\"\r\n                }\r\n            },\r\n        ],\r\n    }\r\n\r\n    return (\r\n        <Pie\r\n            options={{\r\n                plugins: {\r\n                    legend: {\r\n                        labels: {\r\n                            // This more specific font property overrides the global property\r\n                            font: {\r\n                                size: 14,\r\n                                family: \"khmerOsSiemReap\"\r\n                            },\r\n                            position: \"bottom\"\r\n                        }\r\n                    },\r\n                }\r\n            }}\r\n            data={data}\r\n        />\r\n    )\r\n}\r\n","import { Typography } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport const TopTitle = ({ href, header, body, newBody, type }) => {\r\n    return (\r\n        <Link\r\n            to={href}\r\n        >\r\n            <div\r\n                className=\"go-TopTitle\"\r\n                // style={{\r\n                //     backgroundImage: `url(${\r\n                //         type === \"customer\" ? 'https://image.freepik.com/free-vector/organic-flat-customer-support-illustration_23-2148899134.jpg' :\r\n                //         type === \"delivery\" ? 'https://image.freepik.com/free-vector/express-courier-scooter-shipping-order_74855-6447.jpg' :\r\n                //         'https://image.freepik.com/free-vector/distribution-hemp-products-abstract-concept-vector-illustration-retail-cannabis-business-marijuana-sales-market-order-online-hemp-extract-food-supplement-wholesale-abstract-metaphor_335657-1443.jpg'\r\n                //     })`,\r\n                //     backgroundSize: \"contain\",\r\n                //     backgroundPosition: \"right\",\r\n                //     backgroundRepeat: \"no-repeat\"\r\n                // }}\r\n            >\r\n                <Typography.Title\r\n                    className=\"go-DashboardBox\"\r\n                    style={{\r\n                        color: theme.blackColor,\r\n                        textShadow: \"1px 1px 1px #b5b5b5\"\r\n                    }}\r\n                >\r\n                    {header}\r\n                </Typography.Title>\r\n                <Typography.Title\r\n                    className=\"go-DashboardBox1\"\r\n                    style={{\r\n                        color: theme.pinkColor,\r\n                        lineHeight: 1,\r\n                        textShadow: \"1px 1px 1px #0B0B0B\"\r\n                    }}\r\n                >\r\n                    {newBody}\r\n                </Typography.Title>\r\n                <Typography.Title\r\n                    className=\"go-DashboardBox3\"\r\n                    style={{\r\n                        color: theme.pinkColor,\r\n                        lineHeight: 0,\r\n                        textShadow: \"1px 1px 1px #0B0B0B\"\r\n                    }}\r\n                >\r\n                    សរុប៖ {body}\r\n                </Typography.Title>\r\n            </div>\r\n        </Link>\r\n    )\r\n}","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_DASHBOARD = gql`\r\n    query getDashboard {\r\n        getDashboard {\r\n            top {\r\n                newCustomer\r\n                newDeliver\r\n                newSupplier\r\n                deliver\r\n                supplier\r\n                customer\r\n            }\r\n            expData {\r\n                paid\r\n                nonPaid\r\n            }\r\n            incData {\r\n                paid\r\n                nonPaid\r\n            }\r\n            total {\r\n                expense\r\n                income\r\n            }\r\n            topExp {\r\n                # _id\r\n                date\r\n                count\r\n                total\r\n            }\r\n            topInc {\r\n                # _id\r\n                date\r\n                count\r\n                total\r\n            }\r\n            dataYearRecord {\r\n                _id\r\n                code\r\n                month\r\n                income\r\n                expense\r\n            }\r\n        }\r\n    }\r\n`","import { useQuery } from '@apollo/client';\r\nimport { Col, Row, List, Typography, Divider } from 'antd'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport ExpIncValue from '../components/dashboard/chart/expIncValue'\r\nimport ExpIncValueDay from '../components/dashboard/chart/expIncValueDay';\r\nimport OrderCompare from '../components/dashboard/chart/orderCompare';\r\nimport OrderDetailCompare from '../components/dashboard/chart/orderDetailCompare';\r\nimport { TopTitle } from '../components/dashboard/textBox/topTitle';\r\nimport { noticeAction } from '../functions/fn';\r\nimport { GET_ALL_DASHBOARD } from '../graphql/dashboard';\r\nimport { theme } from '../static/theme';\r\n\r\nexport default function Dashboard() {\r\n  const { data: DashboardDb } = useQuery(GET_ALL_DASHBOARD, {\r\n    onError: (err) => {\r\n      noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n    },\r\n  })\r\n\r\n  let dataDb = DashboardDb?.getDashboard\r\n\r\n  // console.log(dataDb)\r\n\r\n  return (\r\n    <Row gutter={[50, 50]}>\r\n      <Col\r\n        xs={24}\r\n        md={17}\r\n      >\r\n        <Col\r\n          xs={24}\r\n        >\r\n          <Divider\r\n            orientation=\"left\"\r\n          >\r\n            <Typography.Title\r\n              className=\"go-DashboardBox\"\r\n            >\r\n              ទិន្នន័យជារួម\r\n            </Typography.Title>\r\n          </Divider>\r\n        </Col>\r\n        <Row\r\n          gutter={[30, 30]}\r\n        >\r\n\r\n          <Col\r\n            xs={24}\r\n            md={8}\r\n          >\r\n            <TopTitle\r\n              href=\"/customer\"\r\n              header=\"អតិថិជនសរុប\"\r\n              newBody={`${dataDb?.top?.newCustomer} នាក់`}\r\n              body={`${dataDb?.top?.customer} នាក់`}\r\n              type=\"customer\"\r\n            />\r\n          </Col>\r\n          <Col\r\n            xs={24}\r\n            md={8}\r\n          >\r\n            <TopTitle\r\n              href=\"/deliver\"\r\n              header=\"អ្នកដឹកជញ្ជូនសរុប\"\r\n              newBody={`${dataDb?.top?.newDeliver} នាក់`}\r\n              body={`${dataDb?.top?.deliver} នាក់`}\r\n              type=\"delivery\"\r\n            />\r\n          </Col>\r\n          <Col\r\n            xs={24}\r\n            md={8}\r\n          >\r\n            <TopTitle\r\n              href=\"/supplier\"\r\n              header=\"អ្នកផ្គត់ផ្គង់សរុប\"\r\n              newBody={`${dataDb?.top?.newSupplier} នាក់`}\r\n              body={`${dataDb?.top?.supplier} នាក់`}\r\n              type=\"supplier\"\r\n            />\r\n          </Col>\r\n          <Col\r\n            xs={24}\r\n            md={24}\r\n          >\r\n            <ExpIncValue dataDb={dataDb?.dataYearRecord} />\r\n          </Col>\r\n          <Col\r\n            xs={24}\r\n            md={24}\r\n          >\r\n            <ExpIncValueDay dataDb1={dataDb?.topInc} dataDb2={dataDb?.topExp} />\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n      <Col\r\n        md={7}\r\n      >\r\n        <Row gutter={[10, 10]}>\r\n          <Col\r\n            xs={24}\r\n            md={12}\r\n          >\r\n            <div\r\n              style={{\r\n                backgroundColor: theme.greenColor,\r\n              }}\r\n              className=\"go-dashboardBtn\"\r\n            >\r\n              <Typography.Title\r\n                className=\"go-DashboardBox\"\r\n                style={{\r\n                  color: \"#ffff\",\r\n                }}\r\n              >\r\n                បង្កើតការលក់\r\n              </Typography.Title>\r\n            </div>\r\n          </Col>\r\n          <Col\r\n            xs={24}\r\n            md={12}\r\n          >\r\n            <Link\r\n              to=\"addpurchaseorder\"\r\n            >\r\n              <div\r\n                style={{\r\n                  backgroundColor: theme.pinkColor,\r\n                }}\r\n                className=\"go-dashboardBtn\"\r\n              >\r\n                <Typography.Title\r\n                  className=\"go-DashboardBox\"\r\n                  style={{\r\n                    color: \"#ffff\",\r\n                  }}\r\n                >\r\n                  បង្កើតការទិញ\r\n                </Typography.Title>\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n          <Col\r\n            xs={24}\r\n          >\r\n            <div\r\n              style={{\r\n                borderRadius: 20,\r\n                boxShadow: \"1px 1px 5px #e5e5e5\",\r\n                height: \"100%\",\r\n                padding: 20\r\n              }}\r\n            >\r\n              <OrderCompare dataDb1={dataDb?.total?.income} dataDb2={dataDb?.total?.expense} />\r\n              <div\r\n                style={{\r\n                  padding: 10\r\n                }}\r\n              >\r\n                <Typography.Title\r\n                  className=\"go-PieTitle\"\r\n                  style={{\r\n                    color: theme.blackColor\r\n                  }}\r\n                  underline\r\n                >\r\n                  ទិន្នន័យចំណូលចំណាយ\r\n                </Typography.Title>\r\n                <List>\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      title={<span><Typography.Title\r\n                        // level={5}\r\n                        style={{\r\n                          color: theme.blackColor,\r\n                          lineHeight: 1\r\n                        }}\r\n                      >\r\n                        ទិន្នន័យចំណូល៖\r\n                      </Typography.Title></span>}\r\n                    />\r\n                    <Typography.Title\r\n                      level={5}\r\n                      style={{\r\n                        color: theme.greenColor,\r\n                        lineHeight: 1\r\n                      }}\r\n                    >\r\n                      {parseFloat(dataDb?.total?.income).toFixed(2)}$\r\n                    </Typography.Title>\r\n                  </List.Item>\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      title={<span><Typography.Title\r\n                        level={5}\r\n                        style={{\r\n                          color: theme.blackColor,\r\n                          lineHeight: 1\r\n                        }}\r\n                      >\r\n                        ទិន្នន័យចំណាយ៖\r\n                      </Typography.Title></span>}\r\n                    />\r\n                    <Typography.Title\r\n                      level={5}\r\n                      style={{\r\n                        color: theme.pinkColor,\r\n                        lineHeight: 1\r\n                      }}\r\n                    >\r\n                      {parseFloat(dataDb?.total?.expense).toFixed(2)}$\r\n                    </Typography.Title>\r\n                  </List.Item>\r\n                </List>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col\r\n            xs={24}\r\n            md={12}\r\n          >\r\n            <div\r\n              style={{\r\n                borderRadius: 20,\r\n                boxShadow: \"1px 1px 5px #e5e5e5\",\r\n                height: \"100%\",\r\n                padding: 20\r\n              }}\r\n            >\r\n              <OrderDetailCompare dataDb1={dataDb?.expData?.paid} dataDb2={dataDb?.expData?.nonPaid} />\r\n              <div\r\n                style={{\r\n                  padding: 10\r\n                }}\r\n              >\r\n                <Typography.Title\r\n                  className=\"go-DashboardBox2\"\r\n                  style={{\r\n                    color: theme.blackColor\r\n                  }}\r\n                  underline\r\n                >\r\n                  ទិន្នន័យចំណូល\r\n                </Typography.Title>\r\n                <List>\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      title={<span><Typography.Title\r\n                        className=\"go-DashboardBox2\"\r\n                        style={{\r\n                          color: theme.blackColor,\r\n                          lineHeight: 1\r\n                        }}\r\n                      >\r\n                        ប្រាក់ទូទាត់រួច៖\r\n                      </Typography.Title></span>}\r\n                    />\r\n                    <Typography.Title\r\n                      className=\"go-DashboardBox2\"\r\n                      style={{\r\n                        color: theme.greenColor,\r\n                        lineHeight: 1\r\n                      }}\r\n                    >\r\n                      {parseFloat(dataDb?.expData?.paid).toFixed(2)}$\r\n                    </Typography.Title>\r\n                  </List.Item>\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      title={<span><Typography.Title\r\n                        className=\"go-DashboardBox2\"\r\n                        style={{\r\n                          color: theme.blackColor,\r\n                          lineHeight: 1\r\n                        }}\r\n                      >\r\n                        ប្រាក់មិនទាន់ទូទាត់៖\r\n                      </Typography.Title></span>}\r\n                    />\r\n                    <Typography.Title\r\n                      className=\"go-DashboardBox2\"\r\n                      style={{\r\n                        color: theme.pinkColor,\r\n                        lineHeight: 1\r\n                      }}\r\n                    >\r\n                      {parseFloat(dataDb?.expData?.nonPaid).toFixed(2)}$\r\n                    </Typography.Title>\r\n                  </List.Item>\r\n                </List>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col\r\n            xs={24}\r\n            md={12}\r\n          >\r\n            <div\r\n              style={{\r\n                borderRadius: 20,\r\n                boxShadow: \"1px 1px 5px #e5e5e5\",\r\n                height: \"100%\",\r\n                padding: 20\r\n              }}\r\n            >\r\n              <OrderDetailCompare dataDb1={dataDb?.incData?.paid} dataDb2={dataDb?.incData?.nonPaid} />\r\n              <div\r\n                style={{\r\n                  padding: 10\r\n                }}\r\n              >\r\n                <Typography.Title\r\n                  className=\"go-DashboardBox2\"\r\n                  style={{\r\n                    color: theme.blackColor\r\n                  }}\r\n                  underline\r\n                >\r\n                  ទិន្នន័យចំណាយ\r\n                </Typography.Title>\r\n                <List>\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      title={<span><Typography.Title\r\n                        className=\"go-DashboardBox2\"\r\n                        style={{\r\n                          color: theme.blackColor,\r\n                          lineHeight: 1\r\n                        }}\r\n                      >\r\n                        ប្រាក់ទូទាត់រួច៖\r\n                      </Typography.Title></span>}\r\n                    />\r\n                    <Typography.Title\r\n                      className=\"go-DashboardBox2\"\r\n                      style={{\r\n                        color: theme.greenColor,\r\n                        lineHeight: 1\r\n                      }}\r\n                    >\r\n                      {parseFloat(dataDb?.incData?.paid).toFixed(2)}$\r\n                    </Typography.Title>\r\n                  </List.Item>\r\n                  <List.Item>\r\n                    <List.Item.Meta\r\n                      title={<span><Typography.Title\r\n                        className=\"go-DashboardBox2\"\r\n                        style={{\r\n                          color: theme.blackColor,\r\n                          lineHeight: 1\r\n                        }}\r\n                      >\r\n                        ប្រាក់មិនទាន់ទូទាត់៖\r\n                      </Typography.Title></span>}\r\n                    />\r\n                    <Typography.Title\r\n                      className=\"go-DashboardBox2\"\r\n                      style={{\r\n                        color: theme.pinkColor,\r\n                        lineHeight: 1\r\n                      }}\r\n                    >\r\n                      {parseFloat(dataDb?.incData?.nonPaid).toFixed(2)}$\r\n                    </Typography.Title>\r\n                  </List.Item>\r\n                </List>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getAuth } from 'firebase/auth'\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC43sq-QmgD5U4VAdTSwExv06FTIeBMErg\",\r\n  authDomain: \"goglobal2021-2775b.firebaseapp.com\",\r\n  databaseURL: \"https://goglobal2021-2775b-default-rtdb.firebaseio.com\",\r\n  projectId: \"goglobal2021-2775b\",\r\n  storageBucket: \"goglobal2021-2775b.appspot.com\",\r\n  messagingSenderId: \"968166290653\",\r\n  appId: \"1:968166290653:web:740a6c9ea87f028b281734\",\r\n  measurementId: \"G-CS75SP4K1X\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth()\r\nexport const storage = getStorage(app);\r\n","export const msgTitle = {\r\n    CREATE: \"ការបញ្ចូលបានជោគជ័យ\",\r\n    UPDATE: \"ការកែប្រែបានជោគជ័យ\",\r\n    DELETE: \"ការលុបបានជោគជ័យ\",\r\n}","export const colorBadge = [\r\n    'pink',\r\n    'brown',\r\n    'yellow',\r\n    'orange',\r\n    'cyan',\r\n    'green',\r\n    'blue',\r\n    'purple',\r\n    'geekblue',\r\n    'magenta',\r\n    'volcano',\r\n    'gold',\r\n    'lime',\r\n];","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_PRODUCT = gql`\r\n    query getProducts($input: InputPagination) {\r\n        getProducts(input: $input) {\r\n            data {\r\n                code\r\n                id\r\n                description\r\n                image\r\n                cost\r\n                price\r\n                um\r\n                category {\r\n                    id\r\n                    description\r\n                }\r\n                inStock\r\n                remark\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_ALL_PRODUCT_NO_PAGE = gql`\r\n    query GetAllProducts {\r\n        getAllProducts {\r\n            id\r\n            # code\r\n            description\r\n            image\r\n            cost\r\n            price\r\n            um\r\n            category {\r\n                id\r\n                description\r\n                product\r\n            }\r\n            inStock\r\n            remark\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_PRODUCT_BY_ID = gql`\r\n    mutation getProductById($input: InputId!) {\r\n        getProductById(input: $input) {\r\n            id\r\n            code\r\n            description\r\n            image\r\n            cost\r\n            price\r\n            um\r\n            category {\r\n                id\r\n                description\r\n                product\r\n            }\r\n            inStock\r\n            remark\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_PRODUCT_BY_CTG = gql`\r\n    query Query($input: InputPagination) {\r\n        getProductBySelectCTG(input: $input) {\r\n            data {\r\n                id\r\n                code\r\n                description\r\n                image\r\n                cost\r\n                price\r\n                um\r\n                inStock\r\n                remark\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_PRODUCT = gql`\r\n    mutation SetProductsMutation($input: ProductInputSet) {\r\n        setProducts(input: $input) {\r\n            id\r\n            code\r\n            description\r\n            image\r\n            cost\r\n            price\r\n            um\r\n            category {\r\n                id\r\n                description\r\n            }\r\n            inStock\r\n            remark\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_PRODUCT = gql`\r\n    mutation UpdateProductsMutation($input: ProductInputUpdate) {\r\n        updateProducts(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_PRODUCT = gql`\r\n    mutation deleteProducts($input: ProductInputDelete) {\r\n        deleteProducts(input: $input)\r\n    }\r\n`\r\n\r\nexport const GET_ALL_CATEGORY = gql`\r\n    query getCategories($input: InputPagination) {\r\n        getCategories(input: $input) {\r\n            data {\r\n                id\r\n                description\r\n                product\r\n            }\r\n            message\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_CATEGORY = gql`\r\n    mutation SetCategoriesMutation($input: CategoryInputSet) {\r\n        setCategories(input: $input) {\r\n            id\r\n            description\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_CATEGORY = gql`\r\n    mutation UpdateCategoriesMutation($input: CategoryInputUpdate) {\r\n        updateCategories(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_CATEGORY = gql`\r\n    mutation DeleteCategoriesMutation($input: CategoryInputDelete) {\r\n     deleteCategories(input: $input)\r\n    }\r\n`","import { useMutation } from '@apollo/client'\r\nimport { Modal, Input, Button, Alert, Popconfirm } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { ADD_CATEGORY, DELETE_CATEGORY, GET_ALL_CATEGORY, UPDATE_CATEGORY } from '../../../graphql/product'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddEditCategory({ open, setOpen, type, data, getRole }) {\r\n    const [setCategories] = useMutation(ADD_CATEGORY, mutationCallBackFn(GET_ALL_CATEGORY, 'getCategories'))\r\n\r\n    const [updateCategories] = useMutation(UPDATE_CATEGORY, mutationCallBackFn(GET_ALL_CATEGORY, 'getCategories'))\r\n\r\n    const [deleteCategories] = useMutation(DELETE_CATEGORY, mutationCallBackFn(GET_ALL_CATEGORY, 'getCategories'))\r\n\r\n    const [dsp, setDsp] = useState(\"\")\r\n\r\n    const [errorMsg, setErrorMsg] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        if (data !== {}) {\r\n            setDsp(data?.description)\r\n        }\r\n    }, [data])\r\n\r\n    const onAddNewFn = () => {\r\n        if (!dsp) {\r\n            setErrorMsg(\"សូមបញ្ចូលបរិយាយ\")\r\n        } else {\r\n            setCategories({\r\n                variables: {\r\n                    input: {\r\n                        description: dsp\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    console.log(result)\r\n                    noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n\r\n                    setOpen(false)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const onUpdateFn = () => {\r\n        if (!dsp) {\r\n            setErrorMsg(\"សូមបញ្ចូលបរិយាយ\")\r\n        } else {\r\n            updateCategories({\r\n                variables: {\r\n                    input: {\r\n                        id: data?.id,\r\n                        description: dsp\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    console.log(result)\r\n                    noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n\r\n                    setOpen(false)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const onDeleteFn = () => {\r\n        deleteCategories({\r\n            variables: {\r\n                input: {\r\n                    id: data?.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                console.log(result)\r\n                noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n\r\n                setOpen(false)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ប្រភេទទំនិញ\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={[\r\n                type !== \"add\" &&\r\n                <Popconfirm\r\n                    key=\"delete\"\r\n                    title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                    okText=\"ចង់\"\r\n                    cancelText=\"មិនចង់\"\r\n                    okType=\"danger\"\r\n                    placement=\"bottom\"\r\n                    onConfirm={() => onDeleteFn()}\r\n                    disabled={!getRole?.delete}\r\n                    btnSize={theme.btnSize}\r\n                >\r\n                    <Button\r\n                        danger\r\n                        style={{\r\n                            float: \"left\"\r\n                        }}\r\n                        disabled={!getRole?.delete}\r\n                        size={theme.btnSize}\r\n                    >\r\n                        លុប\r\n                    </Button>\r\n                </Popconfirm>,\r\n                type === \"add\" ? <Button\r\n                    key=\"submit\"\r\n                    type=\"primary\"\r\n                    onClick={() => onAddNewFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ចូលថ្មី\r\n                </Button> : <Button\r\n                    key=\"update\"\r\n                    type=\"primary\"\r\n                    disabled={!getRole?.update}\r\n                    onClick={() => onUpdateFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    កែប្រែ\r\n                </Button>\r\n            ]}\r\n        >\r\n            <label>បរិយាយ</label>\r\n            <Input\r\n                value={dsp}\r\n                onChange={e => {\r\n                    setDsp(e.target.value)\r\n                    setErrorMsg(\"\")\r\n                }}\r\n            />\r\n            {errorMsg && (\r\n                <Alert\r\n                    style={{\r\n                        marginTop: 10\r\n                    }}\r\n                    message={errorMsg}\r\n                    type=\"error\"\r\n                />\r\n            )}\r\n        </Modal>\r\n    )\r\n}\r\n","import { useLazyQuery } from '@apollo/client'\r\nimport { Col, Badge, Divider, Tag, List, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { PlusOutlined, SortAscendingOutlined, SortDescendingOutlined } from '@ant-design/icons';\r\nimport { colorBadge } from '../../asset/data/colorBadge'\r\nimport { GET_ALL_CATEGORY } from '../../graphql/product'\r\nimport AddEditCategory from './modal/addEditCategory';\r\n\r\nexport default function Category({ getRole }) {\r\n\r\n    // console.log(getRole)\r\n    const [getCategories, { data: CategoryDb }] = useLazyQuery(GET_ALL_CATEGORY, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n    const [sortData, setSortData] = useState(false)\r\n    const [data, setData] = useState([])\r\n\r\n    const [typeBtn, setTypeBtn] = useState(\"add\")\r\n\r\n    const [openAddEdit, setOpenAddEdit] = useState(false)\r\n\r\n    useEffect(() => {\r\n        getCategories({\r\n            variables: {\r\n                input: {\r\n                    keyword: \"\"\r\n                }\r\n            }\r\n        })\r\n    }, [getCategories])\r\n\r\n    useEffect(() => {\r\n        setData(CategoryDb)\r\n    }, [CategoryDb])\r\n\r\n    const openAddEditFn = (type, e) => {\r\n        if (type === \"add\") {\r\n            setUpdateData({})\r\n        } else {\r\n            setUpdateData(e)\r\n        }\r\n        setTypeBtn(type)\r\n        setOpenAddEdit(true)\r\n    }\r\n\r\n    const onSortFn = () => {\r\n\r\n        if (sortData) {\r\n            let newArray = [...data?.getCategories?.data]\r\n            let array = newArray.sort(function (a, b) {\r\n                return parseInt(a.product) - parseInt(b.product);\r\n            })\r\n\r\n            setData({\r\n                getCategories: {\r\n                    data: array\r\n                }\r\n            })\r\n        } else {\r\n            let newArray = [...data?.getCategories?.data]\r\n            let array = newArray.sort(function (a, b) {\r\n                return parseInt(b.product) - parseInt(a.product);\r\n            })\r\n\r\n            setData({\r\n                getCategories: {\r\n                    data: array\r\n                }\r\n            })\r\n        }\r\n\r\n        setSortData(e => !e)\r\n    }\r\n\r\n    return (\r\n        <Col\r\n            xs={6}\r\n        >\r\n            <AddEditCategory open={openAddEdit} setOpen={setOpenAddEdit} type={typeBtn} data={updateData} getRole={getRole} />\r\n            <Divider orientation=\"left\">\r\n                ប្រភេទទំនិញ\r\n                <Button\r\n                    type=\"link\"\r\n                    size=\"small\"\r\n                    onClick={() => onSortFn()}\r\n                >\r\n                    {sortData ?\r\n                        <SortDescendingOutlined />\r\n                        : <SortAscendingOutlined />}\r\n                </Button>\r\n            </Divider>\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={data?.getCategories?.data}\r\n                renderItem={load => (\r\n                    <List.Item>\r\n                        <List.Item.Meta\r\n                            onClick={() => openAddEditFn(\"update\", load)}\r\n                            title={<span><Badge color={colorBadge[parseInt(Math.random() * 10)]} text={load.description} className=\"click-cursor\" /></span>}\r\n                        />\r\n                        <span\r\n                            style={{\r\n                                // color: colorBadge[parseInt(Math.random() * 10)]\r\n                            }}\r\n                        >\r\n                            {load.product} ទំនិញ\r\n                        </span>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n            {/* {CategoryDb?.getCategories?.data?.map((load) => (\r\n                <div\r\n                    key={load.id}\r\n                    onClick={() => openAddEditFn(\"update\", load)}\r\n                    style={{\r\n                        width: \"100%\",\r\n                        marginBottom: 5\r\n                    }}\r\n                >\r\n                    <Space>\r\n                        <Badge color={colorBadge[parseInt(Math.random() * 10)]} text={load.description} className=\"click-cursor\" />\r\n                        <span\r\n                            style={{\r\n                                // color: colorBadge[parseInt(Math.random() * 10)]\r\n                            }}\r\n                        >\r\n                            {load.product} ទំនិញ\r\n                        </span>\r\n                    </Space>\r\n                </div>\r\n            ))} */}\r\n            <br />\r\n            {getRole?.create &&\r\n                <Tag color=\"blue\" className=\"site-tag-plus\" onClick={() => openAddEditFn(\"add\")} size=\"large\">\r\n                    <PlusOutlined /> បន្ថែមថ្មី\r\n                </Tag>\r\n            }\r\n        </Col>\r\n    )\r\n}\r\n","import { Upload } from 'antd';\r\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport { getDownloadURL, ref, uploadBytesResumable } from '@firebase/storage';\r\nimport { storage } from '../../../api/config';\r\nimport { useMutation } from '@apollo/client';\r\nimport { GET_ALL_PRODUCT, UPDATE_PRODUCT } from '../../../graphql/product';\r\nimport { mutationCallBackFn } from '../../../functions/fn';\r\n\r\nexport default function UploadProfile({type, imageUrl, setImageUrl, pid, onCloseFn }) {\r\n    const [updateProducts] = useMutation(UPDATE_PRODUCT, mutationCallBackFn(GET_ALL_PRODUCT, 'getProducts'))\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleChange = async info => {\r\n        setLoading(true)\r\n\r\n        const storageRef = ref(storage, `Product/${pid}`);\r\n        const metadata = {\r\n            contentType: 'image/jpeg',\r\n        };\r\n\r\n        const uploadTask = await uploadBytesResumable(storageRef, info.file, metadata);\r\n\r\n        uploadTask.task.on('state_changed',\r\n            () => {},\r\n            (error) => {\r\n                console.log(error)\r\n            },\r\n            () => {\r\n                console.log(pid)\r\n                getDownloadURL(uploadTask.ref).then((downloadURL) => {\r\n                    updateProducts({\r\n                        variables: {\r\n                            input: {\r\n                                id: pid,\r\n                                image: downloadURL\r\n                            }\r\n                        },\r\n                        update(_,result){\r\n                            setImageUrl(downloadURL)\r\n                            setLoading(false)\r\n                            if(type === \"add\"){\r\n                                onCloseFn()\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n            <div style={{ marginTop: 8 }}>បញ្ចូលរូបភាព</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <ImgCrop rotate>\r\n            <Upload\r\n                name=\"avatar\"\r\n                listType=\"picture-card\"\r\n                className=\"avatar-uploader\"\r\n                showUploadList={false}\r\n                customRequest={e => handleChange(e)}\r\n            >\r\n                {imageUrl ? <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n            </Upload>\r\n        </ImgCrop>\r\n    );\r\n}","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { Modal, Input, Button, Form, Row, Col, Select, InputNumber } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { ADD_PRODUCT, GET_ALL_CATEGORY, GET_ALL_PRODUCT, UPDATE_PRODUCT } from '../../../graphql/product'\r\nimport { theme } from '../../../static/theme'\r\nimport UploadProfile from '../comp/uploadProfile'\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function AddEditProduct({ open, setOpen, type, updateData }) {\r\n    const [form] = Form.useForm()\r\n\r\n    const [getCategories, { data: CategoryDb }] = useLazyQuery(GET_ALL_CATEGORY, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    const [setProducts] = useMutation(ADD_PRODUCT, mutationCallBackFn(GET_ALL_PRODUCT, 'getProducts'))\r\n    const [updateProducts] = useMutation(UPDATE_PRODUCT, mutationCallBackFn(GET_ALL_PRODUCT, 'getProducts'))\r\n\r\n    const [data, setData] = useState({})\r\n    const [imageUrl, setImageUrl] = useState(\"\")\r\n    const [pid, setPid] = useState(\"\")\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n\r\n    useEffect(() => {\r\n        if (updateData !== {}) {\r\n            setData({\r\n                ...updateData,\r\n                category: updateData?.category?.id\r\n            })\r\n            setPid(updateData?.id)\r\n            setImageUrl(updateData?.image)\r\n        }\r\n    }, [updateData])\r\n\r\n    useEffect(() => {\r\n        getCategories({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [getCategories, keyword])\r\n\r\n    const onFinish = (values) => {\r\n        if (type === \"add\") {\r\n            setProducts({\r\n                variables: {\r\n                    input: {\r\n                        ...values,\r\n                        code: null\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    console.log(result)\r\n                    noticeAction(\"success\", msgTitle.CREATE)\r\n                    // setOpen(false)\r\n                    setPid(result?.data?.setProducts?.id)\r\n                }\r\n            })\r\n        } else {\r\n            updateProducts({\r\n                variables: {\r\n                    input: {\r\n                        ...values,\r\n                        id: data?.id,\r\n                        image: imageUrl,\r\n                        code: null\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    console.log(result)\r\n                    noticeAction(\"success\", msgTitle.UPDATE)\r\n                    setOpen(false)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    const onCloseFn = () => {\r\n        form.resetFields()\r\n        setPid(\"\")\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ទំនិញ\"\r\n            visible={open}\r\n            onCancel={() => onCloseFn()}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addUpdateProduct\"\r\n                layout=\"vertical\"\r\n                hideRequiredMark\r\n                fields={convertUpdateData(type, data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n                autoComplete=\"off\"\r\n            >\r\n                {type === \"add\" ? (\r\n                    <Row gutter={16}>\r\n                        {pid !== undefined && pid !== \"\" ? (\r\n                            <Col\r\n                                xs={24}\r\n                                md={24}\r\n                            >\r\n                                <center>\r\n                                    <UploadProfile type={type} imageUrl={imageUrl} setImageUrl={setImageUrl} pid={pid} setPid={setPid} onCloseFn={onCloseFn} />\r\n                                </center>\r\n                            </Col>\r\n                        ) : (\r\n                            <Col\r\n                                xs={24}\r\n                                md={24}\r\n                            >\r\n                                <Row gutter={6}>\r\n                                    <Col\r\n                                        xs={24}\r\n                                        md={24}\r\n                                    >\r\n                                        <Form.Item\r\n                                            label=\"បរិយាយ\"\r\n                                            name=\"description\"\r\n                                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                                        >\r\n                                            <Input />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col\r\n                                        xs={24}\r\n                                        md={12}\r\n                                    >\r\n                                        <Form.Item\r\n                                            label=\"តម្លៃដើម\"\r\n                                            name=\"cost\"\r\n                                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"number\" }]}\r\n                                        >\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: \"100%\"\r\n                                                }}\r\n                                                size={theme.inputSize}\r\n                                                formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                            />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col\r\n                                        xs={24}\r\n                                        md={12}\r\n                                    >\r\n                                        <Form.Item\r\n                                            label=\"តម្លៃលក់\"\r\n                                            name=\"price\"\r\n                                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"number\" }]}\r\n                                        >\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: \"100%\"\r\n                                                }}\r\n                                                size={theme.inputSize}\r\n                                                formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                            />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col\r\n                                        xs={24}\r\n                                        md={12}\r\n                                    >\r\n                                        <Form.Item\r\n                                            label=\"ខ្នាត\"\r\n                                            name=\"um\"\r\n                                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                                        >\r\n                                            <Input />\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    <Col\r\n                                        xs={24}\r\n                                        md={12}\r\n                                    >\r\n                                        <Form.Item\r\n                                            label=\"ប្រភេទ\"\r\n                                            name=\"category\"\r\n                                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                                        >\r\n                                            <Select\r\n                                                showSearch\r\n                                                style={{ width: \"100%\" }}\r\n                                                placeholder=\"Category\"\r\n                                                optionFilterProp=\"children\"\r\n                                                onSearch={onSearch}\r\n                                                size={theme.selectSize}\r\n                                            >\r\n                                                {\r\n                                                    CategoryDb?.getCategories?.data.map(load =>\r\n                                                        <Option \r\n                                                            key={load.id} \r\n                                                            value={load.id}\r\n                                                        >\r\n                                                            {load.description}\r\n                                                        </Option>\r\n                                                    )\r\n                                                }\r\n                                            </Select>\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                    {/* <Col\r\n                                        xs={24}\r\n                                        md={24}\r\n                                    >\r\n                                        <Form.Item\r\n                                            label=\"ក្នុងស្តុក\"\r\n                                            name=\"inStock\"\r\n                                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"number\" }]}\r\n                                        >\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: \"100%\"\r\n                                                }}\r\n                                                size={theme.inputSize}\r\n                                            />\r\n                                        </Form.Item>\r\n                                    </Col> */}\r\n                                    <Col\r\n                                        xs={24}\r\n                                        md={24}\r\n                                    >\r\n                                        <Form.Item>\r\n                                            <Button\r\n                                                style={{\r\n                                                    width: \"100%\"\r\n                                                }}\r\n                                                type=\"primary\"\r\n                                                htmlType=\"submit\"\r\n                                                size={theme.btnSize}\r\n                                            >\r\n                                                បញ្ចូលថ្មី\r\n                                            </Button>\r\n                                        </Form.Item>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                        )}\r\n                    </Row>\r\n                ) : (\r\n                    <Row gutter={16}>\r\n                        <Col\r\n                                xs={24}\r\n                                md={24}\r\n                            >\r\n                                <center>\r\n                                    <UploadProfile type={type} imageUrl={imageUrl} setImageUrl={setImageUrl} pid={pid} setPid={setPid} onCloseFn={onCloseFn} />\r\n                                </center>\r\n                            </Col>\r\n                        <Col\r\n                            xs={24}\r\n                            md={24}\r\n                        >\r\n                            <Row gutter={6}>\r\n                                <Col\r\n                                    xs={24}\r\n                                    md={24}\r\n                                >\r\n                                    <Form.Item\r\n                                        label=\"បរិយាយ\"\r\n                                        name=\"description\"\r\n                                        rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                                    >\r\n                                        <Input />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    md={12}\r\n                                >\r\n                                    <Form.Item\r\n                                        label=\"តម្លៃដើម\"\r\n                                        name=\"cost\"\r\n                                        rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"number\" }]}\r\n                                    >\r\n                                        <InputNumber\r\n                                            style={{\r\n                                                width: \"100%\"\r\n                                            }}\r\n                                            size={theme.inputSize}\r\n                                            formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                            parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    md={12}\r\n                                >\r\n                                    <Form.Item\r\n                                        label=\"តម្លៃលក់\"\r\n                                        name=\"price\"\r\n                                        rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"number\" }]}\r\n                                    >\r\n                                        <InputNumber\r\n                                            style={{\r\n                                                width: \"100%\"\r\n                                            }}\r\n                                            size={theme.inputSize}\r\n                                            formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                            parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    md={12}\r\n                                >\r\n                                    <Form.Item\r\n                                        label=\"ខ្នាត\"\r\n                                        name=\"um\"\r\n                                        rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                                    >\r\n                                        <Input />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    md={12}\r\n                                >\r\n                                    <Form.Item\r\n                                        label=\"ប្រភេទ\"\r\n                                        name=\"category\"\r\n                                        rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                                    >\r\n                                        <Select\r\n                                            showSearch\r\n                                            style={{ width: \"100%\" }}\r\n                                            placeholder=\"Category\"\r\n                                            optionFilterProp=\"children\"\r\n                                            onSearch={onSearch}\r\n                                            size={theme.selectSize}\r\n                                        >\r\n                                            {\r\n                                                CategoryDb?.getCategories?.data.map(load =>\r\n                                                    <Option key={load.id} value={load.id}>{load.description}</Option>\r\n                                                )\r\n                                            }\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    md={24}\r\n                                >\r\n                                    <Form.Item>\r\n                                        <Button\r\n                                            style={{\r\n                                                width: \"100%\"\r\n                                            }}\r\n                                            type=\"primary\"\r\n                                            htmlType=\"submit\"\r\n                                            size={theme.btnSize}\r\n                                        >\r\n                                            បញ្ចូលថ្មី\r\n                                        </Button>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                )}\r\n\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","export const ProductsField = [\r\n    {\r\n        id: \"1\",\r\n        name: \"ប្រភេទទំនិញ\",\r\n        value: \"category\"\r\n    },\r\n    {\r\n        id: \"2\",\r\n        name: \"តម្លៃ\",\r\n        value: \"price\"\r\n    },\r\n    {\r\n        id: \"3\",\r\n        name: \"ចំនួនក្នុងស្តុក\",\r\n        value: \"inStock\"\r\n    }\r\n]","import { useLazyQuery } from '@apollo/client'\r\nimport { Modal, Form, Col, Row, Select, Divider, Checkbox, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { ProductsField } from '../../../asset/data/productsField'\r\nimport { GET_ALL_CATEGORY } from '../../../graphql/product'\r\nimport { theme } from '../../../static/theme'\r\n\r\nconst { Option } = Select\r\n\r\nexport default function SortFilterProduct({ open, setOpen, setSortData, setFilterData }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getCategories, { data: CategoryDb }] = useLazyQuery(GET_ALL_CATEGORY, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getCategories({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [getCategories, keyword])\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    const onFinish = async (values) => {\r\n        // console.log(values)\r\n\r\n        setSortData({\r\n            name: values.fieldname,\r\n            value: values.sort === undefined || !values.sort ? \"asc\" : \"desc\"\r\n        })\r\n\r\n        setFilterData({\r\n            name: \"category\",\r\n            value: values.category\r\n        })\r\n\r\n        setOpen(!open)\r\n    }\r\n\r\n    const onFinishFailed = (e) => {\r\n        console.log(\"Error Field: \", e)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Sort & Filter\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                layout=\"vertical\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Divider\r\n                            orientation=\"left\"\r\n                            style={{\r\n                                marginTop: 0   \r\n                            }}\r\n                        >\r\n                            Filter\r\n                        </Divider>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            // label=\"Filter By\"\r\n                            name=\"category\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Category\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                size={theme.selectSize}\r\n                            >\r\n                                <Option key={\"emply\"} value={\"emply\"}>{\"មិនកំណត់\"}</Option>\r\n                                {\r\n                                    CategoryDb?.getCategories?.data.map(load =>\r\n                                        <Option key={load.id} value={load.id}>{load.description}</Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Divider orientation=\"left\">Sort</Divider>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"fieldname\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Field name\"\r\n                                optionFilterProp=\"children\"\r\n                                size={theme.selectSize}\r\n                            >\r\n                                {\r\n                                    ProductsField.map(load =>\r\n                                        <Option key={load.id} value={load.value}>{load.name}</Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={12}\r\n                        style={{\r\n                            textAlign: \"center\"\r\n                        }}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"sort\"\r\n                            valuePropName=\"checked\"\r\n                        >\r\n                            <Checkbox>\r\n                                ពីធំទៅតូច\r\n                            </Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                កំណត់\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Descriptions, Image, Modal, Row } from 'antd'\r\nimport React from 'react'\r\n\r\nexport default function ViewProduct({ open, setOpen, data }) {\r\n    return (\r\n        <Modal\r\n            title={`អត្តលេខ៖ ${data?.id}`}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n            width={600}\r\n        >\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={10}\r\n                >\r\n                    <Image\r\n                        src={data?.image}\r\n                    />\r\n                    \r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={14}\r\n                >\r\n                    <Descriptions bordered size=\"small\">\r\n                        <Descriptions.Item span={3} label=\"បរិយាយ\">{data?.description}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"តម្លៃ\">{data?.price?.toFixed(2)}$</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"ខ្នាត\">{data?.um}</Descriptions.Item>    \r\n                        <Descriptions.Item span={3} label=\"ក្នុងស្តុក\">{data?.inStock}</Descriptions.Item>   \r\n                        <Descriptions.Item span={3} label=\"ប្រភេទទំនិញ\">{data?.category?.description}</Descriptions.Item>  \r\n                        <Descriptions.Item span={3} label=\"ចំណាំ\">{data?.remark}</Descriptions.Item>   \r\n                    </Descriptions>\r\n                </Col>\r\n            </Row>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, EyeOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Space, Tooltip, Image } from \"antd\"\r\nimport { theme } from \"../../../static/theme\"\r\n\r\nexport const ProductCol = ({ getRole, current, limit, setKeyword, dataDb, onViewFn, onAddFn, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'រូបភាព',\r\n                    dataIndex: 'image',\r\n                    width: 100,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Image\r\n                            width={20}\r\n                            height={20}\r\n                            src={row.image}\r\n                            preview={false}\r\n                        />\r\n                    },\r\n                },\r\n                {\r\n                    title: 'អត្ថលេខ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'បរិយាយ',\r\n                    dataIndex: 'description',\r\n                    width: 250,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.description}`}>\r\n                            {row.description}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃដើម',\r\n                    dataIndex: 'cost',\r\n                    key: 'cost',\r\n                    width: 100,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.cost}`}>\r\n                            {`${row.cost.toFixed(2)}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃលក់',\r\n                    dataIndex: 'price',\r\n                    key: 'price',\r\n                    width: 100,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.price}`}>\r\n                            {`${row.price.toFixed(2)}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ខ្នាត',\r\n                    dataIndex: 'um',\r\n                    align: \"center\",\r\n                    key: 'um',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                },\r\n                {\r\n                    title: 'ក្នុងឃ្លាំង',\r\n                    dataIndex: 'inStock',\r\n                    key: 'inStock',\r\n                    align: \"center\",\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.inStock}`}>\r\n                            {`${row.inStock}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ប្រភេទទំនិញ',\r\n                    dataIndex: 'category.descriptioon',\r\n                    key: 'category.descriptioon',\r\n                    width: 200,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    // filters: tableFilter(dataDb, \"category\", \"description\"),\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.category.description}`}>\r\n                            {`${row.category.description}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំណាំ',\r\n                    dataIndex: 'remark',\r\n                    key: 'remark',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.remark === null ? \"\" : row.remark}`}>\r\n                            {`${row.remark === null ? \"\" : row.remark}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                // {\r\n                //     title: 'ការចំណាយ',\r\n                //     dataIndex: 'totalAmount',\r\n                //     key: 'totalAmount',\r\n                //     width: 300,\r\n                //     ellipsis: true,\r\n                //     sorter: (a, b) => a.totalAmount - b.totalAmount,\r\n                // }\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    disabled= {!getRole?.create}\r\n                    onClick={() => onAddFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <Space>\r\n                            {getRole?.view &&\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    size=\"small\"\r\n                                    onClick={() => onViewFn(row)}\r\n                                >\r\n                                    <EyeOutlined />\r\n                                </Button>\r\n                            }\r\n                            {getRole?.update &&\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    size=\"small\"\r\n                                    onClick={() => onUpdateFn(row)}\r\n                                >\r\n                                    <EditOutlined />\r\n                                </Button>\r\n                            }\r\n                            {getRole?.delete &&\r\n                                <Popconfirm\r\n                                    title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                    okText=\"ចង់\"\r\n                                    cancelText=\"មិនចង់\"\r\n                                    okType=\"danger\"\r\n                                    placement=\"left\"\r\n                                    onConfirm={() => onDeleteFn(row)}\r\n                                >\r\n                                    <Button\r\n                                        type=\"link\"\r\n                                        danger\r\n                                        size=\"small\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Button>\r\n                                </Popconfirm>\r\n                            }\r\n                        </Space>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_USER = gql`\r\n    query getUsers {\r\n        getUsers {\r\n            data {\r\n                id\r\n                uid\r\n                token\r\n                displayName\r\n                email\r\n                contentRole {\r\n                    view\r\n                    create\r\n                    update\r\n                    delete\r\n                    content {\r\n                        title\r\n                        path\r\n                        id\r\n                        menu\r\n                    }\r\n                    sub\r\n                }\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_USER_CONTENT_BY_UID = gql`\r\n   query getContentById($input: InputId) {\r\n    # getContentById(input: $input)\r\n        getContentById(input: $input) {\r\n            profile {\r\n                id\r\n                uid\r\n                token\r\n                displayName\r\n                email\r\n                contentRole {\r\n                    content {\r\n                        path\r\n                    }\r\n                    view\r\n                    create\r\n                    update\r\n                    delete\r\n                }\r\n            }\r\n            content {\r\n                _id\r\n                title\r\n                path\r\n                contentId\r\n                # view\r\n                # create\r\n                # update\r\n                # delete\r\n                sub\r\n                menu\r\n            }\r\n\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_USER = gql`\r\n    mutation addUser($input: AddUserInput) {\r\n        addUser(input: $input) {\r\n            uid\r\n            token\r\n            displayName\r\n            email\r\n            contentRole {\r\n                view\r\n                create\r\n                update\r\n                delete\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_USER = gql`\r\n    mutation updateUser($input: UpdateUserInput) {\r\n        updateUser(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_USER = gql`\r\n    mutation deleteUser($input: InputId) {\r\n       deleteUser(input: $input)\r\n    }\r\n`\r\n\r\nexport const UPDATE_CONTENT = gql`\r\n    mutation updateContent($input: UpdateContentInput) {\r\n        updateContent(input: $input)\r\n    }\r\n`","import moment from \"moment\"\r\n\r\nexport const initState = {\r\n    logined: true,\r\n    urlPath: \"\"\r\n}\r\n\r\nexport const generalCustomer = {\r\n    customer: {\r\n        id: \"61adad4bf423b5edd9da0914\",\r\n        tel: \"\",\r\n        geolocation: {\r\n            lat: 13.351400748454818,\r\n            long: 103.8501936294368\r\n        },\r\n        remark: \"\",\r\n    },\r\n    deliver: {\r\n        id: \"61adad29f423b5edd9da0907\",\r\n        tel: \"\",\r\n        remark: \"\",\r\n        geolocation: {\r\n            lat: 13.351400748454818,\r\n            long: 103.8501936294368\r\n        }\r\n    },\r\n    date: moment()\r\n}","export const ACTION = {\r\n    ADD_PAYLOAD: \"ADD_PAYLOAD\"\r\n}\r\n\r\nexport function reducer(state, action) {\r\n    switch (action.type) {\r\n        case ACTION.ADD_PAYLOAD:\r\n            return action.payload;\r\n        case 'decrement':\r\n            return { count: state.count - 1 };\r\n        default:\r\n            throw new Error();\r\n    }\r\n}","import { useLazyQuery } from '@apollo/client'\r\nimport { onAuthStateChanged } from '@firebase/auth'\r\nimport React, { createContext, useEffect, useReducer, useState } from 'react'\r\nimport { auth } from '../api/config'\r\nimport { noticeAction } from '../functions/fn'\r\nimport { GET_USER_CONTENT_BY_UID } from '../graphql/user'\r\nimport { initState } from './initialState'\r\nimport { ACTION, reducer } from './reducer'\r\n\r\nexport const DataController = createContext()\r\n\r\nexport default function DataProvider({ children }) {\r\n    const [urlPath, urlPathDispatch] = useReducer(reducer, initState.urlPath)\r\n\r\n    const [user, setUser] = useState({})\r\n    const [logined, loginedDispatch] = useReducer(reducer, initState.logined)\r\n\r\n    const [getContentById, { data: content }] = useLazyQuery(GET_USER_CONTENT_BY_UID, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n        fetchPolicy: \"network-only\",\r\n        errorPolicy: 'all'\r\n    })\r\n\r\n    useEffect(() => {\r\n        onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                // console.log(user)\r\n                setUser(user)\r\n                getContentById({\r\n                    variables: {\r\n                        input: {\r\n                            id: user.uid\r\n                        }\r\n                    }\r\n                })\r\n            } else {\r\n                // User is signed out\r\n                // ...\r\n                // console.log(user)\r\n                setUser(user)\r\n                // console.log(content)\r\n            }\r\n        });\r\n    }, [getContentById])\r\n\r\n    // console.log(content)\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n          loginedDispatch({ type: ACTION.ADD_PAYLOAD, payload: false })\r\n        }, 3000)\r\n      }, [loginedDispatch, logined])\r\n\r\n    return (\r\n        <DataController.Provider\r\n            value={{\r\n                content,\r\n                logined, loginedDispatch,\r\n                user,\r\n                urlPath, urlPathDispatch\r\n            }}\r\n        >\r\n            {children}\r\n        </DataController.Provider>\r\n    )\r\n}\r\n","import { FilterOutlined } from '@ant-design/icons';\r\nimport { useLazyQuery, useMutation } from '@apollo/client';\r\nimport { deleteObject, ref } from '@firebase/storage';\r\nimport { Button, Col, Divider, Row, Table } from 'antd'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { storage } from '../api/config';\r\nimport { msgTitle } from '../asset/data/msgTitle';\r\nimport Category from '../components/product/category';\r\nimport AddEditProduct from '../components/product/modal/addEditProduct';\r\nimport SortFilterProduct from '../components/product/modal/sortFilterProduct';\r\nimport ViewProduct from '../components/product/modal/viewProduct';\r\nimport { ProductCol } from '../components/product/tableColds/productCol';\r\nimport { DataController } from '../context/dataProvider';\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn';\r\nimport { DELETE_PRODUCT, GET_ALL_PRODUCT } from '../graphql/product';\r\nimport { theme } from '../static/theme';\r\n\r\nexport default function Product() {\r\n    const { content, urlPath} = useContext(DataController)\r\n\r\n    let role = content?.getContentById?.profile?.contentRole\r\n\r\n    const [getProducts, { data: dataDb, loading }] = useLazyQuery(GET_ALL_PRODUCT, {\r\n        fetchPolicy: \"network-only\",\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [deleteProducts] = useMutation(DELETE_PRODUCT, mutationCallBackFn(GET_ALL_PRODUCT, 'getProducts'))\r\n\r\n    const [getRole, setGetRole] = useState({})\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n    const [viewData, setViewData] = useState({})\r\n\r\n    const [openType, setOpenType] = useState(\"add\")\r\n\r\n    const [openAddUpdate, setOpenAddUpdate] = useState(false)\r\n    const [openView, setOpenView] = useState(false)\r\n    const [openSortFilter, setOpenSortFilter] = useState(false)\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(100)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n    const [sort, setSort] = useState({\r\n        name: \"\",\r\n        value: \"\",\r\n    })\r\n    const [filter, setFilter] = useState({\r\n        name: \"\",\r\n        value: \"\",\r\n    })\r\n\r\n    useEffect(() => {\r\n        getProducts({\r\n            variables: {\r\n                input: {\r\n                    current: current,\r\n                    limit: limit,\r\n                    keyword: keyword,\r\n                    sort: sort,\r\n                    filter: filter\r\n                }\r\n            }\r\n        })\r\n    }, [limit, current, keyword, sort, filter, getProducts])\r\n\r\n    useEffect(() => {\r\n        setGetRole(role?.find(ele => ele.content.path === urlPath))\r\n    }, [urlPath, role])\r\n\r\n    const onAddFn = (e) => {\r\n        setOpenType(\"add\")\r\n        setOpenAddUpdate(true)\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setOpenType(\"update\")\r\n        setUpdateData(e)\r\n        setOpenAddUpdate(true)\r\n    }\r\n\r\n    const onViewFn = (e) => {\r\n        setViewData(e)\r\n        setOpenView(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteProducts({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            async update(_, result) {\r\n                if(e.image){\r\n                    const desertRef = ref(storage, `${e.image}`);\r\n                    // Delete the file\r\n                    await deleteObject(desertRef).then(() => {\r\n                        // File deleted successfully\r\n                        noticeAction(\"success\", msgTitle.DELETE)\r\n                    }).catch((error) => {\r\n                        // Uh-oh, an error occurred!\r\n                    noticeAction(\"error\", error)\r\n                    });\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <Row gutter={50}>\r\n            <SortFilterProduct open={openSortFilter} setOpen={setOpenSortFilter} setSortData={setSort} setFilterData={setFilter} />\r\n            <AddEditProduct open={openAddUpdate} setOpen={setOpenAddUpdate} type={openType} updateData={updateData} />\r\n            <ViewProduct open={openView} setOpen={setOpenView} data={viewData} />\r\n            <Col\r\n                xs={18}\r\n            >\r\n                <Divider orientation=\"left\">\r\n                    ទំនិញ\r\n                    <Button\r\n                        type=\"link\"\r\n                        size=\"small\"\r\n                        onClick={() => setOpenSortFilter(true)}\r\n                    >\r\n                        <FilterOutlined />\r\n                    </Button>\r\n                </Divider>\r\n                <Table\r\n                    {...loading}\r\n                    size={theme.tableSize}\r\n                    bordered\r\n                    columns={ProductCol({ getRole, current, limit, setKeyword, dataDb, onViewFn, onAddFn, onUpdateFn, onDeleteFn })}\r\n                    dataSource={dataDb?.getProducts?.data}\r\n                    sticky\r\n                    scroll={{ x: 500 }}\r\n                    rowKey={record => record.id}\r\n                    pagination={{\r\n                        showSizeChanger: true,\r\n                        total: dataDb?.getProducts?.pagination?.count,\r\n                        pageSize: limit,\r\n                        current: current,\r\n                        onChange: (page, pageSize) => {\r\n                            setCurrent(page)\r\n                            setLimit(pageSize)\r\n                        }\r\n                    }}\r\n                />\r\n            </Col>\r\n            <Category getRole={getRole} />\r\n        </Row>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_SALEORDER = gql`\r\n    query getSaleOrders($input: InputPagination) {\r\n        getSaleOrders(input: $input) {\r\n            data {\r\n                id\r\n                customer {\r\n                    id {\r\n                        lname\r\n                        fname\r\n                    }\r\n                    tel\r\n                    geolocation {\r\n                        lat\r\n                        long\r\n                        placename\r\n                    }\r\n                    remark\r\n                }\r\n                date\r\n                remark\r\n                productCount\r\n                subTotal\r\n                tax\r\n                offer\r\n                grandTotal\r\n                status {\r\n                    isPrepared\r\n                    isDelivered\r\n                    isCooked\r\n                    deliveryTime\r\n                    isPaid\r\n                    isCanceled\r\n                }\r\n                rate {\r\n                    rate\r\n                    comment\r\n                }\r\n                feedback\r\n                delivery\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const SUB_ALL_SALEORDER = gql`\r\n    subscription newSaleOrder {\r\n        newSaleOrder {\r\n            id\r\n            customer {\r\n                id {\r\n                    lname\r\n                    fname\r\n                }\r\n                tel\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                    placename\r\n                }\r\n                remark\r\n            }\r\n            date\r\n            remark\r\n            productCount\r\n            subTotal\r\n            tax\r\n            offer\r\n            grandTotal\r\n            status {\r\n                isPrepared\r\n                isDelivered\r\n                isCooked\r\n                deliveryTime\r\n                isPaid\r\n                isCanceled\r\n            }\r\n            rate {\r\n                rate\r\n                comment\r\n            }\r\n            feedback\r\n            delivery\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_SALEORDER = gql`\r\n    mutation setSaleOrders($input: SaleOrderInputSet) {\r\n        setSaleOrders(input: $input) {\r\n            id\r\n            customer {\r\n                id {\r\n                    lname\r\n                    fname\r\n                }\r\n                tel\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                    placename\r\n                }\r\n                remark\r\n            }\r\n            tel\r\n            date\r\n            remark\r\n            products {\r\n                product {\r\n                    description\r\n                }\r\n                qty\r\n                price\r\n                total\r\n            }\r\n            subTotal\r\n            tax\r\n            offer\r\n            grandTotal\r\n            delivery\r\n            payment\r\n        }\r\n    }\r\n`\r\n\r\nexport const VIEW_SALEORDER_BY_ID = gql`\r\n    query getSaleOrderById($input: InputId) {\r\n        getSaleOrderById(input: $input) {\r\n            id\r\n            customer {\r\n                id {\r\n                    id\r\n                    lname\r\n                    fname\r\n                }\r\n                tel\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                    placename\r\n                }\r\n                remark\r\n            }\r\n            deliver {\r\n                id{\r\n                    id\r\n                    lname\r\n                    fname\r\n                }\r\n                tel\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                }\r\n                remark\r\n            }\r\n            tel\r\n            date\r\n            remark\r\n            products {\r\n                product {\r\n                    description\r\n                    image\r\n                    um\r\n                    inStock\r\n                }\r\n                price\r\n                qty\r\n                total\r\n                remark\r\n                id\r\n            }\r\n            subTotal\r\n            tax\r\n            offer\r\n            grandTotal\r\n            delivery\r\n            payment\r\n            geolocation {\r\n                lat\r\n                long\r\n            }\r\n            status{\r\n                isPrepared\r\n                isCooked\r\n                isDelivered\r\n                isPaid\r\n                isCanceled\r\n                deliveryTime\r\n            }\r\n            rate {\r\n                rate\r\n                comment\r\n            }\r\n            feedback\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_SALEORDER = gql`\r\n    mutation updateSaleOrders($input: SaleOrderInputUpdate) {\r\n        updateSaleOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_SALEORDER = gql`\r\n    mutation deleteSaleOrders($input: SaleOrderInputDelete) {\r\n        deleteSaleOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const ADD_SUB_SALEORDER = gql`\r\n    mutation setSubSaleOrders($input: SaleOrderInputSubAdd) {\r\n        setSubSaleOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const UPDATE_SUB_SALEORDER = gql`\r\n    mutation updateSubSaleOrders($input: SaleOrderInputSubUpdate) {\r\n        updateSubSaleOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_SUB_SALEORDER = gql`\r\n    mutation deleteSubSaleOrders($input: SaleOrderInputDelete) {\r\n        deleteSubSaleOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const UPDATE_ORDER_STATUS = gql`\r\n    mutation updateOrderStatus($input: InputStatusWithId) {\r\n        updateOrderStatus(input: $input) {\r\n            isPrepared\r\n            isCooked\r\n            isDelivered\r\n            deliveryTime\r\n            isPaid\r\n        }\r\n    }\r\n`","import { DeleteOutlined, EyeOutlined, FileSyncOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Tooltip, Tag } from \"antd\"\r\nimport moment from \"moment\"\r\nimport { SyncOutlined } from '@ant-design/icons'\r\nimport { Link } from \"react-router-dom\"\r\nimport { theme } from \"../../../static/theme\"\r\n\r\nexport const SaleOrderCol = ({ current, limit, setKeyword, onSetStatusFn, onAddFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'លេខវិក័យបត្រ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'កាលបរិច្ឆេទ',\r\n                    dataIndex: 'date',\r\n                    key: 'date',\r\n                    align: \"center\",\r\n                    width: 150,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={moment(row.date).format(\"DD-MMM-YYYY\")}>\r\n                            {moment(row.date).format(\"DD-MMM-YYYY\")}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ទូរស័ព្ទ',\r\n                    dataIndex: 'tel',\r\n                    key: 'tel',\r\n                    width: 150,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.customer.tel}`}>\r\n                            +855(0){row.customer.tel}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះអតិថិជន',\r\n                    dataIndex: 'name',\r\n                    key: 'name',\r\n                    width: 200,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.customer.id.lname} ${row.customer.id.fname}`}>\r\n                            {row.customer.id.lname} {row.customer.id.fname}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃសរុប',\r\n                    dataIndex: 'subTotal',\r\n                    key: 'subTotal',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.subTotal}$`}>\r\n                            {`${row.subTotal}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'បញ្ចុះតម្លៃ',\r\n                    dataIndex: 'offer',\r\n                    key: 'offer',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.offer}$`}>\r\n                            {`${row.offer}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'កាត់ពន្ធ',\r\n                    dataIndex: 'tax',\r\n                    key: 'tax',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.tax}$`}>\r\n                            {`${row.tax}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃដឹកជញ្ជូន',\r\n                    dataIndex: 'delivery',\r\n                    key: 'delivery',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.delivery}$`}>\r\n                            {`${row.delivery}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃសរុបចុងក្រោយ',\r\n                    dataIndex: 'grandTotal',\r\n                    key: 'grandTotal',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.grandTotal}$`}>\r\n                            {`${row.grandTotal}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ស្ថានភាព',\r\n                    dataIndex: 'status',\r\n                    key: 'status',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return row.status.isCanceled ? (\r\n                            <Tag\r\n                                color=\"error\"\r\n                            >\r\n                                Cancel\r\n                            </Tag>\r\n                        ) : <div>\r\n                            <Tag\r\n                                color={row.status.isPrepared ? \"success\" : \"processing\"}\r\n                                icon={!row.status.isPrepared && <SyncOutlined spin />}\r\n                            >\r\n                                Prepared\r\n                            </Tag>\r\n                            <Tag\r\n                                color={row.status.isCooked ? \"success\" : \"processing\"}\r\n                                icon={!row.status.isCooked && <SyncOutlined spin />}\r\n                            >\r\n                                Cooked\r\n                            </Tag><br />\r\n                            <Tag\r\n                                color={row.status.isDelivered ? \"success\" : \"processing\"}\r\n                                icon={!row.status.isDelivered && <SyncOutlined spin />}\r\n                            >\r\n                                Delivered\r\n                            </Tag>\r\n                            <Tag\r\n                                color={row.status.isPaid ? \"success\" : \"processing\"}\r\n                                icon={!row.status.isPaid && <SyncOutlined spin />}\r\n                            >\r\n                                Paid\r\n                            </Tag>\r\n                            <Tag\r\n                                color=\"warning\"\r\n                            >\r\n                                {row.status.deliveryTime}min\r\n                            </Tag>\r\n\r\n                        </div>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ទំនិញ',\r\n                    dataIndex: 'productCount',\r\n                    key: 'productCount',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.productCount} ទំនិញ`}>\r\n                            {`${row.productCount} ទំនិញ`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំណាំ',\r\n                    dataIndex: 'remark',\r\n                    key: 'remark',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.remark === null ? \"\" : row.remark}`}>\r\n                            {`${row.remark === null ? \"\" : row.remark}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    size={theme.btnSize}\r\n                    onClick={() => onAddFn()}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <div>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onSetStatusFn(row)}\r\n                            >\r\n                                <FileSyncOutlined />\r\n                            </Button>\r\n                            <Link\r\n                                className=\"go-linkBtn\"\r\n                                // type=\"link\"\r\n                                size=\"small\"\r\n                                to={`/viewsaleorder/${row.id}`}\r\n                                // onClick={() => onViewFn(row)}\r\n                            >\r\n                                <EyeOutlined />\r\n                            </Link>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { useMutation } from '@apollo/client'\r\nimport { Modal, Form, Row, Col, Input, Checkbox, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { GET_ALL_SALEORDER, UPDATE_ORDER_STATUS } from '../../../graphql/saleOrder'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function SetStatusOrder({ open, setOpen, updateData }) {\r\n    const [updateOrderStatus] = useMutation(UPDATE_ORDER_STATUS, mutationCallBackFn(GET_ALL_SALEORDER, 'getSaleOrders'))\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        if(updateData){\r\n            setData(updateData.status)\r\n            // console.log(updateData.status)\r\n        }\r\n    }, [updateData])\r\n\r\n    const onFinish = (values) => {\r\n        console.log(values)\r\n        updateOrderStatus({\r\n            variables:{\r\n                input:{\r\n                    ...values,\r\n                    id: updateData?.id\r\n                }\r\n            },\r\n            update(_, result){\r\n                // console.log(result)\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n                setOpen(false)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n      };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ស្ថានភាព\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                name=\"setStatus\"\r\n                fields={convertUpdateData(\"update\", data !== undefined && data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row\r\n                    gutter={16}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"deliveryTime\"\r\n                        >\r\n                            <Input placeholder=\"Delivery Time\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isPrepared\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isPrepared</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isCooked\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isCooked</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isDelivered\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isDelivered</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isPaid\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isPaid</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isCanceled\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isCanceled</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                htmlType=\"submit\"\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table } from 'antd'\r\nimport { useMutation, useQuery } from '@apollo/client'\r\nimport { DELETE_SALEORDER, GET_ALL_SALEORDER, SUB_ALL_SALEORDER } from '../graphql/saleOrder'\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn'\r\nimport { SaleOrderCol } from '../components/saleOrder/tableCols/saleOrderCol'\r\nimport SetStatusOrder from '../components/saleOrder/modal/setStatusOrder'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { msgTitle } from '../asset/data/msgTitle'\r\nimport { theme } from '../static/theme'\r\n\r\nexport default function SaleOrder() {\r\n    let history = useHistory()\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(10)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    const { subscribeToMore, data: SaleOrderDb, loading } = useQuery(GET_ALL_SALEORDER, {\r\n        variables: {\r\n            input: {\r\n                current: current,\r\n                limit: limit,\r\n                keyword: keyword\r\n            }\r\n        },\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [deleteSaleOrders] = useMutation(DELETE_SALEORDER, mutationCallBackFn(GET_ALL_SALEORDER, 'getSaleOrders'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n\r\n    const [openStatus, setOpenStatus] = useState(false)\r\n\r\n    useEffect(() => {\r\n        subscribeToMore({\r\n            document: SUB_ALL_SALEORDER,\r\n            updateQuery: (prev, { subscriptionData }) => {\r\n                if (!subscriptionData.data) return prev;\r\n                const newSaleOrder = subscriptionData.data.newSaleOrder;\r\n                console.log(newSaleOrder)\r\n                return Object.assign({}, prev, {\r\n                    getSaleOrders: {\r\n                        ...prev.getSaleOrders,\r\n                        data: [newSaleOrder, ...prev.getSaleOrders.data].length > 10 ? [newSaleOrder, ...prev.getSaleOrders.data].slice(0, -1) : [newSaleOrder, ...prev.getSaleOrders.data]\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n    }, [subscribeToMore])\r\n\r\n\r\n    const onSetStatusFn = (e) => {\r\n        setUpdateData(e)\r\n        setOpenStatus(true)\r\n    }\r\n\r\n    const onAddFn = () => {\r\n        history.push(\"/addsaleorder\")\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteSaleOrders({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", msgTitle.DELETE)\r\n            }\r\n        })\r\n    }\r\n\r\n    // console.log(SaleOrderDb?.getSaleOrders?.data)\r\n\r\n    return (\r\n        <div>\r\n            <SetStatusOrder open={openStatus} setOpen={setOpenStatus} updateData={updateData} />\r\n            <Table\r\n                {...loading}\r\n                size={theme.tableSize}\r\n                bordered\r\n                columns={SaleOrderCol({ current, limit, setKeyword, onSetStatusFn, onAddFn, onDeleteFn })}\r\n                dataSource={SaleOrderDb?.getSaleOrders?.data}\r\n                sticky\r\n                scroll={{ x: 1500 }}\r\n                rowKey={record => record.id}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    total: SaleOrderDb?.getSaleOrders?.pagination?.count,\r\n                    pageSize: limit,\r\n                    current: current,\r\n                    onChange: (page, pageSize) => {\r\n                        setCurrent(page)\r\n                        setLimit(pageSize)\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_PURCHASEORDER = gql`\r\n    query getPurchaseOrders($input: InputPagination) {\r\n        getPurchaseOrders(input: $input) {\r\n            data {\r\n                id\r\n                supplier {\r\n                    id\r\n                    companyName\r\n                    tel\r\n                }\r\n                date\r\n                remark\r\n                productCount\r\n                subTotal\r\n                tax\r\n                offer\r\n                delivery\r\n                grandTotal\r\n                payment\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const SUB_ALL_PURCHASEORDER = gql`\r\n    subscription newPurchaseOrder {\r\n        newPurchaseOrder {  \r\n            id\r\n            supplier {\r\n                id\r\n                companyName\r\n            }\r\n            date\r\n            remark\r\n            productCount\r\n            subTotal\r\n            tax\r\n            offer\r\n            grandTotal\r\n            payment\r\n        }\r\n    }\r\n`\r\n\r\nexport const VIEW_PURCHASEORDER_BY_ID = gql`\r\n    query GetPurchaseOrderById($input: InputId) {\r\n        getPurchaseOrderById(input: $input) {\r\n            id\r\n            code\r\n            supplier {\r\n                companyName\r\n                tel\r\n                id\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                }\r\n            }\r\n            tel\r\n            date\r\n            remark\r\n            products {\r\n                product {\r\n                    id\r\n                    code\r\n                    description\r\n                    image\r\n                    um\r\n                    price\r\n                }\r\n                price\r\n                qty\r\n                total\r\n                id\r\n            }\r\n            productCount\r\n            subTotal\r\n            tax\r\n            offer\r\n            delivery\r\n            grandTotal\r\n            payment\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_PURCHASEORDER = gql`\r\n    mutation setPurchaseOrders($input: PurchaseOrderInputSet) {\r\n        setPurchaseOrders(input: $input) {\r\n            id\r\n            supplier {\r\n                id\r\n                companyName\r\n            }\r\n            tel\r\n            date\r\n            remark\r\n            products {\r\n                product {\r\n                    description\r\n                }\r\n                qty\r\n                price\r\n                total\r\n            }\r\n            subTotal\r\n            tax\r\n            offer\r\n            grandTotal\r\n            payment\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_PURCHASEORDER = gql`\r\n    mutation updatePurchaseOrders($input: PurchaseOrderInputUpdate) {\r\n        updatePurchaseOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_PURCHASEORDER = gql`\r\n    mutation deletePurchaseOrders($input: PurchaseOrderInputDelete) {\r\n        deletePurchaseOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const ADD_SUB_PURCHASEORDER = gql`\r\n    mutation setSubPurchaseOrders($input: PurchaseOrderInputSubAdd) {\r\n        setSubPurchaseOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const UPDATE_SUB_PURCHASEORDER = gql`\r\n    mutation updateSubPurchaseOrders($input: PurchaseOrderInputSubUpdate) {\r\n        updateSubPurchaseOrders(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_SUB_PURCHASEORDER = gql`\r\n    mutation deleteSubPurchaseOrders($input: PurchaseOrderInputDelete) {\r\n        deleteSubPurchaseOrders(input: $input)\r\n    }\r\n`","import { DeleteOutlined, EyeOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Tooltip, Tag } from \"antd\"\r\nimport moment from \"moment\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport const PurchaseOrderCol = ({ current, limit, setKeyword, onSetStatusFn, onAddFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'លេខវិក័យបត្រ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'កាលបរិច្ឆេទ',\r\n                    dataIndex: 'date',\r\n                    key: 'date',\r\n                    width: 200,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={moment(row.date).format(\"DD-MMM-YYYY\")}>\r\n                            {moment(row.date).format(\"DD-MMM-YYYY\")}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ទូរស័ព្ទ',\r\n                    dataIndex: 'tel',\r\n                    key: 'tel',\r\n                    width: 150,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row?.supplier?.tel}`}>\r\n                            +855(0){row?.supplier?.tel}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះអ្នកផ្គត់ផ្គង់',\r\n                    dataIndex: 'companyName',\r\n                    key: 'companyName',\r\n                    width: 200,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row?.supplier?.companyName}`}>\r\n                            {row?.supplier?.companyName}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃសរុប',\r\n                    dataIndex: 'subTotal',\r\n                    key: 'subTotal',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.subTotal}$`}>\r\n                            {`${row.subTotal}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'បញ្ចុះតម្លៃ',\r\n                    dataIndex: 'offer',\r\n                    key: 'offer',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.offer}$`}>\r\n                            {`${row.offer}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'កាត់ពន្ធ',\r\n                    dataIndex: 'tax',\r\n                    key: 'tax',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.tax}$`}>\r\n                            {`${row.tax}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃដឹកជញ្ជូន',\r\n                    dataIndex: 'delivery',\r\n                    key: 'delivery',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.delivery}$`}>\r\n                            {`${row.delivery}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃសរុបចុងក្រោយ',\r\n                    dataIndex: 'grandTotal',\r\n                    key: 'grandTotal',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.grandTotal}$`}>\r\n                            {`${row.grandTotal}$`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ស្ថានភាព',\r\n                    dataIndex: 'status',\r\n                    key: 'status',\r\n                    width: 150,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return row?.payment <= 0 ? (\r\n                            <Tag\r\n                                color=\"error\"\r\n                            >\r\n                                Non-Paid\r\n                            </Tag>\r\n                        ) : (\r\n                            <Tag\r\n                                color=\"success\"\r\n                            >\r\n                                Paid\r\n                            </Tag>\r\n                        )\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ទំនិញ',\r\n                    dataIndex: 'productCount',\r\n                    key: 'productCount',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        // console.log(row)\r\n                        return <Tooltip title={`${row.productCount} ទំនិញ`}>\r\n                            {`${row.productCount} ទំនិញ`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំណាំ',\r\n                    dataIndex: 'remark',\r\n                    key: 'remark',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.remark === null ? \"\" : row.remark}`}>\r\n                            {`${row.remark === null ? \"\" : row.remark}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    onClick={() => onAddFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <div>\r\n                            {/* <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onSetStatusFn(row)}\r\n                            >\r\n                                <FileSyncOutlined />\r\n                            </Button> */}\r\n                            <Link\r\n                                className=\"go-linkBtn\"\r\n                                // type=\"link\"\r\n                                size=\"small\"\r\n                                to={`/viewpurchaseorder/${row.id}`}\r\n                                // onClick={() => onViewFn(row)}\r\n                            >\r\n                                <EyeOutlined />\r\n                            </Link>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Table } from 'antd'\r\nimport { useMutation, useQuery } from '@apollo/client'\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn'\r\nimport SetStatusOrder from '../components/saleOrder/modal/setStatusOrder'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { msgTitle } from '../asset/data/msgTitle'\r\nimport { DELETE_PURCHASEORDER, GET_ALL_PURCHASEORDER, SUB_ALL_PURCHASEORDER } from '../graphql/purchaseOrder'\r\nimport { PurchaseOrderCol } from '../components/purchaseOrder/tableCols/purchaseCol'\r\nimport { theme } from '../static/theme'\r\n\r\nexport default function PurchaseOrder() {\r\n    let history = useHistory()\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(10)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    const { subscribeToMore, data: PurchaseOrderDb, loading } = useQuery(GET_ALL_PURCHASEORDER, {\r\n        variables: {\r\n            input: {\r\n                current: current,\r\n                limit: limit,\r\n                keyword: keyword\r\n            }\r\n        },\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [deletePurchaseOrders] = useMutation(DELETE_PURCHASEORDER, mutationCallBackFn(GET_ALL_PURCHASEORDER, 'getPurchaseOrders'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n\r\n    const [openStatus, setOpenStatus] = useState(false)\r\n\r\n    useEffect(() => {\r\n        subscribeToMore({\r\n            document: SUB_ALL_PURCHASEORDER,\r\n            updateQuery: (prev, { subscriptionData }) => {\r\n                if (!subscriptionData.data) return prev;\r\n                const newSaleOrder = subscriptionData.data.newSaleOrder;\r\n                console.log(newSaleOrder)\r\n                return Object.assign({}, prev, {\r\n                    getSaleOrders: {\r\n                        ...prev.getPurchaseOrders,\r\n                        data: [newSaleOrder, ...prev.getPurchaseOrders.data].length > 10 ? [newSaleOrder, ...prev.getPurchaseOrders.data].slice(0, -1) : [newSaleOrder, ...prev.getPurchaseOrders.data]\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n    }, [subscribeToMore])\r\n\r\n\r\n    const onSetStatusFn = (e) => {\r\n        setUpdateData(e)\r\n        setOpenStatus(true)\r\n    }\r\n\r\n    const onAddFn = () => {\r\n        history.push(\"/addpurchaseorder\")\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deletePurchaseOrders({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", msgTitle.DELETE)\r\n            }\r\n        })\r\n    }\r\n\r\n    // console.log(SaleOrderDb?.getSaleOrders?.data)\r\n    // console.log(PurchaseOrderDb)\r\n\r\n    return (\r\n        <div>\r\n            <SetStatusOrder open={openStatus} setOpen={setOpenStatus} updateData={updateData} />\r\n            <Table\r\n                {...loading}\r\n                size={theme.tableSize}\r\n                bordered\r\n                columns={PurchaseOrderCol({ current, limit, setKeyword, onSetStatusFn, onAddFn, onDeleteFn })}\r\n                dataSource={PurchaseOrderDb?.getPurchaseOrders?.data}\r\n                sticky\r\n                scroll={{ x: 1500 }}\r\n                rowKey={record => record.id}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    total: PurchaseOrderDb?.getPurchaseOrders?.pagination?.count,\r\n                    pageSize: limit,\r\n                    current: current,\r\n                    onChange: (page, pageSize) => {\r\n                        setCurrent(page)\r\n                        setLimit(pageSize)\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const CREATE_GENERATE_INVENTORY = gql`\r\n    mutation generateInventory($input: generateInvInput) {\r\n        generateInventory(input: $input)\r\n    }\r\n`\r\n\r\nexport const CREATE_GENERATE_ACCOUNTING = gql`\r\n    mutation generateAccounting($input: GenerateAccInput) {\r\n        generateAccounting(input: $input)\r\n    }\r\n`\r\n\r\nexport const GET_LIST_RECON = gql`\r\n    query phsicalInventory {\r\n        phsicalInventory {\r\n            id\r\n            code\r\n            remark\r\n            date\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_ALL_RECON = gql`\r\n    query getInventory($input: InputPagination) {\r\n    getInventory(input: $input) {\r\n            id\r\n            code\r\n            date\r\n            remark\r\n            accounting {\r\n                openning {\r\n                    paid\r\n                    nonPaid\r\n                }\r\n                income {\r\n                    paid\r\n                    nonPaid\r\n                }\r\n                expense {\r\n                    paid\r\n                    nonPaid\r\n                }\r\n                closing {\r\n                    paid\r\n                    nonPaid\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\n","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { Col, Modal, Row, Form, Input, Button, Select } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { CREATE_GENERATE_ACCOUNTING, GET_ALL_RECON } from '../../../graphql/reconciliation'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function Accounting({ open, setOpen }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getInventory, { data: InventoryDB }] = useLazyQuery(GET_ALL_RECON, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    const [generateAccounting] = useMutation(CREATE_GENERATE_ACCOUNTING,  mutationCallBackFn(GET_ALL_RECON, 'getInventory'))\r\n    \r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getInventory({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [getInventory, keyword])\r\n\r\n    const onFinish = (values) => {\r\n        generateAccounting({\r\n            variables: {\r\n                input: {\r\n                    id: values.code\r\n                }\r\n            },\r\n            update(_,result){\r\n                noticeAction(\"success\", result.data.generateAccounting)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishError = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearchFn(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelectFn(val) {\r\n        var array = [...InventoryDB?.getInventory].find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            remark: array.remark\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"GENERATE ACCOUNTING\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                name=\"generate\"\r\n                form={form}\r\n                layout=\"vertical\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishError}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"កូដ\"\r\n                            name=\"code\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Inventory\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearchFn}\r\n                                size={theme.selectSize}\r\n                                onSelect={onSelectFn}\r\n                            >\r\n                                {\r\n                                    InventoryDB?.getInventory?.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.code}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Col, Modal, Row, Form, Input, Button, DatePicker } from 'antd'\r\nimport React from 'react'\r\nimport { mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { CREATE_GENERATE_INVENTORY, GET_ALL_RECON } from '../../../graphql/reconciliation'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function Generate({ open, setOpen }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [generateInventory] = useMutation(CREATE_GENERATE_INVENTORY, mutationCallBackFn(GET_ALL_RECON, 'getInventory'))\r\n\r\n    const onFinish = (values) => {\r\n        generateInventory({\r\n            variables: {\r\n                input: values\r\n            },\r\n            update(_, result){\r\n                // console.log(result)\r\n                noticeAction(\"success\", result.data.generateInventory)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishError = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"GENERATE INVENTORY\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                name=\"generate\"\r\n                form={form}\r\n                layout=\"vertical\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishError}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"កាលបរិច្ឆេទ\"\r\n                            name=\"date\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <DatePicker\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"Date\"\r\n                                // picker=\"month\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useQuery } from '@apollo/client'\r\nimport { Col, Row, List, Divider } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useState } from 'react'\r\nimport Accounting from '../components/reconciliation/modal/accounting'\r\nimport Generate from '../components/reconciliation/modal/generate'\r\nimport { GET_ALL_RECON } from '../graphql/reconciliation'\r\nimport { DollarOutlined } from '@ant-design/icons'\r\n// import Physical from '../components/reconciliation/modal/physical'\r\n\r\nexport default function Reconciliation() {\r\n\r\n    const { data: InventoryDB, loading } = useQuery(GET_ALL_RECON, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    console.log(InventoryDB)\r\n\r\n    const [openGenerate, setOpenGenerate] = useState(false)\r\n    // const [openPhysical, setOpenPhysical] = useState(false)\r\n    const [openGenAcc, setOpenGenAcc] = useState(false)\r\n    // const [openStockOut, setOpenStockOut] = useState(false)\r\n    // const [openAdjustment, setOpenAdjustment] = useState(false)\r\n    // const [openReconciliation, setOpenReconciliation] = useState(false)\r\n\r\n    return (\r\n        <div>\r\n            <Generate open={openGenerate} setOpen={setOpenGenerate} />\r\n            {/* <Physical open={openPhysical} setOpen={setOpenPhysical} /> */}\r\n            <Accounting open={openGenAcc} setOpen={setOpenGenAcc} />\r\n            <Row gutter={[16, 16]}>\r\n                <Col\r\n                    xs={24}\r\n                    md={18}\r\n                >\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col\r\n                            xs={6}\r\n                            md={6}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenGenerate(!openGenerate)}\r\n                            >\r\n                                GENERATE<br />\r\n                                INVENTORY\r\n                            </div>\r\n                        </Col>\r\n                        <Col\r\n                            xs={6}\r\n                            md={6}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenGenAcc(!openGenAcc)}\r\n                            >\r\n                                GENERATE<br />\r\n                                ACCOUNTING\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={6}\r\n                >\r\n                    <Divider orientation=\"left\">ទិន្នន័យដំណើរការរួច</Divider>\r\n                    <List\r\n                        {...loading}\r\n                        itemLayout=\"horizontal\"\r\n                        dataSource={InventoryDB?.getInventory}\r\n                        renderItem={item => (\r\n                            <List.Item>\r\n                                <List.Item.Meta\r\n                                    title={<span>{item.code}</span>}\r\n                                    description={moment(item.date).format(\"DD-MMM-YYYY HH:MM A\")}\r\n                                />\r\n                                <DollarOutlined\r\n                                    style={{ \r\n                                        color: item.accounting ? \"#08c\" : null\r\n                                    }}\r\n                                />\r\n                            </List.Item>\r\n                        )}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_CUSTOMER = gql`\r\n    query getCustomers($input: InputPagination) {\r\n    getCustomers(input: $input) {\r\n        data {\r\n            id\r\n            lname\r\n            fname\r\n            tel\r\n            email\r\n            image\r\n            address\r\n            geolocation {\r\n                lat\r\n                long\r\n            }\r\n            uid\r\n            token\r\n            createAt\r\n        }\r\n        message\r\n        pagination {\r\n            current\r\n            count\r\n        }\r\n    }\r\n    }\r\n`\r\n\r\nexport const ADD_CUSTOMER = gql`\r\n    mutation SetCustomersMutation($input: CustomerInputSet) {\r\n        setCustomers(input: $input) {\r\n            id\r\n            lname\r\n            fname\r\n            tel\r\n            email\r\n            image\r\n            address\r\n            geolocation {\r\n                lat\r\n                long\r\n            }\r\n            uid\r\n            token\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_CUSTOMER = gql`\r\n    mutation UpdateCustomersMutation($input: CustomerInputUpdate) {\r\n        updateCustomers(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_CUSTOMER = gql`\r\n    mutation deleteCustomers($input: CustomerInputDelete) {\r\n        deleteCustomers(input: $input)\r\n    }\r\n`","import { useMutation } from '@apollo/client'\r\nimport { Col, Drawer, Input, Row, Form, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertTel, convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { ADD_CUSTOMER, GET_ALL_CUSTOMER, UPDATE_CUSTOMER } from '../../../graphql/customer'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddUpdateCustomer({ open, setOpen, data, type }) {\r\n  let [form] = Form.useForm()\r\n\r\n  const [setCustomers] = useMutation(ADD_CUSTOMER, mutationCallBackFn(GET_ALL_CUSTOMER, 'getCustomers'))\r\n\r\n  const [updateCustomers] = useMutation(UPDATE_CUSTOMER, mutationCallBackFn(GET_ALL_CUSTOMER, 'getCustomers'))\r\n\r\n  const [updateData, setUpdateData] = useState({})\r\n\r\n  useEffect(() => {\r\n    setUpdateData(data)\r\n  }, [data])\r\n\r\n  const onFinish = (values) => {\r\n    let array = {\r\n      ...values,\r\n      tel: convertTel(values.tel)\r\n    }\r\n\r\n    if (type === \"add\") {\r\n      setCustomers({\r\n        variables: {\r\n          input: array\r\n        },\r\n        update(_, result) {\r\n          // console.log(result)\r\n          noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n\r\n          setOpen(false)\r\n          form.resetFields()\r\n        },\r\n      })\r\n    } else {\r\n      updateCustomers({\r\n        variables: {\r\n          input: {\r\n            ...array,\r\n            id: data.id\r\n          }\r\n        },\r\n        update(_, result) {\r\n          // console.log(result)  \r\n          noticeAction(\"success\", \"ការកែប្រែបានជោគជ័យ\")\r\n\r\n          setOpen(false)\r\n          form.resetFields()\r\n        },\r\n      })\r\n    }\r\n\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      title=\"បញ្ចូលអតិថិជនថ្មី\"\r\n      width={500}\r\n      onClose={() => setOpen(false)}\r\n      visible={open}\r\n      bodyStyle={{ paddingBottom: 80 }}\r\n    >\r\n      <Form\r\n        form={form}\r\n        layout=\"vertical\"\r\n        hideRequiredMark\r\n        fields={convertUpdateData(type, updateData)}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Row gutter={16}>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"lname\"\r\n              label=\"គោត្តនាម\"\r\n              rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Lastname\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"fname\"\r\n              label=\"នាម\"\r\n              rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Firstname\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"tel\"\r\n              label=\"ទូរស័ព្ទ\"\r\n              // rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                prefix=\"+855(0)\"\r\n                placeholder=\"Telephone\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"email\"\r\n              label=\"អ៊ីមែល\"\r\n              rules={[{  message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"email\" }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Email\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={24}>\r\n            <Form.Item\r\n              name=\"address\"\r\n              label=\"អាស័យដ្ឋាន\"\r\n              // rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Address\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={24}>\r\n            <Form.Item>\r\n              <Button\r\n                htmlType=\"submit\"\r\n                type=\"primary\"\r\n                style={{\r\n                  width: \"100%\"\r\n                }}\r\n                size={theme.btnSize}\r\n              >\r\n                បញ្ជូល\r\n              </Button>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Drawer>\r\n  )\r\n}\r\n","import { Col, Descriptions, Image, Modal, Row } from 'antd'\r\nimport React from 'react'\r\n\r\nexport default function ViewCustomer({ open, setOpen, data }) {\r\n    return (\r\n        <Modal\r\n            title={data?.id}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n            width={800}\r\n        >\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={8}\r\n                >\r\n                    <Image\r\n                        width={\"100%\"}\r\n                        src={data?.image ? data?.image : \"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\"}\r\n                    />\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={16}\r\n                >\r\n                    <Descriptions\r\n                        bordered\r\n                    >\r\n                        <Descriptions.Item span={3} label=\"ឈ្មោះ\">{data?.lname} {data?.fname}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"លេខទូរស័ព្ទ\">+855(0){data?.tel}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"អ៊ីមែល\">{data?.email}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"អាស័យដ្ឋាន\">{data?.address}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"ចំណាយ\">{data?.totalAmount}</Descriptions.Item>\r\n                    </Descriptions>\r\n                </Col>\r\n            </Row>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, EyeOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Space, Tooltip } from \"antd\"\r\nimport { theme } from \"../../../static/theme\"\r\n\r\nexport const CustomerCol = ({ current, limit, setKeyword, onViewFn, onAddFn, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'អត្ថលេខ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះ',\r\n                    dataIndex: 'name',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.lname} ${row.fname}`}>\r\n                            {row.lname} {row.fname}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'លេខទូរស័ព្ទ',\r\n                    dataIndex: 'tel',\r\n                    key: 'tel',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`+855(0)${row.tel}`}>\r\n                            {`+855(0)${row.tel}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                // {\r\n                //     title: 'ការចំណាយ',\r\n                //     dataIndex: 'totalAmount',\r\n                //     key: 'totalAmount',\r\n                //     width: 300,\r\n                //     ellipsis: true,\r\n                //     sorter: (a, b) => a.totalAmount - b.totalAmount,\r\n                // }\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    onClick={() => onAddFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <Space>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onViewFn(row)}\r\n                            >\r\n                                <EyeOutlined />\r\n                            </Button>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onUpdateFn(row)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </Space>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { Table } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport AddUpdateCustomer from '../components/customer/drawer/addUpdateCustomer'\r\nimport ViewCustomer from '../components/customer/modal/viewCustomer'\r\nimport { CustomerCol } from '../components/customer/tableCol/customerCol'\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn'\r\nimport { DELETE_CUSTOMER, GET_ALL_CUSTOMER } from '../graphql/customer'\r\nimport { theme } from '../static/theme'\r\n\r\nexport default function Customer() {\r\n    const [getCustomers, { data: CustomerDb, loading }] = useLazyQuery(GET_ALL_CUSTOMER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n    const [deleteCustomers] = useMutation(DELETE_CUSTOMER, mutationCallBackFn(GET_ALL_CUSTOMER, 'getCustomers'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n    const [viewData, setViewData] = useState({})\r\n    \r\n    const [openType, setOpenType] = useState(\"add\")\r\n\r\n    const [openAdd, setOpenAdd] = useState(false)\r\n    const [openView, setOpenView] = useState(false)\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(10)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getCustomers({\r\n            variables: {\r\n                input: {\r\n                    current: current,\r\n                    limit: limit,\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [limit, current, keyword, getCustomers])\r\n\r\n    const onAddFn = (e) => {\r\n        setOpenType(\"add\")\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setOpenType(\"update\")\r\n        setUpdateData(e)\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onViewFn = (e) => {\r\n        setViewData(e)\r\n        setOpenView(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteCustomers({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", result?.data?.deleteCustomers)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AddUpdateCustomer open={openAdd} setOpen={setOpenAdd} data={updateData} type={openType} />\r\n            <ViewCustomer open={openView} setOpen={setOpenView} data={viewData} />\r\n            <Table\r\n                {...loading}\r\n                size={theme.tableSize}\r\n                bordered\r\n                columns={CustomerCol({ current, limit, setKeyword, onViewFn, onAddFn, onUpdateFn, onDeleteFn })}\r\n                dataSource={CustomerDb?.getCustomers?.data}\r\n                sticky\r\n                scroll={{ x: 1500 }}\r\n                rowKey={record => record.id}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    total: CustomerDb?.getCustomers?.pagination?.count,\r\n                    pageSize: limit,\r\n                    current: current,\r\n                    onChange: (page, pageSize) => {\r\n                        setCurrent(page)\r\n                        setLimit(pageSize)\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\n\r\nexport const GET_ALL_SUPPLIER = gql`\r\n    query getSuppliers($input: InputPagination) {\r\n        getSuppliers(input: $input) {\r\n            data {\r\n                id\r\n                companyName\r\n                lname\r\n                fname\r\n                tel\r\n                email\r\n                image\r\n                address\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                    placename\r\n                }\r\n                uid\r\n                token\r\n                createAt\r\n                updateAt\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_SUPPLIER = gql`\r\n    mutation setSuppliers($input: SupplierInputSet) {\r\n        setSuppliers(input: $input) {\r\n            id\r\n            companyName\r\n            lname\r\n            fname\r\n            tel\r\n            email\r\n            image\r\n            address\r\n            geolocation {\r\n                lat\r\n                long\r\n                placename\r\n            }\r\n            uid\r\n            token\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_SUPPLIER = gql`\r\n    mutation updateSuppliers($input: SupplierInputUpdate) {\r\n        updateSuppliers(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_SUPPLIER = gql`\r\n    mutation deleteSuppliers($input: SupplierInputDelete) {\r\n        deleteSuppliers(input: $input)\r\n    }\r\n`","import { DeleteOutlined, EditOutlined, EyeOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Space, Tooltip } from \"antd\"\r\nimport { theme } from \"../../../static/theme\"\r\n\r\nexport const SupplierCol = ({ current, limit, setKeyword, onViewFn, onAddFn, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'អត្ថលេខ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះក្រុមហ៊ុន',\r\n                    dataIndex: 'companyName',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.companyName}`}>\r\n                            {row.companyName}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះ',\r\n                    dataIndex: 'name',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.lname} ${row.fname}`}>\r\n                            {row.lname} {row.fname}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'លេខទូរស័ព្ទ',\r\n                    dataIndex: 'tel',\r\n                    key: 'tel',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`+855(0)${row.tel}`}>\r\n                            {`+855(0)${row.tel}`}\r\n                        </Tooltip>\r\n                    },\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    onClick={() => onAddFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <Space>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onViewFn(row)}\r\n                            >\r\n                                <EyeOutlined />\r\n                            </Button>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onUpdateFn(row)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </Space>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { useMutation } from '@apollo/client'\r\nimport { Col, Drawer, Input, Row, Form, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertTel, convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { ADD_SUPPLIER, GET_ALL_SUPPLIER, UPDATE_SUPPLIER } from '../../../graphql/supplier'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddUpdateSupplier({ open, setOpen, data, type }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [setCustomers] = useMutation(ADD_SUPPLIER, mutationCallBackFn(GET_ALL_SUPPLIER, 'getSuppliers'))\r\n\r\n    const [updateCustomers] = useMutation(UPDATE_SUPPLIER, mutationCallBackFn(GET_ALL_SUPPLIER, 'getSuppliers'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n\r\n    useEffect(() => {\r\n        setUpdateData(data)\r\n    }, [data])\r\n\r\n    const onFinish = (values) => {\r\n        let array = {\r\n            ...values,\r\n            tel: convertTel(values.tel)\r\n        }\r\n\r\n        if (type === \"add\") {\r\n            setCustomers({\r\n                variables: {\r\n                    input: array\r\n                },\r\n                update(_, result) {\r\n                    // console.log(result)\r\n                    noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n\r\n                    setOpen(false)\r\n                    form.resetFields()\r\n                },\r\n            })\r\n        } else {\r\n            updateCustomers({\r\n                variables: {\r\n                    input: {\r\n                        ...array,\r\n                        id: data.id\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    // console.log(result)  \r\n                    noticeAction(\"success\", \"ការកែប្រែបានជោគជ័យ\")\r\n\r\n                    setOpen(false)\r\n                    form.resetFields()\r\n                },\r\n            })\r\n        }\r\n\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n        <Drawer\r\n            title=\"បញ្ចូលអ្នកផ្គត់ផ្គង់ថ្មី\"\r\n            width={500}\r\n            onClose={() => setOpen(false)}\r\n            visible={open}\r\n            bodyStyle={{ paddingBottom: 80 }}\r\n        >\r\n            <Form\r\n                form={form}\r\n                layout=\"vertical\"\r\n                hideRequiredMark\r\n                fields={convertUpdateData(type, updateData)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n                autoComplete=\"off\"\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col xs={24} md={24}>\r\n                        <Form.Item\r\n                            name=\"companyName\"\r\n                            label=\"ឈ្មោះក្រុមហ៊ុន\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input\r\n                                placeholder=\"Company\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col xs={24} md={12}>\r\n                        <Form.Item\r\n                            name=\"lname\"\r\n                            label=\"គោត្តនាម\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input\r\n                                placeholder=\"Lastname\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col xs={24} md={12}>\r\n                        <Form.Item\r\n                            name=\"fname\"\r\n                            label=\"នាម\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input\r\n                                placeholder=\"Firstname\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col xs={24} md={12}>\r\n                        <Form.Item\r\n                            name=\"tel\"\r\n                            label=\"ទូរស័ព្ទ\"\r\n                        // rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input\r\n                                prefix=\"+855(0)\"\r\n                                placeholder=\"Telephone\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col xs={24} md={12}>\r\n                        <Form.Item\r\n                            name=\"email\"\r\n                            label=\"អ៊ីមែល\"\r\n                            rules={[{ message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"email\" }]}\r\n                        >\r\n                            <Input\r\n                                placeholder=\"Email\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col xs={24} md={24}>\r\n                        <Form.Item\r\n                            name=\"address\"\r\n                            label=\"អាស័យដ្ឋាន\"\r\n                        // rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input\r\n                                placeholder=\"Address\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col xs={24} md={24}>\r\n                        <Form.Item>\r\n                            <Button\r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ជូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Drawer>\r\n    )\r\n}\r\n","import { Col, Descriptions, Image, Modal, Row } from 'antd'\r\nimport React from 'react'\r\n\r\nexport default function ViewSupplier({ open, setOpen, data }) {\r\n    return (\r\n        <Modal\r\n            title={data?.id}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n            width={800}\r\n        >\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={8}\r\n                >\r\n                    <Image\r\n                        width={\"100%\"}\r\n                        src={data?.image ? data?.image : \"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\"}\r\n                    />\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={16}\r\n                >\r\n                    <Descriptions\r\n                        bordered\r\n                    >\r\n                        <Descriptions.Item span={3} label=\"ឈ្មោះក្រុមហ៊ុន\">{data?.companyName}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"ឈ្មោះ\">{data?.lname} {data?.fname}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"លេខទូរស័ព្ទ\">+855(0){data?.tel}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"អ៊ីមែល\">{data?.email}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"អាស័យដ្ឋាន\">{data?.address}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"ចំណាយ\">{data?.totalAmount}</Descriptions.Item>\r\n                    </Descriptions>\r\n                </Col>\r\n            </Row>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn'\r\nimport { DELETE_SUPPLIER, GET_ALL_SUPPLIER } from '../graphql/supplier'\r\nimport { Table } from 'antd'\r\nimport { SupplierCol } from '../components/supplier/tableCol/supplierCol'\r\nimport AddUpdateSupplier from '../components/supplier/drawer/addUpdateSupplier'\r\nimport ViewSupplier from '../components/supplier/modal/viewSupplier'\r\nimport { theme } from '../static/theme'\r\n\r\nexport default function Supplier() {\r\n    const [getSuppliers, { data: SupplierDb, loading }] = useLazyQuery(GET_ALL_SUPPLIER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n    const [deleteSuppliers] = useMutation(DELETE_SUPPLIER, mutationCallBackFn(GET_ALL_SUPPLIER, 'getSuppliers'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n    const [viewData, setViewData] = useState({})\r\n    \r\n    const [openType, setOpenType] = useState(\"add\")\r\n\r\n    const [openAdd, setOpenAdd] = useState(false)\r\n    const [openView, setOpenView] = useState(false)\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(10)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getSuppliers({\r\n            variables: {\r\n                input: {\r\n                    current: current,\r\n                    limit: limit,\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [limit, current, keyword, getSuppliers])\r\n\r\n    const onAddFn = (e) => {\r\n        setOpenType(\"add\")\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setOpenType(\"update\")\r\n        setUpdateData(e)\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onViewFn = (e) => {\r\n        setViewData(e)\r\n        setOpenView(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteSuppliers({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", result?.data?.deleteSuppliers)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AddUpdateSupplier open={openAdd} setOpen={setOpenAdd} data={updateData} type={openType} />\r\n            <ViewSupplier open={openView} setOpen={setOpenView} data={viewData} />\r\n            <Table\r\n                {...loading}\r\n                size={theme.tableSize}\r\n                bordered\r\n                columns={SupplierCol({ current, limit, setKeyword, onViewFn, onAddFn, onUpdateFn, onDeleteFn })}\r\n                dataSource={SupplierDb?.getSuppliers?.data}\r\n                sticky\r\n                scroll={{ x: 1500 }}\r\n                rowKey={record => record.id}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    total: SupplierDb?.getSuppliers?.pagination?.count,\r\n                    pageSize: limit,\r\n                    current: current,\r\n                    onChange: (page, pageSize) => {\r\n                        setCurrent(page)\r\n                        setLimit(pageSize)\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\n\r\nexport const GET_ALL_DELIVER = gql`\r\n    query getDelivers($input: InputPagination) {\r\n        getDelivers(input: $input) {\r\n            data {\r\n                id\r\n                lname\r\n                fname\r\n                tel\r\n                email\r\n                image\r\n                address\r\n                geolocation {\r\n                    lat\r\n                    long\r\n                }\r\n                uid\r\n                token\r\n                createAt\r\n                updateAt\r\n            }\r\n            pagination {\r\n                current\r\n                count\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport const ADD_DELIVER = gql`\r\n    mutation setDelivers($input: DeliverInputSet) {\r\n        setDelivers(input: $input) {\r\n            id\r\n            lname\r\n            fname\r\n            tel\r\n            email\r\n            image\r\n            address\r\n            geolocation {\r\n                lat\r\n                long\r\n            }\r\n            uid\r\n            token\r\n        }\r\n    }\r\n`\r\n\r\nexport const UPDATE_DELIVER = gql`\r\n    mutation UpdateDelivers($input: DeliverInputUpdate) {\r\n        updateDelivers(input: $input)\r\n    }\r\n`\r\n\r\nexport const DELETE_DELIVER = gql`\r\n    mutation UpdateDelivers($input: DeliverInputDelete) {\r\n        deleteDelivers(input: $input)\r\n    }\r\n`","import { useMutation } from '@apollo/client'\r\nimport { Col, Drawer, Input, Row, Form, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertTel, convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { ADD_DELIVER, GET_ALL_DELIVER, UPDATE_DELIVER } from '../../../graphql/deliver'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddUpdateDeliver({ open, setOpen, data, type }) {\r\n  let [form] = Form.useForm()\r\n\r\n  const [setDelivers] = useMutation(ADD_DELIVER, mutationCallBackFn(GET_ALL_DELIVER, 'getDelivers'))\r\n\r\n  const [updateDelivers] = useMutation(UPDATE_DELIVER, mutationCallBackFn(GET_ALL_DELIVER, 'getDelivers'))\r\n\r\n  const [updateData, setUpdateData] = useState({})\r\n\r\n  useEffect(() => {\r\n    setUpdateData(data)\r\n  }, [data])\r\n\r\n  const onFinish = (values) => {\r\n    let array = {\r\n      ...values,\r\n      tel: convertTel(values.tel)\r\n    }\r\n\r\n    if (type === \"add\") {\r\n      setDelivers({\r\n        variables: {\r\n          input: array\r\n        },\r\n        update(_, result) {\r\n          // console.log(result)\r\n          noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n\r\n          setOpen(false)\r\n          form.resetFields()\r\n        },\r\n      })\r\n    } else {\r\n      updateDelivers({\r\n        variables: {\r\n          input: {\r\n            ...array,\r\n            id: data.id\r\n          }\r\n        },\r\n        update(_, result) {\r\n          // console.log(result)  \r\n          noticeAction(\"success\", \"ការកែប្រែបានជោគជ័យ\")\r\n\r\n          setOpen(false)\r\n          form.resetFields()\r\n        },\r\n      })\r\n    }\r\n\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      title=\"បញ្ចូលអតិថិជនថ្មី\"\r\n      width={500}\r\n      onClose={() => setOpen(false)}\r\n      visible={open}\r\n      bodyStyle={{ paddingBottom: 80 }}\r\n    >\r\n      <Form\r\n        form={form}\r\n        layout=\"vertical\"\r\n        hideRequiredMark\r\n        fields={convertUpdateData(type, updateData)}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Row gutter={16}>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"lname\"\r\n              label=\"គោត្តនាម\"\r\n              rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Lastname\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"fname\"\r\n              label=\"នាម\"\r\n              rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Firstname\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"tel\"\r\n              label=\"ទូរស័ព្ទ\"\r\n              // rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                prefix=\"+855(0)\"\r\n                placeholder=\"Telephone\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <Form.Item\r\n              name=\"email\"\r\n              label=\"អ៊ីមែល\"\r\n              rules={[{  message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"email\" }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Email\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={24}>\r\n            <Form.Item\r\n              name=\"address\"\r\n              label=\"អាស័យដ្ឋាន\"\r\n              // rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n            >\r\n              <Input\r\n                placeholder=\"Address\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xs={24} md={24}>\r\n            <Form.Item>\r\n              <Button\r\n                htmlType=\"submit\"\r\n                type=\"primary\"\r\n                style={{\r\n                  width: \"100%\"\r\n                }}\r\n                size={theme.btnSize}\r\n              >\r\n                បញ្ជូល\r\n              </Button>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Drawer>\r\n  )\r\n}\r\n","import { Col, Descriptions, Image, Modal, Row } from 'antd'\r\nimport React from 'react'\r\n\r\nexport default function ViewDeliver({ open, setOpen, data }) {\r\n    return (\r\n        <Modal\r\n            title={data?.id}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n            width={800}\r\n        >\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={8}\r\n                >\r\n                    <Image\r\n                        width={\"100%\"}\r\n                        src={data?.image ? data?.image : \"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\"}\r\n                    />\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={16}\r\n                >\r\n                    <Descriptions\r\n                        bordered\r\n                    >\r\n                        <Descriptions.Item span={3} label=\"ឈ្មោះ\">{data?.lname} {data?.fname}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"លេខទូរស័ព្ទ\">+855(0){data?.tel}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"អ៊ីមែល\">{data?.email}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"អាស័យដ្ឋាន\">{data?.address}</Descriptions.Item>\r\n                        <Descriptions.Item span={3} label=\"ចំណាយ\">{data?.totalAmount}</Descriptions.Item>\r\n                    </Descriptions>\r\n                </Col>\r\n            </Row>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, EyeOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Space, Tooltip } from \"antd\"\r\nimport { theme } from \"../../../static/theme\"\r\n\r\nexport const DeliverCol = ({ current, limit, setKeyword, onViewFn, onAddFn, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'អត្ថលេខ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះ',\r\n                    dataIndex: 'name',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.lname} ${row.fname}`}>\r\n                            {row.lname} {row.fname}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'លេខទូរស័ព្ទ',\r\n                    dataIndex: 'tel',\r\n                    key: 'tel',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`+855(0)${row.tel}`}>\r\n                            {`+855(0)${row.tel}`}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                // {\r\n                //     title: 'ការចំណាយ',\r\n                //     dataIndex: 'totalAmount',\r\n                //     key: 'totalAmount',\r\n                //     width: 300,\r\n                //     ellipsis: true,\r\n                //     sorter: (a, b) => a.totalAmount - b.totalAmount,\r\n                // }\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    onClick={() => onAddFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <Space>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onViewFn(row)}\r\n                            >\r\n                                <EyeOutlined />\r\n                            </Button>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onUpdateFn(row)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </Space>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { Table } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport AddUpdateDeliver from '../components/deliver/drawer/addUpdateDeliver'\r\nimport ViewDeliver from '../components/deliver/modal/viewDeliver'\r\nimport { DeliverCol } from '../components/deliver/tableCol/deliverCol'\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn'\r\nimport { DELETE_DELIVER, GET_ALL_DELIVER } from '../graphql/deliver'\r\nimport { theme } from '../static/theme'\r\n\r\nexport default function Deliver() {\r\n    const [getDelivers, { data: DeliverDb, loading }] = useLazyQuery(GET_ALL_DELIVER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n    const [deleteDelivers] = useMutation(DELETE_DELIVER, mutationCallBackFn(GET_ALL_DELIVER, 'getDelivers'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n    const [viewData, setViewData] = useState({})\r\n    \r\n    const [openType, setOpenType] = useState(\"add\")\r\n\r\n    const [openAdd, setOpenAdd] = useState(false)\r\n    const [openView, setOpenView] = useState(false)\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(10)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getDelivers({\r\n            variables: {\r\n                input: {\r\n                    current: current,\r\n                    limit: limit,\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [limit, current, keyword, getDelivers])\r\n\r\n    const onAddFn = (e) => {\r\n        setOpenType(\"add\")\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setOpenType(\"update\")\r\n        setUpdateData(e)\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onViewFn = (e) => {\r\n        setViewData(e)\r\n        setOpenView(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteDelivers({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", result?.data?.deleteDelivers)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AddUpdateDeliver open={openAdd} setOpen={setOpenAdd} data={updateData} type={openType} />\r\n            <ViewDeliver open={openView} setOpen={setOpenView} data={viewData} />\r\n            <Table\r\n                {...loading}\r\n                size={theme.tableSize}\r\n                bordered\r\n                columns={DeliverCol({ current, limit, setKeyword, onViewFn, onAddFn, onUpdateFn, onDeleteFn })}\r\n                dataSource={DeliverDb?.getDelivers?.data}\r\n                sticky\r\n                scroll={{ x: 1500 }}\r\n                rowKey={record => record.id}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    total: DeliverDb?.getDelivers?.pagination?.count,\r\n                    pageSize: limit,\r\n                    current: current,\r\n                    onChange: (page, pageSize) => {\r\n                        setCurrent(page)\r\n                        setLimit(pageSize)\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import { CheckOutlined, DeleteOutlined, EditOutlined, FileSearchOutlined, FileSyncOutlined, MoreOutlined, PlusCircleOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Input, Popconfirm, Space, Tooltip } from \"antd\"\r\nimport { theme } from \"../../../static/theme\"\r\n\r\nexport const UserCol = ({ current, limit, setKeyword, onConfigFn, onAddFn, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <Input\r\n                    prefix={<SearchOutlined />}\r\n                    onChange={e => setKeyword(e.target.value)}\r\n                />\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    // sorter: (a, b) => new Date(a.createAt).getTime() - new Date(b.createAt).getTime(),\r\n                    render: (value, row, index) => {\r\n                        let page = ((current - 1) * limit) + index\r\n                        return <span>\r\n                            {page += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'អត្ថលេខ',\r\n                    dataIndex: 'id',\r\n                    key: 'age',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={value}>\r\n                            {value}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ឈ្មោះ',\r\n                    dataIndex: 'displayName',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.displayName}`}>\r\n                            {row.displayName}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'អ៊ីមែល',\r\n                    dataIndex: 'email',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.email}`}>\r\n                            {row.email}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'មាតិកា',\r\n                    dataIndex: 'status',\r\n                    key: 'content',\r\n                    width: 300,\r\n                    ellipsis: true,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip placement=\"left\" title={<span>\r\n                            {\r\n                                row?.contentRole?.map((load, i) => (\r\n                                    <span key={i}>\r\n                                        {`- ${load?.content?.title}`} &emsp;\r\n                                        {load.view && load.create && load.update && load.delete ? (\r\n                                            <>\r\n                                                <CheckOutlined />\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                            {load.view && <FileSearchOutlined />}\r\n                                            {load.create && <PlusCircleOutlined />}\r\n                                            {load.update && <EditOutlined />}\r\n                                            {load.delete && <DeleteOutlined />}\r\n                                            </>\r\n                                        )}\r\n                                        <br/>\r\n                                    </span>\r\n                                ))\r\n                            }\r\n                        </span>}>\r\n                            {row?.contentRole?.length} មាតិកា\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            title: () => <div>\r\n                <Button\r\n                    style={{\r\n                        width: \"100%\"\r\n                    }}\r\n                    onClick={() => onAddFn()}\r\n                    size={theme.btnSize}\r\n                >\r\n                    បញ្ជូលថ្មី\r\n                </Button>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 150,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <Space>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onConfigFn(row)}\r\n                                disabled={row.id === \"619c7142b3e75dd62a7dcabe\" ? true : false}\r\n                            >\r\n                                <FileSyncOutlined />\r\n                            </Button>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => onUpdateFn(row)}\r\n                                disabled={row.id === \"619c7142b3e75dd62a7dcabe\" ? true : false}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                                disabled={row.id === \"619c7142b3e75dd62a7dcabe\" ? true : false}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                    disabled={row.id === \"619c7142b3e75dd62a7dcabe\" ? true : false}\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </Space>\r\n                    },\r\n                }\r\n            ],\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { useMutation } from '@apollo/client'\r\nimport { Modal, Form, Row, Col, Input, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { ADD_USER, GET_ALL_USER, UPDATE_USER } from '../../../graphql/user'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddUpdateUser({ open, setOpen, data, type }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [addUser] = useMutation(ADD_USER, mutationCallBackFn(GET_ALL_USER, 'getUsers'))\r\n    \r\n    const [updateUser] = useMutation(UPDATE_USER, mutationCallBackFn(GET_ALL_USER, 'getUsers'))\r\n    // console.log(ContentDb)const [updateCustomers] = useMutation(UPDATE_SUPPLIER, mutationCallBackFn(GET_ALL_SUPPLIER, 'getSuppliers'))\r\n\r\n    const [updateData, setUpdateData] = useState({})\r\n\r\n    useEffect(() => {\r\n        setUpdateData(data)\r\n        console.log(data)\r\n    }, [data])\r\n\r\n    const onFinish = async (values) => {\r\n        if (type === \"add\") {\r\n            addUser({\r\n                variables: {\r\n                    input: {\r\n                        ...values,\r\n                        contentRole: []\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n                }\r\n            })\r\n        } else {\r\n            updateUser({\r\n                variables: {\r\n                    input: {\r\n                        ...values,\r\n                        id: data?.id,\r\n                        uid: data?.uid\r\n                    }\r\n                },\r\n                update(_, result) {\r\n                    noticeAction(\"success\", \"ការបញ្ចូលបានជោគជ័យ\")\r\n                }\r\n            })\r\n        }\r\n        \r\n        setOpen(false)\r\n        form.resetFields()\r\n    }\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលអ្នកប្រើប្រាស់ថ្មី\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                name=\"addUser\"\r\n                form={form}\r\n                fields={convertUpdateData(type, updateData)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n                layout=\"vertical\"\r\n            >\r\n                <Row\r\n                    gutter={16}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ឈ្មោះ\"\r\n                            name=\"displayName\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"DisplayName\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"អ៊ីមែល\"\r\n                            name=\"email\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', type: \"email\" }]}\r\n                        >\r\n                            <Input placeholder=\"Email\" type=\"email\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"លេខសម្ងាត់\"\r\n                            name=\"password\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!', min: 6 }]}\r\n                        >\r\n                            <Input.Password placeholder=\"Password\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បង្កើត\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const GET_ALL_CONTENT = gql`\r\n    query GetContent {\r\n        getContent {\r\n            id\r\n            title\r\n            path\r\n            sub\r\n            menu\r\n        }\r\n    }\r\n`","import { useMutation, useQuery } from '@apollo/client'\r\nimport { Modal, Row, Col, List, Spin, Checkbox } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { GET_ALL_CONTENT } from '../../../graphql/content'\r\nimport { GET_ALL_USER, UPDATE_CONTENT } from '../../../graphql/user'\r\n\r\nexport default function ConfigContent({ open, setOpen, data }) {\r\n    // console.log(data)\r\n\r\n    const { data: ContentDb, loading } = useQuery(GET_ALL_CONTENT, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [updateContent] = useMutation(UPDATE_CONTENT, mutationCallBackFn(GET_ALL_USER, 'getUsers'))\r\n\r\n    let getContents = ContentDb?.getContent\r\n\r\n    const [newData, setNewData] = useState([])\r\n\r\n    useEffect(() => {\r\n        let newArray = []\r\n        getContents?.map(load => {\r\n            const array = data?.contentRole?.find(ele => ele.content.path === load.path)\r\n            if (load.menu) {\r\n                if (array) {\r\n                    newArray.push({ ...load, view: array.view, create: array.create, update: array.update, delete: array.delete })\r\n                } else {\r\n                    newArray.push(load)\r\n                }\r\n            }\r\n            return null;\r\n        })\r\n\r\n        setNewData(newArray)\r\n    }, [data, getContents])\r\n\r\n    function onChange(checkedValues, type, dataV) {\r\n        let newArray = [...newData]\r\n        const index = newArray.findIndex(ele => ele.path === dataV.path)\r\n\r\n        newArray[index] = { ...newArray[index], [type]: checkedValues.target.checked }\r\n\r\n        setNewData(newArray)\r\n\r\n        let arrayDb = []\r\n        newArray.map(load => {\r\n            if (load.view || load.create || load.update || load.delete) {\r\n                arrayDb.push({\r\n                    content: load.id,\r\n                    view: load.view !== undefined ? load.view : false,\r\n                    create: load.create !== undefined ? load.create : false,\r\n                    update: load.update !== undefined ? load.update : false,\r\n                    delete: load.delete !== undefined ? load.delete : false\r\n                })\r\n            }\r\n            return null;\r\n        })\r\n\r\n        updateContent({\r\n            variables: {\r\n                input: {\r\n                    id: data.id,\r\n                    contentRole: arrayDb\r\n                }\r\n            },\r\n            update(_, result){\r\n                console.log(result)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"មាតិកា\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n            width={800}\r\n        >\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={24}\r\n                >\r\n                    <List\r\n                        itemLayout=\"horizontal\"\r\n                    >\r\n                        {\r\n                            loading ? <center>\r\n                                <Spin />\r\n                            </center> :\r\n                                newData?.map(load =>\r\n                                    load.menu && (\r\n                                        <List.Item\r\n                                            key={load.path}\r\n                                            actions={[\r\n                                                // <Checkbox.Group key={load.content.id} defaultValue={testFn(load)} options={plainOptions} onChange={e => onChange(e, load)} />\r\n                                                <Checkbox\r\n                                                    key=\"view\"\r\n                                                    checked={load.view}\r\n                                                    onChange={e => onChange(e, \"view\", load)}\r\n                                                >\r\n                                                    View\r\n                                                </Checkbox>,\r\n                                                <Checkbox\r\n                                                    key=\"create\"\r\n                                                    checked={load.create}\r\n                                                    onChange={e => onChange(e, \"create\", load)}\r\n                                                >\r\n                                                    Create\r\n                                                </Checkbox>,\r\n                                                <Checkbox\r\n                                                    key=\"update\"\r\n                                                    checked={load.update}\r\n                                                    onChange={e => onChange(e, \"update\", load)}\r\n                                                >\r\n                                                    Update\r\n                                                </Checkbox>,\r\n                                                <Checkbox\r\n                                                    key=\"delete\"\r\n                                                    checked={load.delete}\r\n                                                    onChange={e => onChange(e, \"delete\", load)}\r\n                                                >\r\n                                                    Delete\r\n                                                </Checkbox>,\r\n\r\n                                            ]}\r\n                                        >\r\n                                            <List.Item.Meta\r\n                                                title={load.title}\r\n                                                description={load.path}\r\n                                            />\r\n                                        </List.Item>\r\n                                    )\r\n                                )\r\n                        }\r\n                    </List>\r\n                </Col>\r\n            </Row>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table } from 'antd'\r\nimport { DELETE_USER, GET_ALL_USER } from '../graphql/user'\r\nimport { mutationCallBackFn, noticeAction } from '../functions/fn'\r\nimport { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { UserCol } from '../components/user/tableCols/userCol'\r\nimport AddUpdateUser from '../components/user/modal/addUpdateUser'\r\nimport ConfigContent from '../components/user/modal/configContent'\r\nimport { theme } from '../static/theme'\r\n\r\nexport default function User() {\r\n\r\n    const [getUsers, { data: UsersDb, loading }] = useLazyQuery(GET_ALL_USER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n    \r\n    const [deleteUser] = useMutation(DELETE_USER, mutationCallBackFn(GET_ALL_USER, 'getUsers'))\r\n\r\n    const [configCSelected, setconfigCSelected] = useState([])\r\n    \r\n    const [updateData, setUpdateData] = useState({})\r\n\r\n    const [openType, setOpenType] = useState(\"add\")\r\n\r\n    const [openAdd, setOpenAdd] = useState(false)\r\n    const [openConfigContent, setOpenConfigContent] = useState(false)\r\n\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(10)\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getUsers({\r\n            variables: {\r\n                input: {\r\n                    current: current,\r\n                    limit: limit,\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [limit, current, keyword, getUsers])\r\n\r\n    const onAddFn = (e) => {\r\n        setOpenType(\"add\")\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setOpenType(\"update\")\r\n        setUpdateData(e)\r\n        setOpenAdd(true)\r\n    }\r\n\r\n    const onConfigFn = (e) => {\r\n        // console.log(e)\r\n        setconfigCSelected(e)\r\n        setOpenConfigContent(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteUser({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", result?.data?.deleteUser)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n             {/* <AddUpdateSupplier open={openAdd} setOpen={setOpenAdd} data={updateData} type={openType} />\r\n            <ViewSupplier open={openView} setOpen={setOpenView} data={viewData} /> */}\r\n            <AddUpdateUser open={openAdd} setOpen={setOpenAdd} data={updateData} type={openType} />\r\n            <ConfigContent open={openConfigContent} setOpen={setOpenConfigContent} data={configCSelected} />\r\n            <Table\r\n                {...loading}\r\n                size={theme.tableSize}\r\n                bordered\r\n                columns={UserCol({ current, limit, setKeyword, onConfigFn, onAddFn, onUpdateFn, onDeleteFn })}\r\n                dataSource={UsersDb?.getUsers?.data}\r\n                sticky\r\n                scroll={{ x: 1500 }}\r\n                rowKey={record => record.id}\r\n                pagination={{\r\n                    showSizeChanger: true,\r\n                    total: UsersDb?.getUsers?.pagination?.count,\r\n                    pageSize: limit,\r\n                    current: current,\r\n                    onChange: (page, pageSize) => {\r\n                        setCurrent(page)\r\n                        setLimit(pageSize)\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import { useLazyQuery } from '@apollo/client'\r\nimport { Row, Form, Modal, Col, Select, Input, DatePicker, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertEditData, noticeAction } from '../../../functions/fn'\r\nimport { GET_ALL_CUSTOMER } from '../../../graphql/customer'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddCustomerToSale({ open, setOpen, data, setData }) {\r\n    let [form] = Form.useForm()\r\n    const [getCustomers, { data: CustomerDb }] = useLazyQuery(GET_ALL_CUSTOMER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getCustomers({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [keyword, getCustomers])\r\n\r\n    const onFinish = (values) => {\r\n        let array = CustomerDb?.getCustomers?.data.find(ele => ele.id === values.customer)\r\n        setData({\r\n            ...values,\r\n            lname: array.lname,\r\n            fname: array.fname,\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelect(val) {\r\n        let array = CustomerDb?.getCustomers?.data.find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            tel: array.tel\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលព័ត៌មាន\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addCustomerToSale\"\r\n                layout=\"vertical\"\r\n                // hideRequiredMark\r\n                fields={convertEditData(data ? data : [])}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"អតិថិជន\"\r\n                            name=\"customer\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Customer\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                onSelect={onSelect}\r\n                                size={theme.selectSize}\r\n                            >\r\n                                {\r\n                                    CustomerDb?.getCustomers?.data.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.lname} {load.fname}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ទូរស័ព្ទ\"\r\n                            name=\"tel\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Telephone\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"កាលបរិច្ឆេទ\"\r\n                            name=\"date\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <DatePicker\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"Date\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button \r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button, Col, Select, Form, Modal, Row, Input } from 'antd'\r\nimport { convertEditData, noticeAction } from '../../../functions/fn'\r\nimport { useLazyQuery } from '@apollo/client'\r\nimport { GET_ALL_DELIVER } from '../../../graphql/deliver'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddDeliverToSale({ open, setOpen, data, setData}) {\r\n    let [form] = Form.useForm()\r\n    const [getDelivers, { data: DeliverDb }] = useLazyQuery(GET_ALL_DELIVER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getDelivers({\r\n            variables: {\r\n                input: {\r\n                    limit: 10,\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [keyword, getDelivers])\r\n\r\n    const onFinish = (values) => {\r\n        let array = DeliverDb?.getDelivers?.data.find(ele => ele.id === values.deliver)\r\n        setData({\r\n            ...values,\r\n            lname: array.lname,\r\n            fname: array.fname,\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelect(val) {\r\n        let array = DeliverDb?.getDelivers?.data.find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            tel: array.tel\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលព័ត៌មាន\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addCustomerToSale\"\r\n                layout=\"vertical\"\r\n                // hideRequiredMark\r\n                fields={convertEditData(data ? data : [])}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"អ្នកដឹកជញ្ជូន\"\r\n                            name=\"deliver\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Deliver\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                onSelect={onSelect}\r\n                                size={theme.selectSize}\r\n                            >\r\n                                {\r\n                                    DeliverDb?.getDelivers?.data.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.lname} {load.fname}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ទូរស័ព្ទ\"\r\n                            name=\"tel\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Telephone\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button \r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","export default \"data:image/png;base64,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gAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJElcmvXAAABLxJREFUAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQAAAESIAAAAIEIEAAAAESIAAACIEAEAAECECAAAACJEAAAAECECAACACBEAAABEiAAAACBCBAAAABEiAAAAiBABAABAhAgAAAAiRAAAABAhAgAAgAgRAAAARIgAAAAgQgQAAAARIgAAAIgQAQAAQIQIAAAAIkQAAAAQIQIAAIAIEQBAUZnGMvFnAMgkAgAorscz8mcAyCACACgq17ZM/BkAMokAAAoqcX1Bks/qz0hLm6s0B0DGEABAQX3xs3c+bNLfzPSfd9M9X/zc7z1UzU0AsoMAAAosSfQ2zex1/MdrTG+v9h4A2UEAAAX2hb+886A8uU2uQ1P+h1yH5MltX/jLOw/O4TQAgREAQMFt/sy7O0umdknfmsL//FslU/vmz7y7c653AQjLQg8AMH9e/pr3vtATf7WkH5fUdPb/PCDp3yy1u+/57Hu+HW4dgPn0/wF4jPYZF7VEIQAAAABJRU5ErkJggg==\"","import React, { useRef } from 'react'\r\nimport { GoogleMap, useJsApiLoader } from '@react-google-maps/api';\r\n\r\n\r\nexport default function MapAddOrder({ data, setData }) {\r\n    let refMap = useRef()\r\n    const { isLoaded } = useJsApiLoader({\r\n        id: 'google-map-script',\r\n        googleMapsApiKey: \"AIzaSyCPy78uNk-DG98yYv7bGEWt3SCidRf0dms\"\r\n    })\r\n\r\n    const centerMoved = () => {\r\n        setData({\r\n            lat: refMap?.current?.state?.map?.center?.lat(),\r\n            long: refMap?.current?.state?.map?.center?.lng()\r\n        })\r\n    };\r\n\r\n    return isLoaded ? (\r\n        <GoogleMap\r\n            ref={refMap}\r\n            mapContainerStyle={{\r\n                width: '100%',\r\n                height: '100%'\r\n            }}\r\n            center={{\r\n                lat: data?.lat,\r\n                lng: data?.long,\r\n            }}\r\n            zoom={12}\r\n            onBoundsChanged={centerMoved}\r\n        >\r\n\r\n            {/* <Marker\r\n                key=\"customer\"\r\n                position={{\r\n                    lat: data.lat,\r\n                    lng: data.long\r\n                }}\r\n            /> */}\r\n        </GoogleMap>\r\n    ) : <></>\r\n}","import { Col, Image, Modal, Row, Form, InputNumber, Button, Input } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport pin from '../../../asset/img/pinRed.png'\r\nimport { convertEditData } from '../../../functions/fn';\r\nimport { theme } from '../../../static/theme';\r\nimport MapAddOrder from '../comp/mapAddOrder';\r\n\r\nexport default function AddLocationToSale({ open, setOpen, data, setData }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [centerLocation, setCenterLocation] = useState({\r\n        lat: data ? 13.363175493211273 : data?.lat,\r\n        long: data ? 103.85653437154804 : data?.long\r\n    })\r\n\r\n    const onFinish = (values) => {\r\n        setData(values)\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    const onChangeFn = (e) => {\r\n        form.setFieldsValue({\r\n            lat: e.lat,\r\n            long: e.long\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ទីតាំង\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <div style={{ height: '400px', width: '100%', marginBottom: 40 }}\r\n                className=\"go-map\">\r\n                <MapAddOrder data={centerLocation} setData={onChangeFn} />\r\n                <div\r\n                    key=\"pin\"\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: \"29.2%\",\r\n                        left: \"47.2%\",\r\n                    }}\r\n                >\r\n                    <Image\r\n                        src={pin}\r\n                        className=\"go-pin\"\r\n                        preview={false}\r\n                    />\r\n                    <div\r\n                        className=\"go-shadowPin\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Form\r\n                name=\"addLocation\"\r\n                form={form}\r\n                layout=\"vertical\"\r\n                fields={convertEditData(data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row\r\n                    gutter={16}\r\n                >\r\n                    <Col\r\n                        xs={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Latitude\"\r\n                            name=\"lat\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                onChange={e => setCenterLocation(ele => ({\r\n                                    ...ele,\r\n                                    lat: e\r\n                                }))}\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Longitude\"\r\n                            name=\"long\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                onChange={e => setCenterLocation(ele => ({\r\n                                    ...ele,\r\n                                    long: e\r\n                                }))}\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ឈ្មោះទីតាំង\"\r\n                            name=\"placename\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Placename\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Image, Row } from 'antd';\r\nimport moment from 'moment';\r\nimport Qrcode from 'qrcode.react';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\n\r\nclass PrintComponent extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={80}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <table\r\n                            className=\"go-tblHeader\"\r\n                            width=\"100%\"\r\n                            style={{\r\n                                textAlign: \"left\"\r\n                            }}\r\n                        >\r\n                            <tr>\r\n                                <th>លេខវិក័យបត្រ៖ </th>\r\n                                <td>{data?.id}</td>\r\n                                <th>អតិថិជន៖ </th>\r\n                                <td>{data?.customer?.id?.lname} {data?.customer?.id?.fname}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>កាលបរិច្ឆេទ៖ </th>\r\n                                <td>{moment(data?.date).format(\"DD-MMM-YYYY\")}</td>\r\n                                <th>ទូរស័ព្ទ៖ </th>\r\n                                <td>{data?.customer?.tel}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            // border=\"1\"\r\n                            className={\"go-tblProduct\"}\r\n                            width=\"100%\"\r\n                            style={{\r\n                                textAlign: \"center\"\r\n                            }}\r\n                        >\r\n                            <thead>\r\n                                <tr>\r\n                                    <th width={200}>បរិយាយ</th>\r\n                                    <th width={50}>ចំនួន</th>\r\n                                    <th width={100}>តម្លៃរាយ</th>\r\n                                    <th width={100}>តម្លៃសរុប</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {data?.products?.map(load => (\r\n                                    <tr key={load.product.id}>\r\n                                        <td>{load.product.description}</td>\r\n                                        <td>{load.qty}</td>\r\n                                        <td>{load.price}$</td>\r\n                                        <td>{load.total}$</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr key=\"remark\">\r\n                                    <td\r\n                                        rowSpan=\"7\"\r\n                                        colSpan=\"2\"\r\n                                        style={{\r\n                                            textAlign: \"left\",\r\n                                            verticalAlign: \"top\",\r\n                                        }}\r\n                                    >\r\n                                        <b><i>ចំណាំ៖</i></b> {data?.remark}\r\n                                    </td>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុប\r\n                                    </th>\r\n                                    <td>{data?.subTotal}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        កាត់ពន្ធ\r\n                                    </td>\r\n                                    <td>{data?.tax}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        បញ្ចុះតម្លៃ\r\n                                    </td>\r\n                                    <td>{data?.offer}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃដឹកជញ្ជូន\r\n                                    </td>\r\n                                    <td>{data?.delivery}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុបចុងក្រោយ\r\n                                    </th>\r\n                                    <td>{data?.grandTotal}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        ការទូរទាត់\r\n                                    </td>\r\n                                    <td>{data?.payment}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃមិនទាន់ទូទាត់\r\n                                    </th>\r\n                                    <td>{data?.grandTotal - data?.payment}$</td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <center>\r\n                            <b>\r\n                                Thank for your support.\r\n                            </b><br /><br />\r\n                            <Qrcode \r\n                                size={100}\r\n                                value={data?.id} \r\n                                renderAs=\"svg\"\r\n                            />\r\n                        </center>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintComponent","import React, { useRef } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport PrintComponent from '../comp/printComponent';\r\nimport { theme } from '../../../static/theme';\r\n\r\nexport default function PrintSaleOrder({ open, data, clearDataFn }) {\r\n    const componentRef = useRef()\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={600}\r\n            onCancel={() => clearDataFn()}\r\n            footer={[\r\n                <Button\r\n                    type=\"link\"\r\n                    danger\r\n                    key=\"cancel\"\r\n                    href=\"/saleorder\"\r\n                    size={theme.btnSize}\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintComponent ref={componentRef} data={data} />\r\n        </Modal>\r\n    )\r\n}\r\n","import { Descriptions, Divider, Modal, Form, Row, Col, InputNumber, Button, Input, message } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertEditData } from '../../../functions/fn'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function UpdateCart({ open, setOpen, selectData, cartData, setCartData }) {\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        setData(selectData)\r\n    }, [selectData])\r\n\r\n    const onFinish = (values) => {\r\n        let newArray = [...cartData]\r\n\r\n        let index = cartData?.findIndex(ele => ele.product === selectData.id)\r\n\r\n        if(values.qty > newArray[index].inStock){\r\n            message.error(\"មិនមានក្នុងស្តុក\")\r\n        } else {\r\n            newArray[index].qty = values.qty\r\n            newArray[index].price = values.price\r\n            newArray[index].total = values.qty * values.price\r\n            newArray[index].remark = values.remark\r\n    \r\n            setCartData(newArray)\r\n            setOpen(false)\r\n        }\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title={\"ព័ត៌មានលម្អិត\"}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Descriptions bordered>\r\n                <Descriptions.Item label=\"បរិយាយ\" span={3}>{data?.description}</Descriptions.Item>\r\n                <Descriptions.Item label=\"អត្ថលេខ\" span={3}>{data?.id}</Descriptions.Item>\r\n                <Descriptions.Item label=\"តម្លៃ\" span={3}>{data?.price}$ /{data?.um}</Descriptions.Item>\r\n                <Descriptions.Item label=\"ស្តុក\" span={3}>{data?.inStock} {data?.um}</Descriptions.Item>\r\n            </Descriptions>\r\n            <Divider>ការកំណត់</Divider>\r\n            <Form\r\n                name=\"addCart\"\r\n                fields={convertEditData(data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"qty\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"ចំនួន\"\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={4}\r\n                    >\r\n                        <center>\r\n                            X\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"price\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"តម្លៃឯកតា\"\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input\r\n                                placeholder=\"ចំណាំ\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            type=\"primary\"\r\n                            style={{\r\n                                width: \"100%\"\r\n                            }}\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បញ្ចូល\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, MoreOutlined } from \"@ant-design/icons\"\r\nimport { Button, Popconfirm, Tooltip, Image } from \"antd\"\r\n\r\nexport const CartCol = ({ onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: 'ល.រ',\r\n            dataIndex: 'createAt',\r\n            key: 'createAt',\r\n            width: 80,\r\n            align: \"center\",\r\n            render: (value, row, index) => {\r\n                return <span>\r\n                    {index += 1}\r\n                </span>\r\n            },\r\n        },\r\n        {\r\n            title: 'រូបភាព',\r\n            dataIndex: 'image',\r\n            key: 'image',\r\n            width: 100,\r\n            align: \"center\",\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Image\r\n                    src={row.image}\r\n                    preview={false}\r\n                    width={30}\r\n                />\r\n            },\r\n        },\r\n        {\r\n            title: 'បរិយាយ',\r\n            dataIndex: 'description',\r\n            key: 'description',\r\n            width: 200,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={row.description}>\r\n                    {row.description}\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'ចំនួន',\r\n            dataIndex: 'qty',\r\n            key: 'qty',\r\n            width: 100,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.qty} ${row.um}`}>\r\n                    {row.qty} {row.um}\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'តម្លៃ',\r\n            dataIndex: 'price',\r\n            key: 'price',\r\n            width: 100,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.price}`}>\r\n                    {row.price}$\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'តម្លៃសរុប',\r\n            dataIndex: 'total',\r\n            key: 'total',\r\n            width: 100,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.total}`}>\r\n                    {row.total}$\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'ចំណាំ',\r\n            dataIndex: 'remark',\r\n            key: 'remark',\r\n            width: 200,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.remark}`}>\r\n                    {row.remark}\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: () => <MoreOutlined />,\r\n            dataIndex: 'more',\r\n            key: 'more',\r\n            width: 120,\r\n            fixed: 'right',\r\n            align: \"center\",\r\n            render: (value, row, index) => {\r\n                return <div>\r\n                    <Button\r\n                        type=\"link\"\r\n                        size=\"small\"\r\n                        onClick={() => {onUpdateFn(row)}}\r\n                    >\r\n                        <EditOutlined />\r\n                    </Button>\r\n                    <Popconfirm\r\n                        title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                        okText=\"ចង់\"\r\n                        cancelText=\"មិនចង់\"\r\n                        okType=\"danger\"\r\n                        placement=\"left\"\r\n                        onConfirm={() => onDeleteFn(index)}\r\n                    >\r\n                        <Button\r\n                            type=\"link\"\r\n                            danger\r\n                            size=\"small\"\r\n                        >\r\n                            <DeleteOutlined />\r\n                        </Button>\r\n                    </Popconfirm>\r\n                </div>\r\n            },\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { PlusCircleOutlined, PushpinOutlined, SearchOutlined } from '@ant-design/icons'\r\nimport { useLazyQuery, useMutation, useQuery } from '@apollo/client'\r\nimport { AutoComplete, Button, Col, Divider, Empty, Image, Input, Pagination, Row, Typography, Table, Descriptions, Timeline, InputNumber, message, Checkbox } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../asset/data/msgTitle'\r\nimport { generalCustomer } from '../../context/initialState'\r\nimport { convertProduct, noticeAction, searchOptions } from '../../functions/fn'\r\nimport { GET_ALL_CATEGORY, GET_PRODUCT_BY_CTG, GET_ALL_PRODUCT, GET_PRODUCT_BY_ID } from '../../graphql/product'\r\nimport { ADD_SALEORDER } from '../../graphql/saleOrder'\r\nimport { theme } from '../../static/theme'\r\nimport AddCustomerToSale from './modal/addCustomerToSale'\r\nimport AddDeliverToSale from './modal/addDeliverToSale'\r\nimport AddLocationToSale from './modal/addLocationToSale'\r\nimport PrintSaleOrder from './modal/printSaleOrder'\r\nimport UpdateCart from './modal/updateCart'\r\nimport { CartCol } from './tableCols/cartCol'\r\n\r\nexport default function AddSaleOrder() {\r\n\r\n    const { data: CategoryDb } = useQuery(GET_ALL_CATEGORY, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    const [getProducts, { data: ProductSearchDb }] = useLazyQuery(GET_ALL_PRODUCT, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    // console.log(ProductSearchDb)\r\n\r\n    const [getProductBySelectCTG, { data: ProductDb }] = useLazyQuery(GET_PRODUCT_BY_CTG, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [setSaleOrders] = useMutation(ADD_SALEORDER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        }\r\n    })\r\n\r\n    const [getProductById] = useMutation(GET_PRODUCT_BY_ID, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [cartData, setCartData] = useState([])\r\n    const [selectValue, setSelectValue] = useState({})\r\n    const [totalQty, setTotalQty] = useState(0)\r\n    const [totalBL, setTotalBL] = useState({\r\n        subTotal: 0,\r\n        tax: 0,\r\n        offer: 0,\r\n        delivery: 0,\r\n        grandTotal: 0,\r\n        payment: 0,\r\n        noPaid: 0\r\n    })\r\n    const [customerData, setCustomerData] = useState({\r\n        date: moment()\r\n    })\r\n    const [locationData, setLocationData] = useState({\r\n        lat: 0,\r\n        long: 0,\r\n        placename: \"\"\r\n    })\r\n    const [deliverData, setDeliverData] = useState({})\r\n    const [printData, setPrintData] = useState({})\r\n\r\n    const [addTax, setAddTax] = useState(false)\r\n    const [addOffer, setAddOffer] = useState(false)\r\n    const [addDelivery, setAddDelivery] = useState(false)\r\n    const [addPayment, setAddPayment] = useState(false)\r\n    const [activeCategory, setActiveCategory] = useState(\"all\")\r\n\r\n    const [openProductDetail, setOpenProductDetail] = useState(false)\r\n    const [openAddCustomer, setOpenAddCustomer] = useState(false)\r\n    const [openAddLocation, setOpenAddLocation] = useState(false)\r\n    const [openAddDeliver, setOpenAddDeliver] = useState(false)\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const [generalGuest, setGeneralGuest] = useState(false)\r\n\r\n    const [searchKeyword, setSearchKeyword] = useState(\"\")\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(8)\r\n\r\n    useEffect(() => {\r\n        getProducts({\r\n            variables: {\r\n                input: {\r\n                    current: 1,\r\n                    limit: 5,\r\n                    keyword: searchKeyword,\r\n                    sort: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    },\r\n                    filter: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }, [searchKeyword, getProducts])\r\n\r\n    useEffect(() => {\r\n        getProductBySelectCTG({\r\n            variables: {\r\n                input: {\r\n                    id: activeCategory,\r\n                    current: current,\r\n                    limit: limit,\r\n                }\r\n            },\r\n        })\r\n    }, [getProductBySelectCTG, activeCategory, current, limit])\r\n\r\n    useEffect(() => {\r\n        let subTotal = 0\r\n        let sumQty = 0\r\n        cartData?.map(load => subTotal += load.total)\r\n        cartData?.map(load => sumQty += load.qty)\r\n\r\n        setTotalQty(e => sumQty)\r\n\r\n        setTotalBL(e => ({\r\n            subTotal: subTotal,\r\n            tax: e.tax,\r\n            offer: e.offer,\r\n            delivery: e.delivery,\r\n            payment: e.payment,\r\n            grandTotal: subTotal + e.tax - e.offer + e.delivery,\r\n            noPaid: (subTotal + e.tax - e.offer + e.delivery) - e.payment\r\n        }))\r\n    }, [cartData, addTax, addOffer, addDelivery, addPayment])\r\n\r\n    const selectCategoryFn = (e) => {\r\n        setActiveCategory(e.id)\r\n    }\r\n\r\n    const handleSearch = (value) => {\r\n        setSearchKeyword(value)\r\n\r\n        // if (isHex(value)) {\r\n        //     new Promise(resolve => {\r\n        //         resolve(setSearchKeyword(value))\r\n        //     }).then(() => {\r\n        //         pushToCart(value)\r\n        //         setSearchKeyword(\"\")\r\n        //     })\r\n        // }\r\n    };\r\n\r\n    const handleSearchEnter = async (e) => {\r\n        if (e.key === 'Enter') {\r\n            getProductById({\r\n                variables: {\r\n                    input: {\r\n                        id: e.target.value\r\n                    }\r\n                },\r\n                update(_, { data: productById }) {\r\n                    // console.log(productById.getProductById)\r\n                    let findProduct = productById.getProductById\r\n                    if (findProduct?.inStock <= 0 || findProduct?.inStock === undefined) {\r\n                        message.error(\"មិនមានក្នុងស្តុក\")\r\n                    } else {\r\n                        let newArray = [...cartData]\r\n                        let index = cartData?.findIndex(ele => ele.product === findProduct.id)\r\n\r\n                        if (newArray[index]?.qty >= findProduct?.inStock) {\r\n                            message.error(\"មិនមានក្នុងស្តុក\")\r\n                        } else {\r\n                            if (index === -1) {\r\n                                newArray.push({\r\n                                    ...findProduct,\r\n                                    product: findProduct?.id,\r\n                                    qty: 1,\r\n                                    price: findProduct.price,\r\n                                    total: 1 * findProduct.price,\r\n                                    remark: \"\"\r\n                                })\r\n                            } else {\r\n                                newArray[index].qty = newArray[index].qty + 1\r\n                                newArray[index].price = findProduct.price\r\n                                newArray[index].total = (newArray[index].qty) * findProduct.price\r\n                            }\r\n\r\n                            setCartData(newArray)\r\n                        }\r\n                    }\r\n                    setSearchKeyword(\"\")\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const onSelect = (value) => {\r\n        pushToCart(value)\r\n    };\r\n\r\n    const pushToCart = (e) => {\r\n        let findData = ProductSearchDb?.getProducts?.data.find(ele => ele.id === e)\r\n        console.log(ProductSearchDb?.getProducts?.data)\r\n\r\n        if (findData?.inStock <= 0 || findData?.inStock === undefined) {\r\n            message.error(\"មិនមានក្នុងស្តុក\")\r\n        } else {\r\n            let newArray = [...cartData]\r\n            let index = cartData?.findIndex(ele => ele.product === findData.id)\r\n\r\n            if (newArray[index]?.qty >= findData?.inStock) {\r\n                message.error(\"មិនមានក្នុងស្តុក\")\r\n            } else {\r\n                if (index === -1) {\r\n                    newArray.push({\r\n                        ...findData,\r\n                        product: findData?.id,\r\n                        qty: 1,\r\n                        price: findData.price,\r\n                        total: 1 * findData.price,\r\n                        remark: \"\"\r\n                    })\r\n                } else {\r\n                    newArray[index].qty = newArray[index].qty + 1\r\n                    newArray[index].price = findData.price\r\n                    newArray[index].total = (newArray[index].qty) * findData.price\r\n                }\r\n            }\r\n\r\n            setCartData(newArray)\r\n            setSearchKeyword(\"\")\r\n        }\r\n    }\r\n\r\n    const onSelectCard = (value) => {\r\n\r\n        if (value.inStock <= 0) {\r\n            message.error(\"មិនមានក្នុងស្តុក\")\r\n        } else {\r\n            let newArray = [...cartData]\r\n            let index = cartData?.findIndex(ele => ele.product === value.id)\r\n\r\n            if (index === -1) {\r\n                newArray.push({\r\n                    ...value,\r\n                    product: value?.id,\r\n                    qty: 1,\r\n                    price: value.price,\r\n                    total: 1 * value.price,\r\n                    remark: \"\"\r\n                })\r\n            } else {\r\n                newArray[index].qty = newArray[index].qty + 1\r\n                newArray[index].price = value.price\r\n                newArray[index].total = (newArray[index].qty) * value.price\r\n            }\r\n\r\n            setCartData(newArray)\r\n        }\r\n\r\n    };\r\n\r\n    const onShowSizeChange = (current, pageSize) => {\r\n        setCurrent(current)\r\n        setLimit(pageSize)\r\n        getProductBySelectCTG({\r\n            variables: {\r\n                input: {\r\n                    id: activeCategory,\r\n                    current: current,\r\n                    limit: pageSize,\r\n                }\r\n            },\r\n        })\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setSelectValue(e)\r\n        setOpenProductDetail(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        let array = [...cartData]\r\n        array.splice(e, 1)\r\n        setCartData(array)\r\n    }\r\n\r\n    const onSubmitFn = () => {\r\n        let headerData = {\r\n            customer: {\r\n                id: customerData?.customer,\r\n                tel: customerData?.tel,\r\n                geolocation: locationData,\r\n                remark: customerData?.remark,\r\n            },\r\n            deliver: {\r\n                id: deliverData?.deliver,\r\n                tel: deliverData?.tel,\r\n                remark: deliverData?.remark,\r\n                geolocation: {\r\n                    lat: 13.351400748454818,\r\n                    long: 103.8501936294368\r\n                }\r\n            },\r\n            date: customerData?.date,\r\n        }\r\n\r\n        let newArray = generalGuest ? {\r\n            ...generalCustomer,\r\n            products: convertProduct(cartData),\r\n            subTotal: totalBL?.subTotal,\r\n            tax: totalBL?.tax,\r\n            offer: totalBL?.offer,\r\n            delivery: totalBL?.delivery,\r\n            grandTotal: totalBL?.grandTotal,\r\n            payment: totalBL?.payment,\r\n            status: {\r\n                isPrepared: true,\r\n                isCooked: true,\r\n                isDelivered: true,\r\n                isPaid: totalBL.noPaid === 0 ? true : false,\r\n                isCanceled: false\r\n            }\r\n        } : {\r\n            ...headerData,\r\n            products: convertProduct(cartData),\r\n            subTotal: totalBL?.subTotal,\r\n            tax: totalBL?.tax,\r\n            offer: totalBL?.offer,\r\n            delivery: totalBL?.delivery,\r\n            grandTotal: totalBL?.grandTotal,\r\n            payment: totalBL?.payment,\r\n            status: {\r\n                isPrepared: true,\r\n                isCooked: true,\r\n                isDelivered: true,\r\n                isPaid: totalBL.noPaid === 0 ? true : false,\r\n                isCanceled: false\r\n            }\r\n        }\r\n\r\n        setSaleOrders({\r\n            variables: {\r\n                input: newArray\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", msgTitle.CREATE)\r\n                setPrintData(result?.data?.setSaleOrders)\r\n                setOpenPrint(true)\r\n            }\r\n        })\r\n    }\r\n\r\n    const clearDataFn = () => {\r\n        setOpenPrint(false)\r\n        setCartData([])\r\n        setSelectValue({})\r\n        setTotalQty(0)\r\n        setTotalBL({\r\n            subTotal: 0,\r\n            tax: 0,\r\n            offer: 0,\r\n            delivery: 0,\r\n            grandTotal: 0,\r\n            payment: 0,\r\n            noPaid: 0\r\n        })\r\n        setCustomerData({\r\n            date: moment()\r\n        })\r\n        setLocationData({\r\n            lat: 0,\r\n            long: 0\r\n        })\r\n        setDeliverData({})\r\n        setPrintData({})\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Row gutter={16}>\r\n                <UpdateCart open={openProductDetail} setOpen={setOpenProductDetail} selectData={selectValue} cartData={cartData} setCartData={setCartData} />\r\n                <AddCustomerToSale open={openAddCustomer} setOpen={setOpenAddCustomer} data={customerData} setData={setCustomerData} />\r\n                <AddLocationToSale open={openAddLocation} setOpen={setOpenAddLocation} data={locationData} setData={setLocationData} />\r\n                <AddDeliverToSale open={openAddDeliver} setOpen={setOpenAddDeliver} data={deliverData} setData={setDeliverData} />\r\n                <PrintSaleOrder open={openPrint} setOpen={setOpenPrint} data={printData} clearDataFn={clearDataFn} />\r\n                <Col\r\n                    xs={24}\r\n                    md={10}\r\n                >\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col\r\n                            xs={24}\r\n                        >\r\n                            <Row gutter={16}>\r\n                                <Col\r\n                                    xs={24}\r\n                                >\r\n                                    <AutoComplete\r\n                                        dropdownMatchSelectWidth={252}\r\n                                        style={{\r\n                                            width: \"100%\",\r\n                                        }}\r\n                                        options={searchOptions(ProductSearchDb?.getProducts?.data)}\r\n                                        onSelect={onSelect}\r\n                                        onSearch={handleSearch}\r\n                                        onInputKeyDown={handleSearchEnter}\r\n                                        value={searchKeyword}\r\n                                    >\r\n                                        <Input\r\n                                            prefix={<SearchOutlined />}\r\n                                            placeholder=\"ស្វែងរក...\"\r\n                                        />\r\n                                    </AutoComplete>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                >\r\n                                    <Divider orientation=\"left\">ប្រភេទទំនិញ៖</Divider>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                >\r\n                                    <Row gutter={[10, 10]}>\r\n                                        <Col\r\n                                            xs={12}\r\n                                            md={8}\r\n                                            key={\"all\"}\r\n                                        >\r\n                                            <Button\r\n                                                type={activeCategory === \"all\" ? \"primary\" : \"dashed\"}\r\n                                                size={theme.btnSize}\r\n                                                style={{\r\n                                                    width: \"100%\"\r\n                                                }}\r\n                                                onClick={() => selectCategoryFn({\r\n                                                    id: \"all\"\r\n                                                })}\r\n                                            >\r\n                                                ទាំងអស់\r\n                                            </Button>\r\n                                        </Col>\r\n\r\n                                        {\r\n                                            CategoryDb?.getCategories?.data?.map(load => (\r\n                                                <Col\r\n                                                    xs={12}\r\n                                                    md={8}\r\n                                                    key={load.id}\r\n                                                >\r\n                                                    <Button\r\n                                                        type={activeCategory === load.id ? \"primary\" : \"dashed\"}\r\n                                                        size={theme.btnSize}\r\n                                                        style={{\r\n                                                            width: \"100%\"\r\n                                                        }}\r\n                                                        onClick={() => selectCategoryFn(load)}\r\n                                                    >\r\n                                                        {load.description}\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            ))\r\n                                        }\r\n                                    </Row>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    style={{\r\n                                        paddingTop: 20\r\n                                    }}\r\n                                >\r\n                                    <Row\r\n                                        gutter={16}\r\n                                    >\r\n                                        <Col\r\n                                            xs={24}\r\n                                        >\r\n                                            <Divider orientation=\"left\">ទំនិញ៖</Divider>\r\n                                        </Col>\r\n                                        {\r\n                                            !ProductDb || ProductDb?.getProductBySelectCTG?.data?.length === 0 ? (\r\n                                                <Col\r\n                                                    xs={24}\r\n                                                >\r\n                                                    <Empty />\r\n                                                </Col>\r\n                                            ) : (\r\n                                                ProductDb?.getProductBySelectCTG?.data?.map(load => (\r\n                                                    <Col\r\n                                                        xs={12}\r\n                                                        md={6}\r\n                                                        key={load.id}\r\n                                                    >\r\n                                                        <div\r\n                                                            className=\"go-card\"\r\n                                                            onClick={() => onSelectCard(load)}\r\n                                                        >\r\n                                                            <Image\r\n                                                                src={load.image}\r\n                                                                preview={false}\r\n                                                            />\r\n                                                            <Typography.Title level={5}>\r\n                                                                {load.description}\r\n                                                            </Typography.Title>\r\n                                                            <Typography.Text mark>\r\n                                                                តម្លៃ៖ {load.price}$ /{load.um}\r\n                                                            </Typography.Text>\r\n                                                            <br />\r\n                                                            <Typography.Text ellipsis={true}>\r\n                                                                ស្តុក៖ {load.inStock}\r\n                                                            </Typography.Text>\r\n                                                            {/* <br />\r\n                                                            <Typography.Text ellipsis={true}>\r\n                                                                {load.id}\r\n                                                            </Typography.Text> */}\r\n                                                        </div>\r\n                                                    </Col>\r\n                                                ))\r\n                                            )\r\n                                        }\r\n                                        <Col\r\n                                            xs={24}\r\n                                            style={{\r\n                                                paddingTop: 20,\r\n                                            }}\r\n                                        >\r\n                                            <Pagination\r\n                                                showSizeChanger\r\n                                                pageSizeOptions={[8, 16, 32]}\r\n                                                onChange={onShowSizeChange}\r\n                                                pageSize={limit}\r\n                                                current={current}\r\n                                                total={ProductDb?.getProductBySelectCTG?.pagination?.count}\r\n                                                style={{\r\n                                                    float: \"right\"\r\n                                                }}\r\n                                            />\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={14}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        {/* <div\r\n                            style={{\r\n                                height: \"500px\",\r\n                                borderRadius: 5,\r\n                                backgroundColor: \"#EBEBEB\",\r\n                                // boxShadow: \"5px 5px 10px #AEEAFF\",\r\n                                padding: 20\r\n                            }}\r\n                        > */}\r\n                        <Table\r\n                            bordered\r\n                            columns={CartCol({ onUpdateFn, onDeleteFn })}\r\n                            dataSource={cartData}\r\n                            sticky\r\n                            scroll={{ x: 500, y: 200 }}\r\n                            rowKey={record => record.product}\r\n                            pagination={false}\r\n                            size={theme.tableSize}\r\n                        />\r\n                        <div\r\n                            style={{\r\n                                paddingTop: 10,\r\n                                textAlign: \"right\"\r\n                            }}\r\n                        >\r\n                            <Typography.Text\r\n                                mark\r\n                            >\r\n                                ({cartData?.length} មុខ និង {totalQty} ទំនិញ)\r\n                            </Typography.Text>\r\n                        </div>\r\n                        {/* </div> */}\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <Row gutter={16}>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Timeline>\r\n                                    <Timeline.Item color={customerData.lname ? \"green\" : \"red\"}>\r\n                                        <p>\r\n                                            អតិថិជន៖ {customerData.lname} {customerData.fname}\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setOpenAddCustomer(!openAddCustomer)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </p>\r\n                                        <p>លេខទូរស័ព្ទ៖ {customerData.tel}</p>\r\n                                        <p>កាលបរិច្ឆេទ៖ {moment(customerData.date).format(\"DD-MMM-YYYY\")}</p>\r\n                                        <p>ចំណាំ៖ {customerData.remark}</p>\r\n                                    </Timeline.Item>\r\n                                    <Timeline.Item color={deliverData.lname ? \"green\" : \"red\"}>\r\n                                        <p>\r\n                                            អ្នកដឹកជញ្ជូន៖ {deliverData.lname} {deliverData.fname}\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setOpenAddDeliver(!openAddDeliver)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </p>\r\n                                    </Timeline.Item>\r\n                                    <Timeline.Item color={locationData.lat ? \"green\" : \"red\"}>\r\n                                        <p>\r\n                                            ទីតាំង៖ {locationData.lat}, {locationData.long}\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setOpenAddLocation(!openAddLocation)}\r\n                                            >\r\n                                                <PushpinOutlined />\r\n                                            </Button>\r\n                                        </p>\r\n                                    </Timeline.Item>\r\n                                </Timeline>\r\n                            </Col>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Descriptions\r\n                                    bordered\r\n                                    size=\"small\"\r\n                                >\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុប\"\r\n                                        span={3}\r\n                                    >\r\n                                        {totalBL.subTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            កាត់ពន្ធ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddTax(!addTax)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addTax ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.tax}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        tax: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddTax(!addTax)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.tax + \"$\"\r\n                                        }\r\n\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            បញ្ចុះតម្លៃ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddOffer(!addOffer)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addOffer ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.offer}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        offer: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddOffer(!addOffer)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.offer + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            តម្លៃដឹកជញ្ជូន\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddDelivery(!addDelivery)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addDelivery ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.delivery}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        delivery: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddDelivery(!addDelivery)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.delivery + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុបចុងក្រោយ\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.grandTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            ការទូរទាត់៖\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddPayment(!addPayment)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addPayment ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.payment}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        payment: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddPayment(!addPayment)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.payment + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃមិនទាន់ទូទាត់\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.noPaid}$\r\n                                    </Descriptions.Item>\r\n                                </Descriptions>\r\n\r\n                                <div\r\n                                    style={{\r\n                                        padding: \"20px 0px 0px 0px\"\r\n                                    }}\r\n                                >\r\n                                    <Checkbox\r\n                                        disabled={cartData.length !== 0 ? false : true}\r\n                                        onChange={e => setGeneralGuest(e.target.checked)}\r\n                                    >\r\n                                        អតិថិជនទូទៅ\r\n                                    </Checkbox>\r\n                                </div>\r\n                                <Button\r\n                                    type=\"primary\"\r\n                                    style={{\r\n                                        marginTop: 20,\r\n                                        width: \"100%\"\r\n                                    }}\r\n                                    size={theme.btnSize}\r\n                                    disabled={generalGuest ? false : customerData?.lname && deliverData?.lname && cartData.length !== 0 ? false : true}\r\n                                    onClick={() => onSubmitFn()}\r\n                                >\r\n                                    បង្កើត\r\n                                </Button>\r\n                            </Col>\r\n\r\n                        </Row>\r\n                    </Col>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\n\r\n\r\nexport default function MapViewOrder({ customerMap, deliverMap }) {\r\n  const { isLoaded } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: \"AIzaSyCPy78uNk-DG98yYv7bGEWt3SCidRf0dms\"\r\n  })\r\n\r\n  const [center, setCenter] = useState({\r\n    lat: 13.363175493211273,\r\n    lng: 103.85653437154804\r\n  })\r\n\r\n  useEffect(() => {\r\n    if(customerMap){\r\n      setCenter(customerMap)\r\n    }\r\n  }, [customerMap])\r\n\r\n  // console.log(deliverMap)\r\n\r\n  return isLoaded ? (\r\n    <GoogleMap\r\n      mapContainerStyle={{\r\n        width: '100%',\r\n        height: '100%'\r\n      }}\r\n      center={center}\r\n      zoom={14}\r\n    // onLoad={onLoad}\r\n    // onUnmount={onUnmount}\r\n    >\r\n      { /* Child components, such as markers, info windows, etc. */}\r\n      <Marker\r\n        key=\"customer\"\r\n        position={customerMap}\r\n      />\r\n      {\r\n        deliverMap !== {} && <Marker\r\n          key=\"deliver\"\r\n          position={deliverMap}\r\n        />\r\n      }\r\n\r\n    </GoogleMap>\r\n  ) : <></>\r\n}","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { Row, Form, Modal, Col, Select, Input, DatePicker, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertEditData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { GET_ALL_CUSTOMER } from '../../../graphql/customer'\r\nimport { UPDATE_SALEORDER, VIEW_SALEORDER_BY_ID } from '../../../graphql/saleOrder'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function UpdateCustomer({ open, setOpen, data }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getCustomers, { data: CustomerDb }] = useLazyQuery(GET_ALL_CUSTOMER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [updateSaleOrders] = useMutation(UPDATE_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getCustomers({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [keyword, getCustomers])\r\n\r\n    const onFinish = (values) => {\r\n        // console.log(data)\r\n        let date = values.date\r\n        delete values.date\r\n        let newArray = {\r\n            id: data?.orderId,\r\n            customer: {\r\n                ...values,\r\n                geolocation: {\r\n                    lat: data?.geolocation?.lat,\r\n                    long: data?.geolocation?.long\r\n                }\r\n            },\r\n            date: date\r\n        }\r\n\r\n        updateSaleOrders({\r\n            variables:{\r\n                input: newArray\r\n            },\r\n            update(_, result){\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n        \r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelect(val) {\r\n        let array = CustomerDb?.getCustomers?.data.find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            tel: array.tel\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលព័ត៌មាន\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addCustomerToSale\"\r\n                layout=\"vertical\"\r\n                // hideRequiredMark\r\n                fields={convertEditData(data ? data : [])}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"អតិថិជន\"\r\n                            name=\"id\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Customer\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                onSelect={onSelect}\r\n                                size={theme.selectSize}\r\n                            >\r\n                                {\r\n                                    CustomerDb?.getCustomers?.data.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.lname} {load.fname}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ទូរស័ព្ទ\"\r\n                            name=\"tel\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Telephone\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"កាលបរិច្ឆេទ\"\r\n                            name=\"date\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <DatePicker\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"Date\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button \r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button, Col, Select, Form, Modal, Row, Input } from 'antd'\r\nimport { convertEditData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { GET_ALL_DELIVER } from '../../../graphql/deliver'\r\nimport { UPDATE_SALEORDER, VIEW_SALEORDER_BY_ID } from '../../../graphql/saleOrder'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function UpdateDeliver({ open, setOpen, data}) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getDelivers, { data: DeliverDb }] = useLazyQuery(GET_ALL_DELIVER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [updateSaleOrders] = useMutation(UPDATE_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getDelivers({\r\n            variables: {\r\n                input: {\r\n                    limit: 10,\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [keyword, getDelivers])\r\n\r\n    const onFinish = (values) => {\r\n        let newArray = {\r\n            id: data?.orderId,\r\n            customer: {\r\n                ...values,\r\n                geolocation: {\r\n                    lat: data?.geolocation?.lat,\r\n                    long: data?.geolocation?.long\r\n                }\r\n            }\r\n        }\r\n\r\n        updateSaleOrders({\r\n            variables:{\r\n                input: newArray\r\n            },\r\n            update(_, result){\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelect(val) {\r\n        let array = DeliverDb?.getDelivers?.data.find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            tel: array.tel\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលព័ត៌មាន\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addCustomerToSale\"\r\n                layout=\"vertical\"\r\n                // hideRequiredMark\r\n                fields={convertEditData(data ? data : [])}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"អ្នកដឹកជញ្ជូន\"\r\n                            name=\"id\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Deliver\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                onSelect={onSelect}\r\n                            >\r\n                                {\r\n                                    DeliverDb?.getDelivers?.data.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.lname} {load.fname}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ទូរស័ព្ទ\"\r\n                            name=\"tel\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Telephone\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button \r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client';\r\nimport { Col, Image, Modal, Row, Form, InputNumber, Button, Input } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle';\r\nimport pin from '../../../asset/img/pinRed.png'\r\nimport { convertEditData, mutationCallBackFn, noticeAction } from '../../../functions/fn';\r\nimport { UPDATE_SALEORDER, VIEW_SALEORDER_BY_ID } from '../../../graphql/saleOrder';\r\nimport { theme } from '../../../static/theme';\r\nimport MapAddOrder from '../comp/mapAddOrder';\r\n\r\nexport default function UpdateLocation({ open, setOpen, data }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [updateSaleOrders] = useMutation(UPDATE_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    const [centerLocation, setCenterLocation] = useState({\r\n        lat: data ? 13.363175493211273 : data?.lat,\r\n        long: data ? 103.85653437154804 : data?.long\r\n    })\r\n\r\n    const onFinish = (values) => {\r\n        updateSaleOrders({\r\n            variables:{\r\n                input: {\r\n                    id: data?.orderId,\r\n                    customer: {\r\n                        id: data?.id,\r\n                        tel: data?.tel,\r\n                        remark: data?.remark,\r\n                        geolocation: values\r\n                    }\r\n                }\r\n            },\r\n            update(_, result){\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    const onChangeFn = (e) => {\r\n        form.setFieldsValue({\r\n            lat: e.lat,\r\n            long: e.long\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ទីតាំង\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <div style={{ height: '400px', width: '100%', marginBottom: 40 }}\r\n                className=\"go-map\">\r\n                <MapAddOrder data={centerLocation} setData={onChangeFn} />\r\n                <div\r\n                    key=\"pin\"\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: \"29.2%\",\r\n                        left: \"47.2%\",\r\n                    }}\r\n                >\r\n                    <Image\r\n                        src={pin}\r\n                        className=\"go-pin\"\r\n                        preview={false}\r\n                    />\r\n                    <div\r\n                        className=\"go-shadowPin\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Form\r\n                name=\"addLocation\"\r\n                form={form}\r\n                layout=\"vertical\"\r\n                fields={convertEditData(data?.geolocation)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row\r\n                    gutter={16}\r\n                >\r\n                    <Col\r\n                        xs={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Latitude\"\r\n                            name=\"lat\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                onChange={e => setCenterLocation(ele => ({\r\n                                    ...ele,\r\n                                    lat: e\r\n                                }))}\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Longitude\"\r\n                            name=\"long\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                onChange={e => setCenterLocation(ele => ({\r\n                                    ...ele,\r\n                                    long: e\r\n                                }))}\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ឈ្មោះទីតាំង\"\r\n                            name=\"placename\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Placename\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Modal, Form, Row, Col, Input, Checkbox, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertUpdateData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { UPDATE_ORDER_STATUS, VIEW_SALEORDER_BY_ID } from '../../../graphql/saleOrder'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function UpdatetStatus({ open, setOpen, updateData }) {\r\n    const [updateOrderStatus] = useMutation(UPDATE_ORDER_STATUS, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        if(updateData){\r\n            setData(updateData.status)\r\n            // console.log(updateData.status)\r\n        }\r\n    }, [updateData])\r\n\r\n    const onFinish = (values) => {\r\n        console.log(values)\r\n        updateOrderStatus({\r\n            variables:{\r\n                input:{\r\n                    ...values,\r\n                    id: updateData?.id\r\n                }\r\n            },\r\n            update(_, result){\r\n                // console.log(result)\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n                setOpen(false)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n      };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ស្ថានភាព\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                name=\"setStatus\"\r\n                fields={convertUpdateData(\"update\", data !== undefined && data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row\r\n                    gutter={16}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"deliveryTime\"\r\n                        >\r\n                            <Input placeholder=\"Delivery Time\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isPrepared\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isPrepared</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isCooked\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isCooked</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isDelivered\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isDelivered</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isPaid\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isPaid</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={8}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"isCanceled\"\r\n                            valuePropName={\"checked\"}\r\n                        >\r\n                            <Checkbox>isCanceled</Checkbox>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                htmlType=\"submit\"\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Descriptions, Divider, Modal, Form, Row, Col, InputNumber, Button, Input } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertEditData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { UPDATE_SUB_SALEORDER, VIEW_SALEORDER_BY_ID } from '../../../graphql/saleOrder'\r\n\r\nexport default function UpdateViewSubOrder({ open, setOpen, selectData }) {\r\n    const [updateSubSaleOrders] = useMutation(UPDATE_SUB_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        setData(selectData)\r\n    }, [selectData])\r\n\r\n    const onFinish = (values) => {\r\n        let newArray = {\r\n            orderId: selectData.orderId,\r\n            id: selectData.id,\r\n            ...values,\r\n            total: values.qty * values.price\r\n        }\r\n\r\n        updateSubSaleOrders({\r\n            variables: {\r\n                input: newArray\r\n            },\r\n            update(_,result){\r\n                console.log(result)\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title={\"ព័ត៌មានលម្អិត\"}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Descriptions bordered>\r\n                <Descriptions.Item label=\"បរិយាយ\" span={3}>{data?.description}</Descriptions.Item>\r\n                <Descriptions.Item label=\"អត្ថលេខ\" span={3}>{data?.id}</Descriptions.Item>\r\n                <Descriptions.Item label=\"តម្លៃ\" span={3}>{data?.price}$ /{data?.um}</Descriptions.Item>\r\n            </Descriptions>\r\n            <Divider>ការកំណត់</Divider>\r\n            <Form\r\n                name=\"addCart\"\r\n                fields={convertEditData(data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"qty\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"ចំនួន\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={4}\r\n                    >\r\n                        <center>\r\n                            X\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"price\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"តម្លៃឯកតា\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input\r\n                                placeholder=\"ចំណាំ\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            type=\"primary\"\r\n                            style={{\r\n                                width: \"100%\"\r\n                            }}\r\n                        >\r\n                            បញ្ចូល\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Popconfirm, Tooltip, Image, Input, AutoComplete } from \"antd\"\r\nimport { searchOptions } from \"../../../functions/fn\"\r\n\r\nexport const CartViewCol = ({ ProductSearchDb, searchKeyword, handleSearch, onSelect, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <AutoComplete\r\n                    dropdownMatchSelectWidth={252}\r\n                    style={{\r\n                        width: \"100%\",\r\n                    }}\r\n                    options={searchOptions(ProductSearchDb?.getProducts?.data)}\r\n                    onSelect={onSelect}\r\n                    onSearch={handleSearch}\r\n                    value={searchKeyword}\r\n                >\r\n                    <Input\r\n                        prefix={<SearchOutlined />}\r\n                        placeholder=\"ស្វែងរកនិងបញ្ចូល...\"\r\n                    />\r\n                </AutoComplete>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <span>\r\n                            {index += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'រូបភាព',\r\n                    dataIndex: 'image',\r\n                    key: 'image',\r\n                    width: 100,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Image\r\n                            src={row.product.image}\r\n                            preview={false}\r\n                            width={30}\r\n                        />\r\n                    },\r\n                },\r\n                {\r\n                    title: 'បរិយាយ',\r\n                    dataIndex: 'description',\r\n                    key: 'description',\r\n                    width: 200,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={row.description}>\r\n                            {row.product.description}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំនួន',\r\n                    dataIndex: 'qty',\r\n                    key: 'qty',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.qty} ${row.product.um}`}>\r\n                            {row.qty} {row.product.um}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃ',\r\n                    dataIndex: 'price',\r\n                    key: 'price',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.price}`}>\r\n                            {row.price}$\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃសរុប',\r\n                    dataIndex: 'total',\r\n                    key: 'total',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.total}`}>\r\n                            {row.total}$\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំណាំ',\r\n                    dataIndex: 'remark',\r\n                    key: 'remark',\r\n                    width: 200,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.remark}`}>\r\n                            {row.remark}\r\n                        </Tooltip>\r\n                    },\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 120,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <div>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => { onUpdateFn(row) }}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    },\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { DeleteOutlined, EditOutlined, PrinterOutlined } from '@ant-design/icons'\r\nimport { useLazyQuery, useMutation, useQuery } from '@apollo/client'\r\nimport { Button, Col, Descriptions, Divider, InputNumber, Popconfirm, Rate, Row, Steps, Table, Typography } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { msgTitle } from '../../asset/data/msgTitle'\r\nimport { isHex, mutationCallBackFn, noticeAction } from '../../functions/fn'\r\nimport { GET_ALL_PRODUCT } from '../../graphql/product'\r\nimport { ADD_SUB_SALEORDER, DELETE_SALEORDER, DELETE_SUB_SALEORDER, UPDATE_SALEORDER, VIEW_SALEORDER_BY_ID } from '../../graphql/saleOrder'\r\nimport { theme } from '../../static/theme'\r\nimport MapViewOrder from './comp/mapViewOrder'\r\nimport PrintSaleOrder from './modal/printSaleOrder'\r\nimport UpdateCustomer from './modal/updateCustomer'\r\nimport UpdateDeliver from './modal/updateDeliver'\r\nimport UpdateLocation from './modal/updateLocation'\r\nimport UpdatetStatus from './modal/updateStatus'\r\nimport UpdateViewSubOrder from './modal/updateViewSubOrder'\r\nimport { CartViewCol } from './tableCols/cartViewCol'\r\n\r\nexport default function ViewSaleOrder() {\r\n    let history = useHistory()\r\n    let { slug } = useParams()\r\n\r\n    const [getProducts, { data: ProductSearchDb }] = useLazyQuery(GET_ALL_PRODUCT, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const { data: SaleOrderDb } = useQuery(VIEW_SALEORDER_BY_ID, {\r\n        variables: {\r\n            input: {\r\n                id: slug\r\n            }\r\n        },\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [updateSaleOrders] = useMutation(UPDATE_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    let data = SaleOrderDb?.getSaleOrderById\r\n    let customerData = {\r\n        orderId: data?.id,\r\n        id: data?.customer?.id?.id,\r\n        tel: data?.customer?.tel,\r\n        remark: data?.customer?.remark,\r\n        geolocation: {\r\n            lat: data?.customer?.geolocation?.lat,\r\n            long: data?.customer?.geolocation?.long,\r\n            placename: data?.customer?.geolocation?.placename\r\n        },\r\n        date: moment(data?.date)\r\n    }\r\n    // let customerLocationData = {\r\n    //     orderId: data?.id,\r\n    //     geolocation: data?.customer?.geolocation\r\n    // }\r\n    let deliverData = {\r\n        orderId: data?.id,\r\n        id: data?.deliver?.id?.id,\r\n        tel: data?.deliver?.tel,\r\n        remark: data?.deliver?.remark,\r\n        geolocation: {\r\n            lat: data?.deliver?.geolocation?.lat,\r\n            long: data?.deliver?.geolocation?.long,\r\n        },\r\n    }\r\n\r\n    const [deleteSaleOrders] = useMutation(DELETE_SALEORDER)\r\n    const [setSubSaleOrders] = useMutation(ADD_SUB_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n    const [deleteSubSaleOrders] = useMutation(DELETE_SUB_SALEORDER, mutationCallBackFn(VIEW_SALEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    let customerMap = {\r\n        lat: data?.customer?.geolocation?.lat === undefined ? 13.363175493211273 : data?.customer?.geolocation?.lat,\r\n        lng: data?.customer?.geolocation?.long === undefined ? 103.85653437154804 : data?.customer?.geolocation?.long\r\n    }\r\n\r\n    let deliverMap = {\r\n        lat: data?.deliver?.geolocation?.lat === undefined ? 13.363175493211273 : data?.deliver?.geolocation?.lat,\r\n        lng: data?.deliver?.geolocation?.long === undefined ? 103.85653437154804 : data?.deliver?.geolocation?.long\r\n    }\r\n\r\n    const [totalBL, setTotalBL] = useState({\r\n        subTotal: 0,\r\n        tax: 0,\r\n        offer: 0,\r\n        delivery: 0,\r\n        grandTotal: 0,\r\n        payment: 0,\r\n        noPaid: 0\r\n    })\r\n    const [totalQty, setTotalQty] = useState(0)\r\n    const [selectValue, setSelectValue] = useState({})\r\n    const [status, setStatus] = useState(0)\r\n    const [status2, setStatus2] = useState(null)\r\n\r\n    const [addTax, setAddTax] = useState(false)\r\n    const [addOffer, setAddOffer] = useState(false)\r\n    const [addDelivery, setAddDelivery] = useState(false)\r\n    const [addPayment, setAddPayment] = useState(false)\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n    const [openProductDetail, setOpenProductDetail] = useState(false)\r\n    const [openUpdateCustomer, setOpenUpdateCustomer] = useState(false)\r\n    const [openUpdateLocation, setOpenUpdateLocation] = useState(false)\r\n    const [openUpdateDeliver, setOpenUpdateDeliver] = useState(false)\r\n    const [openUpdateStatus, setOpenUpdateStatus] = useState(false)\r\n\r\n    const [searchKeyword, setSearchKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        let subTotal = 0\r\n        let sumQty = 0\r\n        data?.products?.map(load => subTotal += load.total)\r\n        data?.products?.map(load => sumQty += load.qty)\r\n\r\n        setTotalQty(e => sumQty)\r\n\r\n        setTotalBL(e => ({\r\n            subTotal: subTotal,\r\n            tax: e.tax,\r\n            offer: e.offer,\r\n            delivery: e.delivery,\r\n            payment: e.payment,\r\n            grandTotal: subTotal + e.tax - e.offer + e.delivery,\r\n            noPaid: (subTotal + e.tax - e.offer + e.delivery) - e.payment\r\n        }))\r\n    }, [data?.products])\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            setTotalBL({\r\n                subTotal: data?.subTotal,\r\n                tax: data?.tax,\r\n                offer: data?.offer,\r\n                delivery: data?.delivery,\r\n                payment: data?.payment,\r\n                grandTotal: data?.subTotal + data?.tax - data?.offer + data?.delivery,\r\n                noPaid: (data?.subTotal + data?.tax - data?.offer + data?.delivery) - data?.payment\r\n            })\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        getProducts({\r\n            variables: {\r\n                input: {\r\n                    current: 1,\r\n                    limit: 5,\r\n                    keyword: searchKeyword,\r\n                    sort: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    },\r\n                    filter: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }, [searchKeyword, getProducts])\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            if (!data?.status?.isPrepared && !data?.status?.isCooked && !data?.status?.isDelivered && !data?.status?.isPaid && !data?.status?.canceled) {\r\n                setStatus(null)\r\n                setStatus2(null)\r\n            } else if (data?.status?.isPrepared && !data?.status?.isCooked && !data?.status?.isDelivered && !data?.status?.isPaid && !data?.status?.isCanceled) {\r\n                setStatus(0)\r\n                setStatus2(null)\r\n            } else if (data?.status?.isPrepared && data?.status?.isCooked && !data?.status?.isDelivered && !data?.status?.isPaid && !data?.status?.isCanceled) {\r\n                setStatus(1)\r\n                setStatus2(null)\r\n            } else if (data?.status?.isPrepared && data?.status?.isCooked && data?.status?.isDelivered && !data?.status?.isPaid && !data?.status?.isCanceled) {\r\n                setStatus(2)\r\n                setStatus2(null)\r\n            } else if (data?.status?.isPrepared && data?.status?.isCooked && data?.status?.isDelivered && data?.status?.isPaid && !data?.status?.isCanceled) {\r\n                setStatus(2)\r\n                setStatus2(0)\r\n            } else if (data?.status?.isPrepared && data?.status?.isCooked && data?.status?.isDelivered && data?.status?.isPaid && data?.status?.isCanceled) {\r\n                setStatus(2)\r\n                setStatus2(1)\r\n            } else {\r\n                setStatus(null)\r\n                setStatus2(null)\r\n            }\r\n        }\r\n    }, [data])\r\n\r\n    // console.log(data)\r\n\r\n    const handleSearch = (value) => {\r\n        setSearchKeyword(value)\r\n\r\n        if (isHex(value)) {\r\n            // pushToCart(value)\r\n            let array = ProductSearchDb?.getProducts?.data?.find(ele => ele.id === value)\r\n\r\n            if (array > -1) {\r\n                let newArray = {\r\n                    orderId: data?.id,\r\n                    id: array.id,\r\n                    qty: 1,\r\n                    price: array.price,\r\n                    total: array.price,\r\n                    remark: \"\"\r\n                }\r\n\r\n                setSubSaleOrders({\r\n                    variables: {\r\n                        input: newArray\r\n                    },\r\n                    update(_, result) {\r\n                        noticeAction(\"success\", msgTitle.CREATE)\r\n                    }\r\n                })\r\n            }\r\n\r\n            setSearchKeyword(\"\")\r\n        }\r\n    };\r\n\r\n\r\n    const onSelect = (value) => {\r\n        // pushToCart(value)\r\n        // console.log(value)\r\n\r\n        let array = ProductSearchDb?.getProducts?.data?.find(ele => ele.id === value)\r\n\r\n        if (array) {\r\n            let newArray = {\r\n                orderId: data?.id,\r\n                id: array.id,\r\n                qty: 1,\r\n                price: array.price,\r\n                total: array.price,\r\n                remark: \"\"\r\n            }\r\n\r\n            setSubSaleOrders({\r\n                variables: {\r\n                    input: newArray\r\n                },\r\n                update(_, result) {\r\n                    noticeAction(\"success\", msgTitle.CREATE)\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    const onUpdateFn = (e) => {\r\n        let newArray = {\r\n            orderId: data?.id,\r\n            id: e.id,\r\n            image: e.product.image,\r\n            description: e.product.description,\r\n            um: e.product.um,\r\n            qty: e.qty,\r\n            price: e.price,\r\n            total: e.total,\r\n            remark: e.remark\r\n        }\r\n\r\n        setSelectValue(newArray)\r\n        setOpenProductDetail(true)\r\n    }\r\n\r\n    const onUpdateTotalBL = (e) => {\r\n        updateSaleOrders({\r\n            variables: {\r\n                input: e\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteSubSaleOrders({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                // console.log(result)\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onDeleteRecieptFn = () => {\r\n        deleteSaleOrders({\r\n            variables: {\r\n                input: {\r\n                    id: data?.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                history.push(\"/saleorder\")\r\n                noticeAction(\"success\", msgTitle.DELETE)\r\n            }\r\n        })\r\n    }\r\n\r\n    const clearDataFn = () => {\r\n        setOpenPrint(false)\r\n    }\r\n\r\n    console.log(data)\r\n\r\n    return (\r\n        <div>\r\n            <UpdateViewSubOrder open={openProductDetail} setOpen={setOpenProductDetail} selectData={selectValue} />\r\n            <PrintSaleOrder open={openPrint} setOpen={setOpenPrint} data={data} clearDataFn={clearDataFn} />\r\n            <UpdateCustomer open={openUpdateCustomer} setOpen={setOpenUpdateCustomer} data={customerData} />\r\n            <UpdateLocation open={openUpdateLocation} setOpen={setOpenUpdateLocation} data={customerData} />\r\n            <UpdateDeliver open={openUpdateDeliver} setOpen={setOpenUpdateDeliver} data={deliverData} />\r\n            <UpdatetStatus open={openUpdateStatus} setOpen={setOpenUpdateStatus} updateData={data} />\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={10}\r\n                >\r\n                    <Typography.Title level={4}>វិក័យបត្រ៖ {data?.id}</Typography.Title>\r\n                    <Typography.Text strong>កាលបរិច្ឆេទ៖ {moment(data?.date).format(\"DD-MMM-YYYY\")}</Typography.Text>\r\n                    <Divider orientation=\"left\">អតិថិជន</Divider>\r\n                    <Descriptions bordered size=\"small\">\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ឈ្មោះ៖\" span={3}>\r\n                            {data?.customer?.id?.lname} {data?.customer?.id?.fname}\r\n                            <Button\r\n                                size=\"small\"\r\n                                type=\"link\"\r\n                                onClick={() => setOpenUpdateCustomer(true)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                        </Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ទូរស័ព្ទ៖\" span={3}>+855(0){data?.customer?.tel}</Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ចំណាំ៖\" span={3}>{data?.customer?.remark}</Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ទីតាំង៖\" span={3}>\r\n                            ({data?.customer?.geolocation?.lat}, {data?.customer?.geolocation?.long})\r\n                            <Button\r\n                                size=\"small\"\r\n                                type=\"link\"\r\n                                onClick={() => setOpenUpdateLocation(true)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                        </Descriptions.Item>\r\n                    </Descriptions>\r\n                    <Divider orientation=\"left\">អ្នកដឹកជញ្ជូន</Divider>\r\n                    <Descriptions bordered size=\"small\">\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ឈ្មោះ៖\" span={3}>\r\n                            {data?.deliver?.id?.lname} {data?.deliver?.id?.fname}\r\n                            <Button\r\n                                size=\"small\"\r\n                                type=\"link\"\r\n                                onClick={() => setOpenUpdateDeliver(true)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                        </Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ទូរស័ព្ទ៖\" span={3}>+855(0){data?.deliver?.tel}</Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ចំណាំ៖\" span={3}>{data?.customer?.remark}</Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ទីតាំង៖\" span={3}>\r\n                            ({data?.deliver?.geolocation?.lat}, {data?.deliver?.geolocation?.long})\r\n                        </Descriptions.Item>\r\n                    </Descriptions>\r\n                    <Divider orientation=\"left\">ទីតាំង</Divider>\r\n                    <div style={{ height: '400px', width: '100%' }}>\r\n                        {data?.geolocation?.lat !== 0 ? <MapViewOrder customerMap={customerMap} deliverMap={deliverMap} /> :\r\n                            <Typography.Text mark>មិនមានទីតាំង</Typography.Text>\r\n                        }\r\n                    </div>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={14}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Divider orientation=\"left\">ទំនិញ</Divider>\r\n                        <Table\r\n                            bordered\r\n                            columns={CartViewCol({ ProductSearchDb, searchKeyword, handleSearch, onSelect, onUpdateFn, onDeleteFn })}\r\n                            dataSource={data?.products}\r\n                            sticky\r\n                            scroll={{ x: 500, y: 200 }}\r\n                            rowKey={record => record.id}\r\n                            pagination={false}\r\n                            size={theme.tableSize}\r\n                        />\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Row gutter={16}>\r\n                            <Col\r\n                                xs={24}\r\n                                md={{ offset: 12, span: 12 }}\r\n                            >\r\n                                <div\r\n                                    style={{\r\n                                        paddingTop: 10,\r\n                                        textAlign: \"right\"\r\n                                    }}\r\n                                >\r\n                                    <Typography.Text\r\n                                        mark\r\n                                    >\r\n                                        ({data?.products?.length} មុខ និង {totalQty} ទំនិញ)\r\n                                    </Typography.Text>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <Row gutter={16}>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Divider orientation=\"left\" level={5}>Rate</Divider>\r\n                                <Descriptions>\r\n                                    <Descriptions.Item span={3}><Rate\r\n                                        disabled\r\n                                        defaultValue={data?.rate?.rate}\r\n                                    />\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item label=\"Comments\" span={3}>{data?.rate?.comment}</Descriptions.Item>\r\n                                    <Descriptions.Item label=\"Feedback\" span={3}>{data?.feedback}</Descriptions.Item>\r\n                                </Descriptions>\r\n                                <Typography.Text>\r\n                                    Status: {data?.status?.deliveryTime}min\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        type=\"link\"\r\n                                        onClick={() => setOpenUpdateStatus(true)}\r\n                                    >\r\n                                        <EditOutlined />\r\n                                    </Button>\r\n                                </Typography.Text>\r\n                                <Steps current={status} size=\"small\" progressDot={true}>\r\n                                    <Steps.Step title=\"IsPrepared\" />\r\n                                    <Steps.Step title=\"IsCooked\" />\r\n                                    <Steps.Step title=\"IsDelivered\" />\r\n                                </Steps>\r\n                                <Steps current={status2} size=\"small\" progressDot={true}>\r\n                                    <Steps.Step title=\"IsPaid\" />\r\n                                    <Steps.Step title=\"IsCancel\" status={'error'} />\r\n                                </Steps>\r\n\r\n                            </Col>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Descriptions\r\n                                    bordered\r\n                                    size=\"small\"\r\n                                >\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុប\"\r\n                                        span={3}\r\n                                    >\r\n                                        {totalBL.subTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            កាត់ពន្ធ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddTax(!addTax)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addTax ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.tax}\r\n                                                onBlur={e => {\r\n                                                    setAddTax(!addTax)\r\n                                                    onUpdateTotalBL({\r\n                                                        id: data?.id,\r\n                                                        tax: parseFloat(e.target.value)\r\n                                                    })\r\n                                                }}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.tax + \"$\"\r\n                                        }\r\n\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            បញ្ចុះតម្លៃ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddOffer(!addOffer)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addOffer ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.offer}\r\n                                                onBlur={e => {\r\n                                                    onUpdateTotalBL({\r\n                                                        id: data?.id,\r\n                                                        offer: parseFloat(e.target.value)\r\n                                                    })\r\n                                                    setAddOffer(!addOffer)\r\n                                                }}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.offer + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            តម្លៃដឹកជញ្ជូន\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddDelivery(!addDelivery)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addDelivery ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.delivery}\r\n                                                onBlur={e => {\r\n                                                    onUpdateTotalBL({\r\n                                                        id: data?.id,\r\n                                                        delivery: parseFloat(e.target.value)\r\n                                                    })\r\n                                                    setAddDelivery(!addDelivery)\r\n                                                }}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.delivery + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុបចុងក្រោយ\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.grandTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            ការទូរទាត់៖\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddPayment(!addPayment)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addPayment ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.payment}\r\n                                                onBlur={e => {\r\n                                                    onUpdateTotalBL({\r\n                                                        id: data?.id,\r\n                                                        payment: parseFloat(e.target.value)\r\n                                                    })\r\n                                                    setAddPayment(!addPayment)\r\n                                                }}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.payment + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃមិនទាន់ទូទាត់\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.noPaid}$\r\n                                    </Descriptions.Item>\r\n                                </Descriptions>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            marginTop: 20\r\n                        }}\r\n                    >\r\n                        <Row\r\n                            gutter={[16, 16]}\r\n                        >\r\n                            <Col\r\n                                xs={12}\r\n                            >\r\n                                <Button\r\n                                    style={{\r\n                                        width: \"100%\"\r\n                                    }}\r\n                                    icon={<PrinterOutlined />}\r\n                                    type=\"primary\"\r\n                                    onClick={() => setOpenPrint(true)}\r\n                                    size={theme.btnSize}\r\n                                >\r\n                                    បោះពុម្ព\r\n                                </Button>\r\n                            </Col>\r\n                            <Col\r\n                                xs={12}\r\n                            >\r\n                                <Popconfirm\r\n                                    title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                    okText=\"ចង់\"\r\n                                    cancelText=\"មិនចង់\"\r\n                                    okType=\"danger\"\r\n                                    onConfirm={() => onDeleteRecieptFn()}\r\n                                >\r\n                                    <Button\r\n                                        type=\"primary\"\r\n                                        danger\r\n                                        icon={<DeleteOutlined />}\r\n                                        style={{\r\n                                            width: \"100%\"\r\n                                        }}\r\n                                        size={theme.btnSize}\r\n                                    >\r\n                                        លុបវិក័យបត្រ\r\n                                    </Button>\r\n                                </Popconfirm>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, MoreOutlined } from \"@ant-design/icons\"\r\nimport { Button, Popconfirm, Tooltip, Image } from \"antd\"\r\n\r\nexport const CartCol = ({ onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: 'ល.រ',\r\n            dataIndex: 'createAt',\r\n            key: 'createAt',\r\n            width: 80,\r\n            align: \"center\",\r\n            render: (value, row, index) => {\r\n                return <span>\r\n                    {index += 1}\r\n                </span>\r\n            },\r\n        },\r\n        {\r\n            title: 'រូបភាព',\r\n            dataIndex: 'image',\r\n            key: 'image',\r\n            width: 100,\r\n            align: \"center\",\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Image\r\n                    src={row.image}\r\n                    preview={false}\r\n                    width={30}\r\n                />\r\n            },\r\n        },\r\n        {\r\n            title: 'បរិយាយ',\r\n            dataIndex: 'description',\r\n            key: 'description',\r\n            width: 200,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={row.description}>\r\n                    {row.description}\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'ចំនួន',\r\n            dataIndex: 'qty',\r\n            key: 'qty',\r\n            width: 100,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.qty} ${row.um}`}>\r\n                    {row.qty} {row.um}\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'តម្លៃ',\r\n            dataIndex: 'price',\r\n            key: 'price',\r\n            width: 100,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.price}`}>\r\n                    {row.price}$\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'តម្លៃសរុប',\r\n            dataIndex: 'total',\r\n            key: 'total',\r\n            width: 100,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.total}`}>\r\n                    {row.total}$\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: 'ចំណាំ',\r\n            dataIndex: 'remark',\r\n            key: 'remark',\r\n            width: 200,\r\n            ellipsis: true,\r\n            render: (value, row, index) => {\r\n                return <Tooltip title={`${row.remark}`}>\r\n                    {row.remark}\r\n                </Tooltip>\r\n            },\r\n        },\r\n        {\r\n            title: () => <MoreOutlined />,\r\n            dataIndex: 'more',\r\n            key: 'more',\r\n            width: 150,\r\n            fixed: 'right',\r\n            align: \"center\",\r\n            render: (value, row, index) => {\r\n                return <div>\r\n                    <Button\r\n                        type=\"link\"\r\n                        size=\"small\"\r\n                        onClick={() => {onUpdateFn(row)}}\r\n                    >\r\n                        <EditOutlined />\r\n                    </Button>\r\n                    <Popconfirm\r\n                        title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                        okText=\"ចង់\"\r\n                        cancelText=\"មិនចង់\"\r\n                        okType=\"danger\"\r\n                        placement=\"left\"\r\n                        onConfirm={() => onDeleteFn(index)}\r\n                    >\r\n                        <Button\r\n                            type=\"link\"\r\n                            danger\r\n                            size=\"small\"\r\n                        >\r\n                            <DeleteOutlined />\r\n                        </Button>\r\n                    </Popconfirm>\r\n                </div>\r\n            },\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { Descriptions, Divider, Modal, Form, Row, Col, InputNumber, Button, Input } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertEditData } from '../../../functions/fn'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function UpdateCart({ open, setOpen, selectData, cartData, setCartData }) {\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        setData(selectData)\r\n    }, [selectData])\r\n\r\n    const onFinish = (values) => {\r\n        let newArray = [...cartData]\r\n\r\n        let index = cartData?.findIndex(ele => ele.product === selectData.id)\r\n\r\n        newArray[index].qty = values.qty\r\n        newArray[index].price = values.price\r\n        newArray[index].total = values.qty * values.price\r\n        newArray[index].remark = values.remark\r\n\r\n        setCartData(newArray)\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title={\"ព័ត៌មានលម្អិត\"}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Descriptions bordered>\r\n                <Descriptions.Item label=\"បរិយាយ\" span={3}>{data?.description}</Descriptions.Item>\r\n                <Descriptions.Item label=\"អត្ថលេខ\" span={3}>{data?.id}</Descriptions.Item>\r\n                <Descriptions.Item label=\"តម្លៃ\" span={3}>{data?.price}$ /{data?.um}</Descriptions.Item>\r\n            </Descriptions>\r\n            <Divider>ការកំណត់</Divider>\r\n            <Form\r\n                name=\"addCart\"\r\n                fields={convertEditData(data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"qty\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"ចំនួន\"\r\n                                size={theme.inputSize}\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={4}\r\n                    >\r\n                        <center>\r\n                            X\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"price\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.inputSize}\r\n                                placeholder=\"តម្លៃឯកតា\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input\r\n                                placeholder=\"ចំណាំ\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            type=\"primary\"\r\n                            style={{\r\n                                width: \"100%\"\r\n                            }}\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បញ្ចូល\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useLazyQuery } from '@apollo/client'\r\nimport { Row, Form, Modal, Col, Select, Input, DatePicker, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { convertEditData, noticeAction } from '../../../functions/fn'\r\nimport { GET_ALL_SUPPLIER } from '../../../graphql/supplier'\r\nimport { theme } from '../../../static/theme'\r\n\r\nexport default function AddSupplierToPO({ open, setOpen, data, setData }) {\r\n    let [form] = Form.useForm()\r\n    const [getSuppliers, { data: SupplierDb }] = useLazyQuery(GET_ALL_SUPPLIER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getSuppliers({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [keyword, getSuppliers])\r\n\r\n    const onFinish = (values) => {\r\n        let array = SupplierDb?.getSuppliers?.data.find(ele => ele.id === values.supplier)\r\n        setData({\r\n            ...values,\r\n            companyName: array.companyName\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelect(val) {\r\n        let array = SupplierDb?.getSuppliers?.data.find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            tel: array.tel\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលព័ត៌មាន\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addSupplierToSale\"\r\n                layout=\"vertical\"\r\n                // hideRequiredMark\r\n                fields={convertEditData(data ? data : [])}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ឈ្មោះក្រុមហ៊ុន\"\r\n                            name=\"supplier\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Supplier\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                onSelect={onSelect}\r\n                                size={theme.selectSize}\r\n                            >\r\n                                {\r\n                                    SupplierDb?.getSuppliers?.data.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.companyName}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ទូរស័ព្ទ\"\r\n                            name=\"tel\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Telephone\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"កាលបរិច្ឆេទ\"\r\n                            name=\"date\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <DatePicker\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"Date\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button \r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                size={theme.btnSize}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Image, Row } from 'antd';\r\nimport moment from 'moment';\r\nimport Qrcode from 'qrcode.react';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\n\r\nclass PrintComponent extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n\r\n        console.log(data)\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={80}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <table\r\n                            className=\"go-tblHeader\"\r\n                            width=\"100%\"\r\n                            style={{\r\n                                textAlign: \"left\"\r\n                            }}\r\n                        >\r\n                            <tr>\r\n                                <th>លេខវិក័យបត្រ៖ </th>\r\n                                <td>{data?.id}</td>\r\n                                <th>អ្នកផ្គត់ផ្គង់៖ </th>\r\n                                <td>{data?.supplier?.companyName}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>កាលបរិច្ឆេទ៖ </th>\r\n                                <td>{moment(data?.date).format(\"DD-MMM-YYYY\")}</td>\r\n                                <th>ទូរស័ព្ទ៖ </th>\r\n                                <td>{data?.tel}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            // border=\"1\"\r\n                            className={\"go-tblProduct\"}\r\n                            width=\"100%\"\r\n                            style={{\r\n                                textAlign: \"center\"\r\n                            }}\r\n                        >\r\n                            <thead>\r\n                                <tr>\r\n                                    <th width={200}>បរិយាយ</th>\r\n                                    <th width={50}>ចំនួន</th>\r\n                                    <th width={100}>តម្លៃរាយ</th>\r\n                                    <th width={100}>តម្លៃសរុប</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {data?.products?.map(load => (\r\n                                    <tr key={load.product.id}>\r\n                                        <td>{load.product.description}</td>\r\n                                        <td>{load.qty}</td>\r\n                                        <td>{load.price}$</td>\r\n                                        <td>{load.total}$</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr key=\"remark\">\r\n                                    <td\r\n                                        rowSpan=\"7\"\r\n                                        colSpan=\"2\"\r\n                                        style={{\r\n                                            textAlign: \"left\",\r\n                                            verticalAlign: \"top\",\r\n                                        }}\r\n                                    >\r\n                                        <b><i>ចំណាំ៖</i></b> {data?.remark}\r\n                                    </td>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុប\r\n                                    </th>\r\n                                    <td>{data?.subTotal}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        កាត់ពន្ធ\r\n                                    </td>\r\n                                    <td>{data?.tax}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        បញ្ចុះតម្លៃ\r\n                                    </td>\r\n                                    <td>{data?.offer}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃដឹកជញ្ជូន\r\n                                    </td>\r\n                                    <td>{data?.delivery}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុបចុងក្រោយ\r\n                                    </th>\r\n                                    <td>{data?.grandTotal}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        ការទូរទាត់\r\n                                    </td>\r\n                                    <td>{data?.payment}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃមិនទាន់ទូទាត់\r\n                                    </th>\r\n                                    <td>{data?.grandTotal - data?.payment}$</td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <center>\r\n                            <b>\r\n                                Thank for your support.\r\n                            </b><br /><br />\r\n                            <Qrcode \r\n                                size={100}\r\n                                value={data?.id} \r\n                                renderAs=\"svg\"\r\n                            />\r\n                        </center>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintComponent","import React, { useRef } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport PrintComponent from '../comp/printComponent';\r\n\r\nexport default function PrintPurchaseOrder({ open, data, clearDataFn }) {\r\n    const componentRef = useRef()\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={600}\r\n            onCancel={() => clearDataFn()}\r\n            footer={[\r\n                <Button\r\n                    type=\"link\"\r\n                    danger\r\n                    key=\"cancel\"\r\n                    href=\"/purchaseorder\"\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintComponent ref={componentRef} data={data} />\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Row, Col, AutoComplete, Input, Divider, Button, Empty, Image, Typography, Pagination, Table, Descriptions, InputNumber, Timeline } from 'antd'\r\nimport { GET_ALL_CATEGORY, GET_ALL_PRODUCT, GET_PRODUCT_BY_CTG, GET_PRODUCT_BY_ID } from '../../graphql/product'\r\nimport { useLazyQuery, useMutation, useQuery } from '@apollo/client'\r\nimport { noticeAction, searchOptions, convertProduct } from '../../functions/fn'\r\nimport { PlusCircleOutlined, SearchOutlined } from '@ant-design/icons'\r\nimport moment from 'moment'\r\nimport { CartCol } from './tableCols/cartCol'\r\nimport UpdateCart from './modal/updateCart'\r\nimport AddSupplierToPO from './modal/addSupplierToPO'\r\nimport { msgTitle } from '../../asset/data/msgTitle'\r\nimport { ADD_PURCHASEORDER } from '../../graphql/purchaseOrder'\r\nimport PrintPurchaseOrder from './modal/printPurchaseOrder'\r\nimport { theme } from '../../static/theme'\r\n\r\nexport default function AddPurchaseOrder() {\r\n    const { data: CategoryDb } = useQuery(GET_ALL_CATEGORY, {\r\n        onError: (err) => {\r\n            console.log(err)\r\n        },\r\n    })\r\n\r\n    const [getProducts, { data: ProductSearchDb }] = useLazyQuery(GET_ALL_PRODUCT, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [getProductBySelectCTG, { data: ProductDb }] = useLazyQuery(GET_PRODUCT_BY_CTG, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [setPurchaseOrders] = useMutation(ADD_PURCHASEORDER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        }\r\n    })\r\n    \r\n    const [getProductById] = useMutation(GET_PRODUCT_BY_ID, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [cartData, setCartData] = useState([])\r\n    const [selectValue, setSelectValue] = useState({})\r\n    const [totalQty, setTotalQty] = useState(0)\r\n    const [totalBL, setTotalBL] = useState({\r\n        subTotal: 0,\r\n        tax: 0,\r\n        offer: 0,\r\n        delivery: 0,\r\n        grandTotal: 0,\r\n        payment: 0,\r\n        noPaid: 0\r\n    })\r\n    const [supplierData, setSupplierData] = useState({\r\n        date: moment()\r\n    })\r\n    const [printData, setPrintData] = useState({})\r\n\r\n    const [addTax, setAddTax] = useState(false)\r\n    const [addOffer, setAddOffer] = useState(false)\r\n    const [addDelivery, setAddDelivery] = useState(false)\r\n    const [addPayment, setAddPayment] = useState(false)\r\n    const [activeCategory, setActiveCategory] = useState(\"all\")\r\n\r\n    const [openProductDetail, setOpenProductDetail] = useState(false)\r\n    const [openAddSupplier, setOpenAddSupplier] = useState(false)\r\n    // const [openAddLocation, setOpenAddLocation] = useState(false)\r\n    // const [openAddDeliver, setOpenAddDeliver] = useState(false)\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const [searchKeyword, setSearchKeyword] = useState(\"\")\r\n    const [current, setCurrent] = useState(1)\r\n    const [limit, setLimit] = useState(8)\r\n\r\n    useEffect(() => {\r\n        getProducts({\r\n            variables: {\r\n                input: {\r\n                    current: 1,\r\n                    limit: 5,\r\n                    keyword: searchKeyword,\r\n                    sort: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    },\r\n                    filter: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }, [searchKeyword, getProducts])\r\n\r\n    useEffect(() => {\r\n        getProductBySelectCTG({\r\n            variables: {\r\n                input: {\r\n                    id: activeCategory,\r\n                    current: current,\r\n                    limit: limit,\r\n                }\r\n            },\r\n        })\r\n    }, [getProductBySelectCTG, activeCategory, current, limit])\r\n\r\n    useEffect(() => {\r\n        let subTotal = 0\r\n        let sumQty = 0\r\n        cartData?.map(load => subTotal += load.total)\r\n        cartData?.map(load => sumQty += load.qty)\r\n\r\n        setTotalQty(e => sumQty)\r\n\r\n        setTotalBL(e => ({\r\n            subTotal: subTotal,\r\n            tax: e.tax,\r\n            offer: e.offer,\r\n            delivery: e.delivery,\r\n            payment: e.payment,\r\n            grandTotal: subTotal + e.tax - e.offer + e.delivery,\r\n            noPaid: (subTotal + e.tax - e.offer + e.delivery) - e.payment\r\n        }))\r\n    }, [cartData, addTax, addOffer, addDelivery, addPayment])\r\n\r\n    const selectCategoryFn = (e) => {\r\n        setActiveCategory(e.id)\r\n    }\r\n\r\n    const handleSearch = (value) => {\r\n        setSearchKeyword(value)\r\n\r\n        // if (isHex(value)) {\r\n        //     pushToCart(value)\r\n        //     setSearchKeyword(\"\")\r\n        // }\r\n    };\r\n\r\n    const handleSearchEnter = async (e) => {\r\n        if (e.key === 'Enter') {\r\n            getProductById({\r\n                variables: {\r\n                    input: {\r\n                        id: e.target.value\r\n                    }\r\n                },\r\n                update(_, { data: productById }) {\r\n                    // console.log(productById.getProductById)\r\n                    let findProduct = productById.getProductById\r\n                    let newArray = [...cartData]\r\n                    let index = cartData?.findIndex(ele => ele.product === findProduct.id)\r\n            \r\n                    if (index === -1) {\r\n                        newArray.push({\r\n                            ...findProduct,\r\n                            product: findProduct?.id,\r\n                            qty: 1,\r\n                            price: findProduct.price,\r\n                            total: 1 * findProduct.price,\r\n                            remark: \"\"\r\n                        })\r\n                    } else {\r\n                        newArray[index].qty = newArray[index].qty + 1\r\n                        newArray[index].price = findProduct.price\r\n                        newArray[index].total = (newArray[index].qty) * findProduct.price\r\n                    }\r\n            \r\n                    setCartData(newArray)\r\n                    setSearchKeyword(\"\")\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    const onSelect = (value) => {\r\n        pushToCart(value)\r\n    };\r\n\r\n    const pushToCart = (e) => {\r\n        let findData = ProductSearchDb?.getProducts?.data.find(ele => ele.id === e)\r\n\r\n        let newArray = [...cartData]\r\n        let index = cartData?.findIndex(ele => ele.product === findData.id)\r\n\r\n        if (index === -1) {\r\n            newArray.push({\r\n                ...findData,\r\n                product: findData?.id,\r\n                qty: 1,\r\n                price: findData.cost,\r\n                total: 1 * findData.price,\r\n                remark: \"\"\r\n            })\r\n        } else {\r\n            newArray[index].qty = newArray[index].qty + 1\r\n            newArray[index].price = findData.cost\r\n            newArray[index].total = (newArray[index].qty) * findData.cost\r\n        }\r\n\r\n        setCartData(newArray)\r\n        setSearchKeyword(\"\")\r\n    }\r\n\r\n\r\n    const onSelectCard = (value) => {\r\n        let newArray = [...cartData]\r\n        let index = cartData?.findIndex(ele => ele.product === value.id)\r\n\r\n        if (index === -1) {\r\n            newArray.push({\r\n                ...value,\r\n                product: value?.id,\r\n                qty: 1,\r\n                price: value.cost,\r\n                total: 1 * value.price,\r\n                remark: \"\"\r\n            })\r\n        } else {\r\n            newArray[index].qty = newArray[index].qty + 1\r\n            newArray[index].price = value.cost\r\n            newArray[index].total = (newArray[index].qty) * value.cost\r\n        }\r\n\r\n        setCartData(newArray)\r\n\r\n    };\r\n\r\n\r\n    const onShowSizeChange = (current, pageSize) => {\r\n        setCurrent(current)\r\n        setLimit(pageSize)\r\n        getProductBySelectCTG({\r\n            variables: {\r\n                input: {\r\n                    id: activeCategory,\r\n                    current: current,\r\n                    limit: pageSize,\r\n                }\r\n            },\r\n        })\r\n    }\r\n\r\n    const onUpdateFn = (e) => {\r\n        setSelectValue(e)\r\n        setOpenProductDetail(true)\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        let array = [...cartData]\r\n        array.splice(e, 1)\r\n        setCartData(array)\r\n    }\r\n\r\n    const onSubmitFn = () => {\r\n        let newArray = {\r\n            supplier: supplierData?.supplier,\r\n            tel: supplierData?.tel,\r\n            remark: supplierData?.remark,\r\n            date: supplierData?.date,\r\n            products: convertProduct(cartData),\r\n            subTotal: totalBL?.subTotal,\r\n            tax: totalBL?.tax,\r\n            offer: totalBL?.offer,\r\n            delivery: totalBL?.delivery,\r\n            grandTotal: totalBL?.grandTotal,\r\n            payment: totalBL?.payment,\r\n        }\r\n\r\n        // console.log(newArray)\r\n\r\n        setPurchaseOrders({\r\n            variables: {\r\n                input: newArray\r\n            },\r\n            update(_, result) {\r\n                // console.log(result)\r\n                noticeAction(\"success\", msgTitle.CREATE)\r\n                // history.push(\"/saleorder\")\r\n                // history.goBack()\r\n                setPrintData(result?.data?.setPurchaseOrders)\r\n                setOpenPrint(true)\r\n            }\r\n        })\r\n    }\r\n\r\n    const clearDataFn = () => {\r\n        setOpenPrint(false)\r\n        setCartData([])\r\n        setSelectValue({})\r\n        setTotalQty(0)\r\n        setTotalBL({\r\n            subTotal: 0,\r\n            tax: 0,\r\n            offer: 0,\r\n            delivery: 0,\r\n            grandTotal: 0,\r\n            payment: 0,\r\n            noPaid: 0\r\n        })\r\n        setSupplierData({\r\n            date: moment()\r\n        })\r\n        setPrintData({})\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <UpdateCart open={openProductDetail} setOpen={setOpenProductDetail} selectData={selectValue} cartData={cartData} setCartData={setCartData} />\r\n            <AddSupplierToPO open={openAddSupplier} setOpen={setOpenAddSupplier} data={supplierData} setData={setSupplierData} />\r\n            <PrintPurchaseOrder open={openPrint} setOpen={setOpenPrint} data={printData} clearDataFn={clearDataFn} />\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={10}\r\n                >\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col\r\n                            xs={24}\r\n                        >\r\n                            <Row gutter={16}>\r\n                                <Col\r\n                                    xs={24}\r\n                                >\r\n                                    <AutoComplete\r\n                                        dropdownMatchSelectWidth={252}\r\n                                        style={{\r\n                                            width: \"100%\",\r\n                                        }}\r\n                                        options={searchOptions(ProductSearchDb?.getProducts?.data)}\r\n                                        onSelect={onSelect}\r\n                                        onSearch={handleSearch}\r\n                                        onInputKeyDown={handleSearchEnter}\r\n                                        value={searchKeyword}\r\n                                    >\r\n                                        <Input\r\n                                            prefix={<SearchOutlined />}\r\n                                            placeholder=\"ស្វែងរក...\"\r\n                                        />\r\n                                    </AutoComplete>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                >\r\n                                    <Divider orientation=\"left\">ប្រភេទទំនិញ៖</Divider>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                >\r\n                                    <Row gutter={[16, 16]}>\r\n                                        <Col\r\n                                            xs={12}\r\n                                            md={8}\r\n                                            key={\"all\"}\r\n                                        >\r\n                                            <Button\r\n                                                type={activeCategory === \"all\" ? \"primary\" : \"dashed\"}\r\n                                                style={{\r\n                                                    width: \"100%\"\r\n                                                }}\r\n                                                onClick={() => selectCategoryFn({\r\n                                                    id: \"all\"\r\n                                                })}\r\n                                                size={theme.btnSize}\r\n                                            >\r\n                                                ទាំងអស់\r\n                                            </Button>\r\n                                        </Col>\r\n                                        {\r\n                                            CategoryDb?.getCategories?.data?.map(load => (\r\n                                                <Col\r\n                                                    xs={12}\r\n                                                    md={8}\r\n                                                    key={load.id}\r\n                                                >\r\n                                                    <Button\r\n                                                        type={activeCategory === load.id ? \"primary\" : \"dashed\"}\r\n                                                        style={{\r\n                                                            width: \"100%\"\r\n                                                        }}\r\n                                                        size={theme.btnSize}\r\n                                                        onClick={() => selectCategoryFn(load)}\r\n                                                    >\r\n                                                        {load.description}\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            ))\r\n                                        }\r\n                                    </Row>\r\n                                </Col>\r\n                                <Col\r\n                                    xs={24}\r\n                                    style={{\r\n                                        paddingTop: 20\r\n                                    }}\r\n                                >\r\n                                    <Row\r\n                                        gutter={16}\r\n                                    >\r\n                                        <Col\r\n                                            xs={24}\r\n                                        >\r\n                                            <Divider orientation=\"left\">ទំនិញ៖</Divider>\r\n                                        </Col>\r\n                                        {\r\n                                            !ProductDb || ProductDb?.getProductBySelectCTG?.data?.length === 0 ? (\r\n                                                <Col\r\n                                                    xs={24}\r\n                                                >\r\n                                                    <Empty />\r\n                                                </Col>\r\n                                            ) : (\r\n                                                ProductDb?.getProductBySelectCTG?.data?.map(load => (\r\n                                                    <Col\r\n                                                        xs={12}\r\n                                                        md={6}\r\n                                                        key={load.id}\r\n                                                    >\r\n                                                        <div\r\n                                                            className=\"go-card\"\r\n                                                            onClick={() => onSelectCard(load)}\r\n                                                        >\r\n                                                            <Image\r\n                                                                src={load.image}\r\n                                                                preview={false}\r\n                                                            />\r\n                                                            <Typography.Title level={5}>\r\n                                                                {load.description}\r\n                                                            </Typography.Title>\r\n                                                            <Typography.Text mark>\r\n                                                                តម្លៃ៖ {load.cost}$ /{load.um}\r\n                                                            </Typography.Text><br />\r\n                                                            <Typography.Text ellipsis={true}>\r\n                                                                {load.id}\r\n                                                            </Typography.Text>\r\n                                                        </div>\r\n                                                    </Col>\r\n                                                ))\r\n                                            )\r\n                                        }\r\n                                        <Col\r\n                                            xs={24}\r\n                                            style={{\r\n                                                paddingTop: 20,\r\n                                            }}\r\n                                        >\r\n                                            <Pagination\r\n                                                showSizeChanger\r\n                                                pageSizeOptions={[8, 16, 32]}\r\n                                                onChange={onShowSizeChange}\r\n                                                pageSize={limit}\r\n                                                current={current}\r\n                                                total={ProductDb?.getProductBySelectCTG?.pagination?.count}\r\n                                                style={{\r\n                                                    float: \"right\"\r\n                                                }}\r\n                                            />\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={14}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Table\r\n                            bordered\r\n                            columns={CartCol({ onUpdateFn, onDeleteFn })}\r\n                            dataSource={cartData}\r\n                            sticky\r\n                            scroll={{ x: 500, y: 200 }}\r\n                            rowKey={record => record.product}\r\n                            pagination={false}\r\n                            size={theme.tableSize}\r\n                        />\r\n                        <div\r\n                            style={{\r\n                                paddingTop: 10,\r\n                                textAlign: \"right\"\r\n                            }}\r\n                        >\r\n                            <Typography.Text\r\n                                mark\r\n                            >\r\n                                ({cartData?.length} មុខ និង {totalQty} ទំនិញ)\r\n                            </Typography.Text>\r\n                        </div>\r\n                        {/* </div> */}\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <Row gutter={16}>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Timeline>\r\n                                    <Timeline.Item color={supplierData.companyName ? \"green\" : \"red\"}>\r\n                                        <p>\r\n                                            អ្នកផ្គត់ផ្គង់៖ {supplierData.companyName}\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setOpenAddSupplier(!openAddSupplier)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </p>\r\n                                        <p>លេខទូរស័ព្ទ៖ {supplierData.tel}</p>\r\n                                        <p>កាលបរិច្ឆេទ៖ {moment(supplierData.date).format(\"DD-MMM-YYYY\")}</p>\r\n                                        <p>ចំណាំ៖ {supplierData.remark}</p>\r\n                                    </Timeline.Item>\r\n                                </Timeline>\r\n                            </Col>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Descriptions\r\n                                    bordered\r\n                                    size=\"small\"\r\n                                >\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុប\"\r\n                                        span={3}\r\n                                    >\r\n                                        {totalBL.subTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            កាត់ពន្ធ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddTax(!addTax)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addTax ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.tax}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        tax: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddTax(!addTax)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.tax + \"$\"\r\n                                        }\r\n\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            បញ្ចុះតម្លៃ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddOffer(!addOffer)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addOffer ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.offer}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        offer: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddOffer(!addOffer)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.offer + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            តម្លៃដឹកជញ្ជូន\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddDelivery(!addDelivery)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addDelivery ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.delivery}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        delivery: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddDelivery(!addDelivery)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.delivery + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុបចុងក្រោយ\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.grandTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            ការទូរទាត់៖\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddPayment(!addPayment)}\r\n                                            >\r\n                                                <PlusCircleOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addPayment ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.payment}\r\n                                                onChange={e => {\r\n                                                    setTotalBL(ele => ({\r\n                                                        ...ele,\r\n                                                        payment: e\r\n                                                    }))\r\n                                                }\r\n                                                }\r\n                                                onBlur={e => setAddPayment(!addPayment)}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.payment + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃមិនទាន់ទូទាត់\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.noPaid}$\r\n                                    </Descriptions.Item>\r\n                                </Descriptions>\r\n                                <Button\r\n                                    type=\"primary\"\r\n                                    style={{\r\n                                        marginTop: 20,\r\n                                        width: \"100%\"\r\n                                    }}\r\n                                    disabled={supplierData?.companyName && cartData.length !== 0 ? false : true}\r\n                                    onClick={() => onSubmitFn()}\r\n                                    size={theme.btnSize}\r\n                                >\r\n                                    បង្កើត\r\n                                </Button>\r\n                            </Col>\r\n\r\n                        </Row>\r\n                    </Col>\r\n\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\n\r\n\r\nexport default function MapViewOrder({ supplierMap, deliverMap }) {\r\n  const { isLoaded } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: \"AIzaSyCPy78uNk-DG98yYv7bGEWt3SCidRf0dms\"\r\n  })\r\n\r\n  const [center, setCenter] = useState({\r\n    lat: 13.363175493211273,\r\n    lng: 103.85653437154804\r\n  })\r\n\r\n  useEffect(() => {\r\n    if(supplierMap){\r\n      setCenter(supplierMap)\r\n    }\r\n  }, [supplierMap])\r\n\r\n  // console.log(deliverMap)\r\n\r\n  return isLoaded ? (\r\n    <GoogleMap\r\n      mapContainerStyle={{\r\n        width: '100%',\r\n        height: '100%'\r\n      }}\r\n      center={center}\r\n      zoom={14}\r\n    // onLoad={onLoad}\r\n    // onUnmount={onUnmount}\r\n    >\r\n      { /* Child components, such as markers, info windows, etc. */}\r\n      <Marker\r\n        key=\"customer\"\r\n        position={supplierMap}\r\n      />\r\n      {\r\n        deliverMap !== {} && <Marker\r\n          key=\"deliver\"\r\n          position={deliverMap}\r\n        />\r\n      }\r\n\r\n    </GoogleMap>\r\n  ) : <></>\r\n}","import { useLazyQuery, useMutation } from '@apollo/client'\r\nimport { Row, Form, Modal, Col, Select, Input, DatePicker, Button } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertEditData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { UPDATE_PURCHASEORDER, VIEW_PURCHASEORDER_BY_ID } from '../../../graphql/purchaseOrder'\r\nimport { GET_ALL_SUPPLIER } from '../../../graphql/supplier'\r\n\r\nexport default function UpdateSupplier({ open, setOpen, data }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getSuppliers, { data: SupplierDb }] = useLazyQuery(GET_ALL_SUPPLIER, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [updatePurchaseOrders] = useMutation(UPDATE_PURCHASEORDER, mutationCallBackFn(VIEW_PURCHASEORDER_BY_ID, 'getPurchaseOrderById'))\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getSuppliers({\r\n            variables: {\r\n                input: {\r\n                    keyword: keyword\r\n                }\r\n            }\r\n        })\r\n    }, [keyword, getSuppliers])\r\n\r\n    const onFinish = (values) => {\r\n        // console.log(data)\\\r\n        let newArray = {\r\n            ...values,\r\n            id: data?.orderId,\r\n        }\r\n\r\n        updatePurchaseOrders({\r\n            variables:{\r\n                input: newArray\r\n            },\r\n            update(_, result){\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n        \r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    function onSearch(val) {\r\n        setKeyword(val)\r\n    }\r\n\r\n    function onSelect(val) {\r\n        let array = SupplierDb?.getSuppliers?.data.find(ele => ele.id === val)\r\n\r\n        form.setFieldsValue({\r\n            tel: array.tel\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បញ្ចូលព័ត៌មាន\"\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                name=\"addSupplierToPO\"\r\n                layout=\"vertical\"\r\n                // hideRequiredMark\r\n                fields={convertEditData(data ? data : [])}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"អ្នកផ្គត់ផ្គង់\"\r\n                            name=\"supplier\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"Supplier\"\r\n                                optionFilterProp=\"children\"\r\n                                onSearch={onSearch}\r\n                                onSelect={onSelect}\r\n                            >\r\n                                {\r\n                                    SupplierDb?.getSuppliers?.data.map(load =>\r\n                                        <Select.Option key={load.id} value={load.id}>{load.companyName}</Select.Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ទូរស័ព្ទ\"\r\n                            name=\"tel\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <Input placeholder=\"Telephone\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={12}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"កាលបរិច្ឆេទ\"\r\n                            name=\"date\"\r\n                            rules={[{ required: true, message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!' }]}\r\n                        >\r\n                            <DatePicker\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"Date\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"ចំណាំ\"\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input placeholder=\"Remark\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        md={24}\r\n                    >\r\n                        <Form.Item>\r\n                            <Button \r\n                                htmlType=\"submit\"\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                            >\r\n                                បញ្ចូល\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Descriptions, Divider, Modal, Form, Row, Col, InputNumber, Button, Input } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { msgTitle } from '../../../asset/data/msgTitle'\r\nimport { convertEditData, mutationCallBackFn, noticeAction } from '../../../functions/fn'\r\nimport { UPDATE_SUB_PURCHASEORDER, VIEW_PURCHASEORDER_BY_ID } from '../../../graphql/purchaseOrder'\r\n\r\nexport default function UpdateViewSubOrder({ open, setOpen, selectData }) {\r\n    const [updateSubPurchaseOrders] = useMutation(UPDATE_SUB_PURCHASEORDER, mutationCallBackFn(VIEW_PURCHASEORDER_BY_ID, 'getSaleOrderById'))\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        setData(selectData)\r\n    }, [selectData])\r\n\r\n    const onFinish = (values) => {\r\n        let newArray = {\r\n            orderId: selectData.orderId,\r\n            id: selectData.id,\r\n            ...values,\r\n            total: values.qty * values.price\r\n        }\r\n\r\n        console.log(newArray)\r\n\r\n        updateSubPurchaseOrders({\r\n            variables: {\r\n                input: newArray\r\n            },\r\n            update(_,result){\r\n                console.log(result)\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n        setOpen(false)\r\n    }\r\n\r\n    const onFinishFailed = (err) => {\r\n        console.log(err)\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            title={\"ព័ត៌មានលម្អិត\"}\r\n            visible={open}\r\n            onCancel={() => setOpen(false)}\r\n            footer={null}\r\n        >\r\n            <Descriptions bordered>\r\n                <Descriptions.Item label=\"បរិយាយ\" span={3}>{data?.description}</Descriptions.Item>\r\n                <Descriptions.Item label=\"អត្ថលេខ\" span={3}>{data?.id}</Descriptions.Item>\r\n                <Descriptions.Item label=\"តម្លៃ\" span={3}>{data?.price}$ /{data?.um}</Descriptions.Item>\r\n            </Descriptions>\r\n            <Divider>ការកំណត់</Divider>\r\n            <Form\r\n                name=\"addCart\"\r\n                fields={convertEditData(data)}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"qty\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"ចំនួន\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={4}\r\n                    >\r\n                        <center>\r\n                            X\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={10}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"price\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                    type: \"number\"\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <InputNumber\r\n                                formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                                style={{\r\n                                    width: \"100%\"\r\n                                }}\r\n                                placeholder=\"តម្លៃឯកតា\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"remark\"\r\n                        >\r\n                            <Input\r\n                                placeholder=\"ចំណាំ\"\r\n                            />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            type=\"primary\"\r\n                            style={{\r\n                                width: \"100%\"\r\n                            }}\r\n                        >\r\n                            បញ្ចូល\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, MoreOutlined, SearchOutlined } from \"@ant-design/icons\"\r\nimport { Button, Popconfirm, Tooltip, Image, Input, AutoComplete } from \"antd\"\r\nimport { searchOptions } from \"../../../functions/fn\"\r\n\r\nexport const CartViewCol = ({ ProductSearchDb, searchKeyword, handleSearch, onSelect, onUpdateFn, onDeleteFn }) => {\r\n\r\n    const array = [\r\n        {\r\n            title: () => <div>\r\n                <AutoComplete\r\n                    dropdownMatchSelectWidth={252}\r\n                    style={{\r\n                        width: \"100%\",\r\n                    }}\r\n                    options={searchOptions(ProductSearchDb?.getProducts?.data)}\r\n                    onSelect={onSelect}\r\n                    onSearch={handleSearch}\r\n                    value={searchKeyword}\r\n                >\r\n                    <Input\r\n                        prefix={<SearchOutlined />}\r\n                        placeholder=\"ស្វែងរកនិងបញ្ចូល...\"\r\n                    />\r\n                </AutoComplete>\r\n            </div>,\r\n            children: [\r\n                {\r\n                    title: 'ល.រ',\r\n                    dataIndex: 'createAt',\r\n                    key: 'createAt',\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <span>\r\n                            {index += 1}\r\n                        </span>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'រូបភាព',\r\n                    dataIndex: 'image',\r\n                    key: 'image',\r\n                    width: 100,\r\n                    align: \"center\",\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Image\r\n                            src={row.product.image}\r\n                            preview={false}\r\n                            width={30}\r\n                        />\r\n                    },\r\n                },\r\n                {\r\n                    title: 'បរិយាយ',\r\n                    dataIndex: 'description',\r\n                    key: 'description',\r\n                    width: 200,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={row.description}>\r\n                            {row.product.description}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំនួន',\r\n                    dataIndex: 'qty',\r\n                    key: 'qty',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.qty} ${row.product.um}`}>\r\n                            {row.qty} {row.product.um}\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃ',\r\n                    dataIndex: 'price',\r\n                    key: 'price',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.price}`}>\r\n                            {row.price}$\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'តម្លៃសរុប',\r\n                    dataIndex: 'total',\r\n                    key: 'total',\r\n                    width: 100,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.total}`}>\r\n                            {row.total}$\r\n                        </Tooltip>\r\n                    },\r\n                },\r\n                {\r\n                    title: 'ចំណាំ',\r\n                    dataIndex: 'remark',\r\n                    key: 'remark',\r\n                    width: 200,\r\n                    ellipsis: true,\r\n                    render: (value, row, index) => {\r\n                        return <Tooltip title={`${row.remark}`}>\r\n                            {row.remark}\r\n                        </Tooltip>\r\n                    },\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            children: [\r\n                {\r\n                    title: () => <MoreOutlined />,\r\n                    dataIndex: 'more',\r\n                    key: 'more',\r\n                    width: 100,\r\n                    fixed: 'right',\r\n                    align: \"center\",\r\n                    render: (value, row, index) => {\r\n                        return <div>\r\n                            <Button\r\n                                type=\"link\"\r\n                                size=\"small\"\r\n                                onClick={() => { onUpdateFn(row) }}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                            <Popconfirm\r\n                                title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                okText=\"ចង់\"\r\n                                cancelText=\"មិនចង់\"\r\n                                okType=\"danger\"\r\n                                placement=\"left\"\r\n                                onConfirm={() => onDeleteFn(row)}\r\n                            >\r\n                                <Button\r\n                                    type=\"link\"\r\n                                    danger\r\n                                    size=\"small\"\r\n                                >\r\n                                    <DeleteOutlined />\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    },\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\n    return array\r\n}","import { DeleteOutlined, EditOutlined, PrinterOutlined } from '@ant-design/icons'\r\nimport { useLazyQuery, useMutation, useQuery } from '@apollo/client'\r\nimport { Button, Col, Descriptions, Divider, InputNumber, Popconfirm, Row, Table, Typography } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { msgTitle } from '../../asset/data/msgTitle'\r\nimport { isHex, mutationCallBackFn, noticeAction } from '../../functions/fn'\r\nimport { GET_ALL_PRODUCT } from '../../graphql/product'\r\nimport { UPDATE_PURCHASEORDER, VIEW_PURCHASEORDER_BY_ID, DELETE_PURCHASEORDER, ADD_SUB_PURCHASEORDER, DELETE_SUB_PURCHASEORDER } from '../../graphql/purchaseOrder'\r\nimport { theme } from '../../static/theme'\r\nimport MapViewOrder from './comp/mapViewOrder'\r\nimport PrintPurchaseOrder from './modal/printPurchaseOrder'\r\nimport UpdateSupplier from './modal/updateCustomer'\r\n// import UpdateCustomer from './modal/updateCustomer'\r\n// import UpdateDeliver from './modal/updateDeliver'\r\n// import UpdateLocation from './modal/updateLocation'\r\n// import UpdatetStatus from './modal/updateStatus'\r\nimport UpdateViewSubOrder from './modal/updateViewSubOrder'\r\nimport { CartViewCol } from './tableCols/cartViewCol'\r\n\r\nexport default function ViewPurchaseOrder() {\r\n    let history = useHistory()\r\n    let { slug } = useParams()\r\n\r\n    const [getProducts, { data: ProductSearchDb }] = useLazyQuery(GET_ALL_PRODUCT, {\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const { data: PurchaseOrderDb } = useQuery(VIEW_PURCHASEORDER_BY_ID, {\r\n        variables: {\r\n            input: {\r\n                id: slug\r\n            }\r\n        },\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [updatePurchaseOrders] = useMutation(UPDATE_PURCHASEORDER, mutationCallBackFn(VIEW_PURCHASEORDER_BY_ID, 'getPurchaseOrderById'))\r\n\r\n    const [deletePurchaseOrders] = useMutation(DELETE_PURCHASEORDER)\r\n    const [setSubPurchaseOrders] = useMutation(ADD_SUB_PURCHASEORDER, mutationCallBackFn(VIEW_PURCHASEORDER_BY_ID, 'getPurchaseOrderById'))\r\n    const [deleteSubPurchaseOrders] = useMutation(DELETE_SUB_PURCHASEORDER, mutationCallBackFn(VIEW_PURCHASEORDER_BY_ID, 'getPurchaseOrderById'))\r\n\r\n    let data = PurchaseOrderDb?.getPurchaseOrderById\r\n    \r\n    let supplierData = {\r\n        orderId: data?.id,\r\n        supplier: data?.supplier?.id,\r\n        tel: data?.tel,\r\n        remark: data?.remark,\r\n        date: moment(data?.date)\r\n    }\r\n\r\n    let supplierMap = {\r\n        lat: data?.supplier?.geolocation?.lat === null || data?.supplier?.geolocation?.lat === undefined ? 13.363175493211273 : data?.supplier?.geolocation?.lat,\r\n        lng: data?.supplier?.geolocation?.long === null|| data?.supplier?.geolocation?.long === undefined ? 103.85653437154804 : data?.supplier?.geolocation?.long\r\n    }\r\n\r\n    const [totalBL, setTotalBL] = useState({\r\n        subTotal: 0,\r\n        tax: 0,\r\n        offer: 0,\r\n        delivery: 0,\r\n        grandTotal: 0,\r\n        payment: 0,\r\n        noPaid: 0\r\n    })\r\n    const [totalQty, setTotalQty] = useState(0)\r\n    const [selectValue, setSelectValue] = useState({})\r\n\r\n    const [addTax, setAddTax] = useState(false)\r\n    const [addOffer, setAddOffer] = useState(false)\r\n    const [addDelivery, setAddDelivery] = useState(false)\r\n    const [addPayment, setAddPayment] = useState(false)\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n    const [openProductDetail, setOpenProductDetail] = useState(false)\r\n    const [openUpdateSupplier, setOpenUpdateSupplier] = useState(false)\r\n\r\n    const [searchKeyword, setSearchKeyword] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        let subTotal = 0\r\n        let sumQty = 0\r\n        data?.products?.map(load => subTotal += load.total)\r\n        data?.products?.map(load => sumQty += load.qty)\r\n\r\n        setTotalQty(e => sumQty)\r\n\r\n        setTotalBL(e => ({\r\n            subTotal: subTotal,\r\n            tax: e.tax,\r\n            offer: e.offer,\r\n            delivery: e.delivery,\r\n            payment: e.payment,\r\n            grandTotal: subTotal + e.tax - e.offer + e.delivery,\r\n            noPaid: (subTotal + e.tax - e.offer + e.delivery) - e.payment\r\n        }))\r\n    }, [data?.products])\r\n\r\n    useEffect(() => {\r\n        if(data){\r\n            setTotalBL({\r\n                subTotal: data?.subTotal,\r\n                tax: data?.tax,\r\n                offer: data?.offer,\r\n                delivery: data?.delivery,\r\n                payment: data?.payment,\r\n                grandTotal: data?.subTotal + data?.tax - data?.offer + data?.delivery,\r\n                noPaid: (data?.subTotal + data?.tax - data?.offer + data?.delivery) - data?.payment\r\n            })\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        getProducts({\r\n            variables: {\r\n                input: {\r\n                    current: 1,\r\n                    limit: 5,\r\n                    keyword: searchKeyword,\r\n                    sort: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    },\r\n                    filter: {\r\n                        name: \"\",\r\n                        value: \"\",\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }, [searchKeyword, getProducts])\r\n\r\n    // console.log(data)\r\n\r\n    const handleSearch = (value) => {\r\n        setSearchKeyword(value)\r\n\r\n        if (isHex(value)) {\r\n            // pushToCart(value)\r\n            let array = ProductSearchDb?.getProducts?.data?.find(ele => ele.id === value)\r\n\r\n            if (array > -1) {\r\n                let newArray = {\r\n                    orderId: data?.id,\r\n                    id: array.id,\r\n                    qty: 1,\r\n                    price: array.price,\r\n                    total: array.price,\r\n                    remark: \"\"\r\n                }\r\n\r\n                setSubPurchaseOrders({\r\n                    variables: {\r\n                        input: newArray\r\n                    },\r\n                    update(_, result) {\r\n                        noticeAction(\"success\", msgTitle.CREATE)\r\n                    }\r\n                })\r\n            }\r\n\r\n            setSearchKeyword(\"\")\r\n        }\r\n    };\r\n\r\n\r\n    const onSelect = (value) => {\r\n        // pushToCart(value)\r\n        // console.log(value)\r\n\r\n        let array = ProductSearchDb?.getProducts?.data?.find(ele => ele.id === value)\r\n\r\n        if (array) {\r\n            let newArray = {\r\n                orderId: data?.id,\r\n                id: array.id,\r\n                qty: 1,\r\n                price: array.price,\r\n                total: array.price,\r\n                remark: \"\"\r\n            }\r\n\r\n            setSubPurchaseOrders({\r\n                variables: {\r\n                    input: newArray\r\n                },\r\n                update(_, result) {\r\n                    noticeAction(\"success\", msgTitle.CREATE)\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    const onUpdateFn = (e) => {\r\n        let newArray = {\r\n            orderId: data?.id,\r\n            id: e.id,\r\n            image: e.product.image,\r\n            description: e.product.description,\r\n            um: e.product.um,\r\n            qty: e.qty,\r\n            price: e.price,\r\n            total: e.total,\r\n            remark: e.remark\r\n        }\r\n\r\n        setSelectValue(newArray)\r\n        setOpenProductDetail(true)\r\n    }\r\n\r\n    const onUpdateTotalBL = (e) => {\r\n        updatePurchaseOrders({\r\n            variables: {\r\n                input: e\r\n            },\r\n            update(_, result) {\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onDeleteFn = (e) => {\r\n        deleteSubPurchaseOrders({\r\n            variables: {\r\n                input: {\r\n                    id: e.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                // console.log(result)\r\n                noticeAction(\"success\", msgTitle.UPDATE)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onDeleteRecieptFn = () => {\r\n        deletePurchaseOrders({\r\n            variables: {\r\n                input: {\r\n                    id: data?.id\r\n                }\r\n            },\r\n            update(_, result) {\r\n                history.push(\"/saleorder\")\r\n                noticeAction(\"success\", msgTitle.DELETE)\r\n            }\r\n        })\r\n    }\r\n\r\n    const clearDataFn = () => {\r\n        setOpenPrint(false)\r\n    }\r\n\r\n    console.log(data)\r\n\r\n    return (\r\n        <div>\r\n            <UpdateViewSubOrder open={openProductDetail} setOpen={setOpenProductDetail} selectData={selectValue} />\r\n            <PrintPurchaseOrder open={openPrint} setOpen={setOpenPrint} data={data} clearDataFn={clearDataFn} />\r\n            <UpdateSupplier open={openUpdateSupplier} setOpen={setOpenUpdateSupplier} data={supplierData} />\r\n            {/* <UpdateLocation open={openUpdateLocation} setOpen={setOpenUpdateLocation} data={customerData} />\r\n            <UpdateDeliver open={openUpdateDeliver} setOpen={setOpenUpdateDeliver} data={deliverData} /> */}\r\n            {/* <UpdatetStatus open={openUpdateStatus} setOpen={setOpenUpdateStatus} updateData={data} /> */}\r\n            <Row gutter={16}>\r\n                <Col\r\n                    xs={24}\r\n                    md={10}\r\n                >\r\n                    <Typography.Title level={4}>វិក័យបត្រ៖ {data?.id}</Typography.Title>\r\n                    <Typography.Text strong>កាលបរិច្ឆេទ៖ {moment(data?.date).format(\"DD-MMM-YYYY\")}</Typography.Text>\r\n                    <Divider orientation=\"left\">អ្នកផ្គត់ផ្គង់</Divider>\r\n                    <Descriptions bordered size=\"small\">\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ក្រុមហ៊ុនឈ្មោះ៖\" span={3}>\r\n                            {data?.supplier?.companyName}\r\n                            <Button\r\n                                size=\"small\"\r\n                                type=\"link\"\r\n                                onClick={() => setOpenUpdateSupplier(true)}\r\n                            >\r\n                                <EditOutlined />\r\n                            </Button>\r\n                        </Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ទូរស័ព្ទ៖\" span={3}>+855(0){data?.tel}</Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ចំណាំ៖\" span={3}>{data?.remark}</Descriptions.Item>\r\n                        <Descriptions.Item labelStyle={{ fontWeight: \"bolder\", width: \"30%\" }} label=\"ទីតាំង៖\" span={3}>\r\n                            ({data?.supplier?.geolocation?.lat ? data?.supplier?.geolocation?.lat : 0}, {data?.supplier?.geolocation?.long ? data?.supplier?.geolocation?.long : 0})\r\n                        </Descriptions.Item>\r\n                    </Descriptions>\r\n                    \r\n                    <Divider orientation=\"left\">ទីតាំង</Divider>\r\n                    <div style={{ height: '400px', width: '100%' }}>\r\n                        {data?.supplier?.geolocation?.lat !== 0 ? <MapViewOrder supplierMap={supplierMap} /> :\r\n                            <Typography.Text mark>មិនមានទីតាំង</Typography.Text>\r\n                        }\r\n                    </div>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={14}\r\n                >\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Divider orientation=\"left\">ទំនិញ</Divider>\r\n                        <Table\r\n                            bordered\r\n                            columns={CartViewCol({ ProductSearchDb, searchKeyword, handleSearch, onSelect, onUpdateFn, onDeleteFn })}\r\n                            dataSource={data?.products}\r\n                            sticky\r\n                            scroll={{ x: 500, y: 200 }}\r\n                            rowKey={record => record.product.id}\r\n                            pagination={false}\r\n                            size={theme.tableSize}\r\n                        />\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                    >\r\n                        <Row gutter={16}>\r\n                            <Col\r\n                                xs={24}\r\n                                md={{ offset: 12, span: 12 }}\r\n                            >\r\n                                <div\r\n                                    style={{\r\n                                        paddingTop: 10,\r\n                                        textAlign: \"right\"\r\n                                    }}\r\n                                >\r\n                                    <Typography.Text\r\n                                        mark\r\n                                    >\r\n                                        ({data?.products?.length} មុខ និង {totalQty} ទំនិញ)\r\n                                    </Typography.Text>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <Row gutter={16}>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                \r\n\r\n                            </Col>\r\n                            <Col\r\n                                xs={24}\r\n                                md={12}\r\n                            >\r\n                                <Descriptions\r\n                                    bordered\r\n                                    size=\"small\"\r\n                                >\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុប\"\r\n                                        span={3}\r\n                                    >\r\n                                        {totalBL.subTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            កាត់ពន្ធ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddTax(!addTax)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addTax ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.tax}\r\n                                                onBlur={e => {\r\n                                                    setAddTax(!addTax)  \r\n                                                    onUpdateTotalBL({\r\n                                                        id: data?.id,\r\n                                                        tax: parseFloat(e.target.value)\r\n                                                    })\r\n                                                }}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.tax + \"$\"\r\n                                        }\r\n\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            បញ្ចុះតម្លៃ\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddOffer(!addOffer)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addOffer ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.offer}\r\n                                                onBlur={e => onUpdateTotalBL({\r\n                                                    id: data?.id,\r\n                                                    offer: parseFloat(e.target.value)\r\n                                                })}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.offer + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            តម្លៃដឹកជញ្ជូន\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddDelivery(!addDelivery)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addDelivery ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.delivery}\r\n                                                onBlur={e => onUpdateTotalBL({\r\n                                                    id: data?.id,\r\n                                                    delivery: parseFloat(e.target.value)\r\n                                                })}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.delivery + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃសរុបចុងក្រោយ\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.grandTotal}$\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        label={<span>\r\n                                            ការទូរទាត់៖\r\n                                            <Button\r\n                                                size=\"small\"\r\n                                                type=\"link\"\r\n                                                onClick={() => setAddPayment(!addPayment)}\r\n                                            >\r\n                                                <EditOutlined />\r\n                                            </Button>\r\n                                        </span>}\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {addPayment ? (\r\n                                            <InputNumber\r\n                                                style={{\r\n                                                    width: 100,\r\n                                                    textAlign: \"right\"\r\n                                                }}\r\n                                                value={totalBL.payment}\r\n                                                onBlur={e => onUpdateTotalBL({\r\n                                                    id: data?.id,\r\n                                                    payment: parseFloat(e.target.value)\r\n                                                })}\r\n                                            />\r\n                                        ) :\r\n                                            totalBL.payment + \"$\"\r\n                                        }\r\n                                    </Descriptions.Item>\r\n                                    <Descriptions.Item\r\n                                        labelStyle={{\r\n                                            fontWeight: \"bolder\"\r\n                                        }}\r\n                                        label=\"តម្លៃមិនទាន់ទូទាត់\"\r\n                                        span={3}\r\n                                        contentStyle={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        {totalBL.noPaid}$\r\n                                    </Descriptions.Item>\r\n                                </Descriptions>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            marginTop: 20\r\n                        }}\r\n                    >\r\n                        <Row\r\n                            gutter={[16, 16]}\r\n                        >\r\n                            <Col\r\n                                xs={12}\r\n                            >\r\n                                <Button\r\n                                    style={{\r\n                                        width: \"100%\"\r\n                                    }}\r\n                                    icon={<PrinterOutlined />}\r\n                                    type=\"primary\"\r\n                                    onClick={() => setOpenPrint(true)}\r\n                                >\r\n                                    បោះពុម្ព\r\n                                </Button>\r\n                            </Col>\r\n                            <Col\r\n                                xs={12}\r\n                            >\r\n                                <Popconfirm\r\n                                    title=\"តើអ្នកចង់លុបមែនទេ?\"\r\n                                    okText=\"ចង់\"\r\n                                    cancelText=\"មិនចង់\"\r\n                                    okType=\"danger\"\r\n                                    onConfirm={() => onDeleteRecieptFn()}\r\n                                >\r\n                                    <Button\r\n                                        type=\"primary\"\r\n                                        danger\r\n                                        icon={<DeleteOutlined />}\r\n                                        style={{\r\n                                            width: \"100%\"\r\n                                        }}\r\n                                    >\r\n                                        លុបវិក័យបត្រ\r\n                                    </Button>\r\n                                </Popconfirm>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const GET_REPORT_PRODUCT_BY_DATE = gql`\r\n    mutation GetReportProductByDate($input: InputDate) {\r\n        getReportProductByDate(input: $input) {\r\n            _id\r\n            description\r\n            stockIn\r\n            stockOut\r\n            totalStock\r\n            openning\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_REPORT_PRODUCT_RANGE_DATE = gql`\r\n    mutation GetReportProductByDate($input: InputRangeDate) {\r\n        getReportProductByRangeDate(input: $input) {\r\n            _id\r\n            description\r\n            stockIn\r\n            stockOut\r\n            totalStock\r\n            openning\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_REPORT_CATEGORY_BY_DATE = gql`\r\n    mutation GetReportCategoryByDate($input: InputRangeDate) {\r\n        getReportCategoryByDate(input: $input) {\r\n            _id\r\n            description\r\n            stockIn\r\n            stockOut\r\n            totalStock\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_REPORT_SALEORDER_RANGE_DATE = gql`\r\n    mutation GetReportSaleOrderByRangeDate($input: InputRangeDate) {\r\n        getReportSaleOrderByRangeDate(input: $input) {\r\n            id\r\n            date\r\n            customer {\r\n                    id {\r\n                        lname\r\n                        fname\r\n                    }\r\n                    tel\r\n                }\r\n            productCount\r\n            subTotal\r\n            tax\r\n            offer\r\n            grandTotal\r\n            delivery\r\n            payment\r\n        }\r\n    }\r\n`\r\n\r\nexport const GET_REPORT_PO_BY_DATE = gql`\r\n    mutation GetReportPurchaseOrderByRangeDate($input: InputRangeDate) {\r\n        getReportPurchaseOrderByRangeDate(input: $input) {\r\n            id\r\n            date\r\n            supplier {\r\n                lname\r\n                fname\r\n                tel\r\n            }\r\n            productCount\r\n            subTotal\r\n            tax\r\n            offer\r\n            delivery\r\n            grandTotal\r\n            payment\r\n        }\r\n    }\r\n`","import { Col, Image, Row } from 'antd';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\nimport { convertDateToKh } from '../../../functions/fn';\r\n\r\nclass PrintProductDate extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n        let date = this.props?.date\r\n\r\n        // console.log(data)\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={100}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                KINGDOM OF CAMBODIA<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ<br />\r\n                                NATIONAL&emsp;RELIGION&emsp;KING\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14,\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                ការគ្រប់គ្រង់ស្តុកទំនិញចូល និងចេញ\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-headerFont1 \"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                សម្រាប់ ហ្គោគ្លូប៊ល ម៉ាត\r\n                            </span><br /><br />\r\n                            <span\r\n                                className=\"go-headerFont1\"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                {convertDateToKh(date)}\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            border=\"1\"\r\n                            className=\"go-tblHeader1\"\r\n                            width=\"100%\"\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"50px\"\r\n                                        }}\r\n                                    >\r\n                                        ល.រ\r\n                                    </th>\r\n                                    <th>\r\n                                        បរិយាយ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ដើមគ្រា\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ទិញចូល\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        លក់ចេញ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ចុងគ្រា\r\n                                    </th>\r\n                                </tr>\r\n                                {\r\n                                    data.map((load, index) => {\r\n                                        return (\r\n                                            <tr key={index + 1}>\r\n                                                <td>\r\n                                                    {index + 1}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.description}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.openning}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.stockIn === null ? 0 : load.stockIn}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.stockOut === null ? 0 : load.stockOut}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.totalStock}\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintProductDate","export const reportProduct = [\r\n    { label: \"ល.រ\", key: \"index\" },\r\n    { label: \"បរិយាយ\", key: \"description\" },\r\n    { label: \"ដើមគ្រា\", key: \"openning\" },\r\n    { label: \"ទិញចូល\", key: \"stockIn\" },\r\n    { label: \"លក់ចេញ\", key: \"stockOut\" },\r\n    { label: \"ចុងគ្រា\", key: \"totalStock\" },\r\n]\r\n\r\nexport const reportProductRange = [\r\n    { label: \"ល.រ\", key: \"index\" },\r\n    { label: \"បរិយាយ\", key: \"description\" },\r\n    { label: \"ទិញចូល\", key: \"stockIn\" },\r\n    { label: \"លក់ចេញ\", key: \"stockOut\" },\r\n    { label: \"សរុប\", key: \"totalStock\" },\r\n]","import React, { useRef } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport PrintProductDate from '../comp/printProductDate';\r\nimport { theme } from '../../../static/theme';\r\nimport { CSVLink } from \"react-csv\";\r\nimport { reportProduct } from '../../../asset/column/report';\r\nimport { addIndex } from '../../../functions/fn';\r\n\r\nexport default function PrintProductByDate({ open, setOpen, data, date }) {\r\n    const componentRef = useRef()\r\n\r\n    const csvReport = {\r\n        data: addIndex(data),\r\n        headers: reportProduct,\r\n        filename: 'ការគ្រប់គ្រង់ស្តុកទំនិញចូល_និងចេញ.xls'\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={1000}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={[\r\n                <CSVLink\r\n                    className='go-toCSV'\r\n                    {...csvReport}\r\n                    key=\"excel\"\r\n                    style={{\r\n                        float: \"left\"\r\n                    }}\r\n                >\r\n                    Export to CSV\r\n                </CSVLink>,\r\n                <Button\r\n                    danger\r\n                    key=\"cancel\"\r\n                    size={theme.btnSize}\r\n                    onClick={() => setOpen(!open)}\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    key=\"post\"\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintProductDate ref={componentRef} data={data} date={date} />\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Button, DatePicker, Form, Modal } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { reportCombineResAndProduct } from '../../../functions/fn'\r\nimport { GET_REPORT_PRODUCT_BY_DATE } from '../../../graphql/report'\r\nimport { theme } from '../../../static/theme'\r\nimport PrintProductByDate from './printProductByDate'\r\n\r\nexport default function GetProductByDate({open, setOpen, productDB}) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getReportProductByDate] = useMutation(GET_REPORT_PRODUCT_BY_DATE)\r\n\r\n    const [data, setData] = useState([])\r\n    const [date, setDate] = useState(\"\")\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const onFinish = async (values) => {\r\n        getReportProductByDate({\r\n            variables: {\r\n                input: {\r\n                    date: values.date\r\n                }\r\n            },\r\n            update(_,result){\r\n                const getResults = result?.data?.getReportProductByDate\r\n                const getProducts = productDB?.getAllProducts\r\n\r\n                setData(reportCombineResAndProduct(getResults, getProducts))\r\n                setOpenPrint(!openPrint)\r\n                setDate(values.date)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (e) => {\r\n        console.log(e)\r\n    }\r\n\r\n    // let dateHolder = [\"ចាប់ពី\", \"រហូតដល់\"]\r\n    return (\r\n        <Modal\r\n            title=\"ទំនិញចេញចូលដោយកាលបរិច្ឆេទ\"\r\n            visible={open}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={null}\r\n        >\r\n            <PrintProductByDate open={openPrint} setOpen={setOpenPrint} data={data} date={date} />\r\n            <Form\r\n                form={form}\r\n                name=\"getProductByDate\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    name=\"date\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <DatePicker \r\n                        placeholder=\"កាលបរិច្ឆេទ\"\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        htmlType='submit'\r\n                        type='primary'\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                        size={theme.btnSize}\r\n                    >\r\n                        បញ្ជូល\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Image, Row } from 'antd';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\nimport { convertDateToKh } from '../../../functions/fn';\r\n\r\nclass PrintProductRangeDate extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n        let startDate = this.props?.date[0]\r\n        let endDate = this.props?.date[1]\r\n\r\n        // console.log(data)\r\n        // console.log(date)\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={100}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                KINGDOM OF CAMBODIA<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ<br />\r\n                                NATIONAL&emsp;RELIGION&emsp;KING\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                         <center>\r\n                             <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14,\r\n                                    color: \"blue\"\r\n                                }}\r\n                             >\r\n                                 ការគ្រប់គ្រង់ស្តុកទំនិញចូល និងចេញ\r\n                             </span><br />\r\n                             <span\r\n                                className=\"go-headerFont1 \"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                             >\r\n                                 សម្រាប់ ហ្គោគ្លូប៊ល ម៉ាត\r\n                             </span>\r\n                             <br/>\r\n                             <br/>\r\n                             <span\r\n                                className=\"go-headerFont1\"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                {convertDateToKh(startDate)} - {convertDateToKh(endDate)}\r\n                            </span>\r\n                         </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            border=\"1\"\r\n                            className=\"go-tblHeader1\"\r\n                            width=\"100%\"\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"50px\"\r\n                                        }}\r\n                                    >\r\n                                        ល.រ\r\n                                    </th>\r\n                                    <th>\r\n                                        បរិយាយ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ទិញចូល\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        លក់ចេញ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        សរុប\r\n                                    </th>\r\n                                </tr>\r\n                                {\r\n                                    data.map((load, index) => {\r\n                                        return (\r\n                                            <tr key={index + 1}>\r\n                                                <td>\r\n                                                    {index + 1}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.description}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.stockIn === null ? 0 : load.stockIn}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.stockOut === null ? 0 : load.stockOut}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.totalStock}\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintProductRangeDate","import React, { useRef } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport { theme } from '../../../static/theme';\r\nimport { CSVLink } from \"react-csv\";\r\nimport { reportProductRange } from '../../../asset/column/report';\r\nimport { addIndex } from '../../../functions/fn';\r\nimport PrintProductRangeDate from '../comp/printProductRangeDate';\r\n\r\nexport default function PrintProductByRangeDate({ open, setOpen, data, date }) {\r\n    const componentRef = useRef()\r\n\r\n    const csvReport = {\r\n        data: addIndex(data),\r\n        headers: reportProductRange,\r\n        filename: 'ការគ្រប់គ្រង់ស្តុកទំនិញចូល_និងចេញ.xls'\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={1000}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={[\r\n                <CSVLink\r\n                    className='go-toCSV'\r\n                    {...csvReport}\r\n                    key=\"excel\"\r\n                    style={{\r\n                        float: \"left\"\r\n                    }}\r\n                >\r\n                    Export to CSV\r\n                </CSVLink>,\r\n                <Button\r\n                    danger\r\n                    key=\"cancel\"\r\n                    size={theme.btnSize}\r\n                    onClick={() => setOpen(!open)}\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    key=\"post\"\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintProductRangeDate ref={componentRef} data={data} date={date} />\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Button, DatePicker, Form, Modal } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { GET_REPORT_PRODUCT_RANGE_DATE } from '../../../graphql/report'\r\nimport { theme } from '../../../static/theme'\r\nimport PrintProductRangeDate from './printProductByRangeDate'\r\n\r\nexport default function GetProductByRangeDate({ open, setOpen, productDB }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getReportProductByRangeDate] = useMutation(GET_REPORT_PRODUCT_RANGE_DATE)\r\n\r\n\r\n    const [data, setData] = useState([])\r\n    const [date, setDate] = useState(\"\")\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const onFinish = async (values) => {\r\n        getReportProductByRangeDate({\r\n            variables: {\r\n                input: {\r\n                    startDate: values.date[0],\r\n                    endDate: values.date[1]\r\n                }\r\n            },\r\n            update(_,result){\r\n                const getResults = result?.data?.getReportProductByRangeDate\r\n                // const getProducts = productDB?.getAllProducts\r\n\r\n                // console.log(getResults)\r\n\r\n                setData(getResults)\r\n                setOpenPrint(!openPrint) \r\n                setDate(values.date)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (e) => {\r\n        console.log(e)\r\n    }\r\n\r\n    const dateHolder = [\"ចាប់ពី\", \"រហូតដល់\"]\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ទំនិញចេញចូលដោយកាលបរិច្ឆេទ\"\r\n            visible={open}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={null}\r\n        >\r\n            <PrintProductRangeDate open={openPrint} setOpen={setOpenPrint} data={data} date={date} />\r\n            <Form\r\n                form={form}\r\n                name=\"getProductByDate\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    name=\"date\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <DatePicker.RangePicker\r\n                        placeholder={dateHolder}\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        htmlType='submit'\r\n                        type='primary'\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                        size={theme.btnSize}\r\n                    >\r\n                        បញ្ជូល\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Image, Row } from 'antd';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\nimport { convertDateToKh } from '../../../functions/fn';\r\n\r\nclass PrintCategoryRangeDate extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n        let startDate = this.props?.date[0]\r\n        let endDate = this.props?.date[1]\r\n\r\n        // console.log(data)\r\n        // console.log(date)\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={100}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                KINGDOM OF CAMBODIA<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ<br />\r\n                                NATIONAL&emsp;RELIGION&emsp;KING\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                         <center>\r\n                             <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14,\r\n                                    color: \"blue\"\r\n                                }}\r\n                             >\r\n                                 ការគ្រប់គ្រង់ស្តុកប្រភេទទំនិញចូល និងចេញ\r\n                             </span><br />\r\n                             <span\r\n                                className=\"go-headerFont1 \"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                             >\r\n                                 សម្រាប់ ហ្គោគ្លូប៊ល ម៉ាត\r\n                             </span>\r\n                             <br/>\r\n                             <br/>\r\n                             <span\r\n                                className=\"go-headerFont1\"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                {convertDateToKh(startDate)} - {convertDateToKh(endDate)}\r\n                            </span>\r\n                         </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            border=\"1\"\r\n                            className=\"go-tblHeader1\"\r\n                            width=\"100%\"\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"50px\"\r\n                                        }}\r\n                                    >\r\n                                        ល.រ\r\n                                    </th>\r\n                                    <th>\r\n                                        បរិយាយ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ទិញចូល\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        លក់ចេញ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        សរុប\r\n                                    </th>\r\n                                </tr>\r\n                                {\r\n                                    data.map((load, index) => {\r\n                                        return (\r\n                                            <tr key={index + 1}>\r\n                                                <td>\r\n                                                    {index + 1}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.description}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.stockIn === null ? 0 : load.stockIn}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.stockOut === null ? 0 : load.stockOut}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.totalStock}\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintCategoryRangeDate","import React, { useRef } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport { theme } from '../../../static/theme';\r\nimport { CSVLink } from \"react-csv\";\r\nimport { reportProductRange } from '../../../asset/column/report';\r\nimport { addIndex } from '../../../functions/fn';\r\nimport PrintCategoryRangeDate from '../comp/printCategoryRangeDate';\r\n\r\nexport default function PrintCategoryByRangeDate({ open, setOpen, data, date }) {\r\n    const componentRef = useRef()\r\n\r\n    const csvReport = {\r\n        data: addIndex(data),\r\n        headers: reportProductRange,\r\n        filename: 'ការគ្រប់គ្រង់ស្តុកប្រភេទទំនិញចូល_និងចេញ.xls'\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={1000}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={[\r\n                <CSVLink\r\n                    className='go-toCSV'\r\n                    {...csvReport}\r\n                    key=\"excel\"\r\n                    style={{\r\n                        float: \"left\"\r\n                    }}\r\n                >\r\n                    Export to CSV\r\n                </CSVLink>,\r\n                <Button\r\n                    danger\r\n                    key=\"cancel\"\r\n                    size={theme.btnSize}\r\n                    onClick={() => setOpen(!open)}\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    key=\"post\"\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintCategoryRangeDate ref={componentRef} data={data} date={date} />\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Button, DatePicker, Form, Modal } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { GET_REPORT_CATEGORY_BY_DATE } from '../../../graphql/report'\r\nimport { theme } from '../../../static/theme'\r\nimport PrintCategoryByRangeDate from './printCategoryByRangeDate'\r\n\r\nexport default function GetCategoryByRangeDate({ open, setOpen, productDB }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getReportCategoryByDate] = useMutation(GET_REPORT_CATEGORY_BY_DATE)\r\n\r\n\r\n    const [data, setData] = useState([])\r\n    const [date, setDate] = useState(\"\")\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const onFinish = async (values) => {\r\n        getReportCategoryByDate({\r\n            variables: {\r\n                input: {\r\n                    startDate: values.date[0],\r\n                    endDate: values.date[1]\r\n                }\r\n            },\r\n            update(_,result){\r\n                const getResults = result?.data?.getReportCategoryByDate\r\n                // const getProducts = productDB?.getAllProducts\r\n\r\n                // console.log(getResults)\r\n\r\n                setData(getResults)\r\n                setOpenPrint(!openPrint) \r\n                setDate(values.date)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (e) => {\r\n        console.log(e)\r\n    }\r\n\r\n    const dateHolder = [\"ចាប់ពី\", \"រហូតដល់\"]\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ប្រភេទទំនិញចេញចូលដោយកាលបរិច្ឆេទ\"\r\n            visible={open}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={null}\r\n        >\r\n            <PrintCategoryByRangeDate open={openPrint} setOpen={setOpenPrint} data={data} date={date} />\r\n            <Form\r\n                form={form}\r\n                name=\"getProductByDate\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    name=\"date\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <DatePicker.RangePicker\r\n                        placeholder={dateHolder}\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        htmlType='submit'\r\n                        type='primary'\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                        size={theme.btnSize}\r\n                    >\r\n                        បញ្ជូល\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Image, Row } from 'antd';\r\nimport Qrcode from 'qrcode.react';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\nimport { convertDateToKh, numberWithCommas } from '../../../functions/fn';\r\n\r\nclass PrintSaleOrderRangeDate extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n        let startDate = this.props?.date[0]\r\n        let endDate = this.props?.date[1]\r\n        let dataFooter = this.props?.dataFooter\r\n\r\n        // console.log(data)\r\n        // console.log(date)\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={100}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                KINGDOM OF CAMBODIA<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ<br />\r\n                                NATIONAL&emsp;RELIGION&emsp;KING\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                         <center>\r\n                             <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14,\r\n                                    color: \"blue\"\r\n                                }}\r\n                             >\r\n                                 ការគ្រប់គ្រង់ការលក់ចេញ\r\n                             </span><br />\r\n                             <span\r\n                                className=\"go-headerFont1 \"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                             >\r\n                                 សម្រាប់ ហ្គោគ្លូប៊ល ម៉ាត\r\n                             </span>\r\n                             <br/>\r\n                             <br/>\r\n                             <span\r\n                                className=\"go-headerFont1\"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                {convertDateToKh(startDate)} - {convertDateToKh(endDate)}\r\n                            </span>\r\n                         </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            border=\"1\"\r\n                            className=\"go-tblHeader1\"\r\n                            width=\"100%\"\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"50px\"\r\n                                        }}\r\n                                    >\r\n                                        ល.រ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"120px\"\r\n                                        }}\r\n                                    >\r\n                                        លេខវិក័យបត្រ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"200px\"\r\n                                        }}\r\n                                    >\r\n                                        កាលបរិច្ឆេទ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"200px\"\r\n                                        }}\r\n                                    >\r\n                                        ឈ្មោះអតិថិជន\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"150px\"\r\n                                        }}\r\n                                    >\r\n                                        ទូរស័ព្ទ\r\n                                    </th>\r\n                                    <th\r\n                                        // style={{\r\n                                        //     width: \"80px\"\r\n                                        // }}\r\n                                    >\r\n                                        តម្លៃសរុប\r\n                                    </th>\r\n                                    <th\r\n                                        // style={{\r\n                                        //     width: \"80px\"\r\n                                        // }}\r\n                                    >\r\n                                        បញ្ចុះតម្លៃ\r\n                                    </th>\r\n                                    <th\r\n                                        // style={{\r\n                                        //     width: \"80px\"\r\n                                        // }}\r\n                                    >\r\n                                        កាត់ពន្ធ\r\n                                    </th>\r\n                                    <th\r\n                                        // style={{\r\n                                        //     width: \"80px\"\r\n                                        // }}\r\n                                    >\r\n                                        តម្លៃដឹក\r\n                                    </th>\r\n                                    <th\r\n                                        // style={{\r\n                                        //     width: \"100px\"\r\n                                        // }}\r\n                                    >\r\n                                        តម្លៃសរុបចុងក្រោយ\r\n                                    </th>\r\n                                    <th\r\n                                        // style={{\r\n                                        //     width: \"50px\"\r\n                                        // }}\r\n                                    >\r\n                                        ទំនិញ\r\n                                    </th>\r\n                                </tr>\r\n                                {\r\n                                    data.map((load, index) => {\r\n                                        return (\r\n                                            <tr key={index + 1}>\r\n                                                <td>\r\n                                                    {index + 1}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {/* {load.id} */}\r\n                                                    <Qrcode\r\n                                                        size={50}\r\n                                                        value={load?.id} \r\n                                                        renderAs=\"svg\"\r\n                                                    />\r\n                                                </td>\r\n                                                <td>\r\n                                                    {convertDateToKh(load.date)}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.customer.id.lname} {load.customer.id.fname}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.customer.tel}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(parseFloat(load.subTotal), 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(parseFloat(load.offer), 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(parseFloat(load.tax), 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(parseFloat(load.delivery), 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(parseFloat(load.grandTotal), 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(parseFloat(load.productCount), 2)}$\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                    <Col\r\n                        xs={{ span: 9, offset: 15 }}\r\n                    >\r\n                        <table\r\n                            // className={\"go-tblProduct\"}\r\n                            width=\"100%\"\r\n                            style={{\r\n                                textAlign: \"center\"\r\n                            }}\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុប\r\n                                    </th>\r\n                                    <td\r\n                                        style={{\r\n                                            width: \"150px\"\r\n                                        }}\r\n                                    >\r\n                                        {/* {numberWithCommas(dataFooter?.subTotal)}$ */}\r\n                                        {numberWithCommas(parseFloat(dataFooter?.subTotal), 2)}$\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        កាត់ពន្ធ\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.tax, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        បញ្ចុះតម្លៃ\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.offer, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃដឹកជញ្ជូន\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.delivery, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុបចុងក្រោយ\r\n                                    </th>\r\n                                    <td>{numberWithCommas(dataFooter?.grandTotal, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        ការទូរទាត់\r\n                                    </td>\r\n                                    <td>{numberWithCommas   (dataFooter?.payment, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃមិនទាន់ទូទាត់\r\n                                    </th>\r\n                                    <td\r\n                                    >\r\n                                        {numberWithCommas(dataFooter?.grandTotal - dataFooter?.payment, 2)}$\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintSaleOrderRangeDate","import React, { useEffect, useRef, useState } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport { theme } from '../../../static/theme';\r\nimport { CSVLink } from \"react-csv\";\r\nimport { reportProductRange } from '../../../asset/column/report';\r\nimport { addIndex } from '../../../functions/fn';\r\nimport PrintSaleOrderRangeDate from '../comp/printSaleOrderRangeDate';\r\n\r\nexport default function PrintSaleOrderByRangeDate({ open, setOpen, data, date }) {\r\n    const componentRef = useRef()\r\n\r\n    const [dataFooter, setDataFooter] = useState({})\r\n\r\n    useEffect(() => {\r\n        if(data.length !== 0){\r\n            let subTotal = data.reduce((a, curr) => a + parseFloat(curr.subTotal),0)\r\n            let tax = data.reduce((a, curr) => a + parseFloat(curr.tax),0)\r\n            let offer = data.reduce((a, curr) => a + parseFloat(curr.offer),0)\r\n            let delivery = data.reduce((a, curr) => a + parseFloat(curr.delivery),0)\r\n            let grandTotal = data.reduce((a, curr) => a + parseFloat(curr.grandTotal),0)\r\n            let payment = data.reduce((a, curr) => a + parseFloat(curr.payment),0)\r\n\r\n            setDataFooter({\r\n                subTotal,\r\n                tax,\r\n                offer,\r\n                delivery,\r\n                grandTotal,\r\n                payment \r\n            })\r\n        }\r\n    }, [data])\r\n\r\n    const csvReport = {\r\n        data: addIndex(data),\r\n        headers: reportProductRange,\r\n        filename: 'ការគ្រប់គ្រង់ស្តុកទំនិញចូល_និងចេញ.xls'\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={1500}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={[\r\n                <CSVLink\r\n                    className='go-toCSV'\r\n                    {...csvReport}\r\n                    key=\"excel\"\r\n                    style={{\r\n                        float: \"left\"\r\n                    }}\r\n                >\r\n                    Export to CSV\r\n                </CSVLink>,\r\n                <Button\r\n                    danger\r\n                    key=\"cancel\"\r\n                    size={theme.btnSize}\r\n                    onClick={() => setOpen(!open)}\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    key=\"post\"\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintSaleOrderRangeDate ref={componentRef} data={data} date={date} dataFooter={dataFooter} />\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Button, DatePicker, Form, Modal } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { GET_REPORT_SALEORDER_RANGE_DATE } from '../../../graphql/report'\r\nimport { theme } from '../../../static/theme'\r\nimport PrintSaleOrderByRangeDate from './printSaleOrderByRangeDate'\r\n\r\nexport default function GetSaleOrderByRangeDate({ open, setOpen, productDB }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getReportSaleOrderByRangeDate] = useMutation(GET_REPORT_SALEORDER_RANGE_DATE)\r\n\r\n\r\n    const [data, setData] = useState([])\r\n    const [date, setDate] = useState(\"\")\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const onFinish = async (values) => {\r\n        getReportSaleOrderByRangeDate({\r\n            variables: {\r\n                input: {\r\n                    startDate: values.date[0],\r\n                    endDate: values.date[1]\r\n                }\r\n            },\r\n            update(_,result){\r\n                const getResults = result?.data?.getReportSaleOrderByRangeDate\r\n                // const getProducts = productDB?.getAllProducts\r\n\r\n                // console.log(getResults)\r\n\r\n                setData(getResults)\r\n                setOpenPrint(!openPrint) \r\n                setDate(values.date)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (e) => {\r\n        console.log(e)\r\n    }\r\n\r\n    const dateHolder = [\"ចាប់ពី\", \"រហូតដល់\"]\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ការលក់ចេញដោយកាលបរិច្ឆេទ\"\r\n            visible={open}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={null}\r\n        >\r\n            <PrintSaleOrderByRangeDate open={openPrint} setOpen={setOpenPrint} data={data} date={date} />\r\n            <Form\r\n                form={form}\r\n                name=\"getProductByDate\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    name=\"date\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <DatePicker.RangePicker\r\n                        placeholder={dateHolder}\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        htmlType='submit'\r\n                        type='primary'\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                        size={theme.btnSize}\r\n                    >\r\n                        បញ្ជូល\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { Col, Image, Row } from 'antd';\r\nimport Qrcode from 'qrcode.react';\r\nimport React, { PureComponent } from 'react';\r\nimport Logo from '../../../asset/img/logo.png'\r\nimport { convertDateToKh, numberWithCommas } from '../../../functions/fn';\r\n\r\nclass PrintPurchaseOrderRangeDate extends PureComponent {\r\n    render() {\r\n\r\n        let data = this.props?.data\r\n        let startDate = this.props?.date[0]\r\n        let endDate = this.props?.date[1]\r\n        let dataFooter = this.props?.dataFooter\r\n\r\n        // console.log(data)\r\n        // console.log(date)\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    padding: 40\r\n                }}\r\n            >\r\n                <Row>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                position: \"absolute\",\r\n                                top: 20\r\n                            }}\r\n                        >\r\n                            <Image\r\n                                src={Logo}\r\n                                preview={false}\r\n                                width={100}\r\n                            />\r\n                        </div>\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14\r\n                                }}\r\n                            >\r\n                                ព្រះរាជាណាចក្រកម្ពុជា<br />\r\n                                KINGDOM OF CAMBODIA<br />\r\n                                ជាតិ&emsp;សាសនា&emsp;ព្រះមហាក្សត្រ<br />\r\n                                NATIONAL&emsp;RELIGION&emsp;KING\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-symbolFont\"\r\n                                style={{\r\n                                    fontSize: 48\r\n                                }}\r\n                            >\r\n                                3\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <center>\r\n                            <span\r\n                                className=\"go-headerFont\"\r\n                                style={{\r\n                                    fontSize: 14,\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                ការគ្រប់គ្រង់ការទិញចូល\r\n                            </span><br />\r\n                            <span\r\n                                className=\"go-headerFont1 \"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                សម្រាប់ ហ្គោគ្លូប៊ល ម៉ាត\r\n                            </span>\r\n                            <br />\r\n                            <br />\r\n                            <span\r\n                                className=\"go-headerFont1\"\r\n                                style={{\r\n                                    color: \"blue\"\r\n                                }}\r\n                            >\r\n                                {convertDateToKh(startDate)} - {convertDateToKh(endDate)}\r\n                            </span>\r\n                        </center>\r\n                    </Col>\r\n                    <Col\r\n                        xs={24}\r\n                        style={{\r\n                            paddingBottom: 20\r\n                        }}\r\n                    >\r\n                        <table\r\n                            border=\"1\"\r\n                            className=\"go-tblHeader1\"\r\n                            width=\"100%\"\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"50px\"\r\n                                        }}\r\n                                    >\r\n                                        ល.រ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"150px\"\r\n                                        }}\r\n                                    >\r\n                                        លេខវិក័យបត្រ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"200px\"\r\n                                        }}\r\n                                    >\r\n                                        កាលបរិច្ឆេទ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ទូរស័ព្ទ\r\n                                    </th>\r\n                                    <th\r\n                                        style={{\r\n                                            width: \"100px\"\r\n                                        }}\r\n                                    >\r\n                                        ឈ្មោះអតិថិជន\r\n                                    </th>\r\n                                    <th\r\n                                    // style={{\r\n                                    //     width: \"50px\"\r\n                                    // }}\r\n                                    >\r\n                                        ទំនិញ\r\n                                    </th>\r\n                                    <th\r\n                                    // style={{\r\n                                    //     width: \"80px\"\r\n                                    // }}\r\n                                    >\r\n                                        តម្លៃសរុប\r\n                                    </th>\r\n                                    <th\r\n                                    // style={{\r\n                                    //     width: \"80px\"\r\n                                    // }}\r\n                                    >\r\n                                        បញ្ចុះតម្លៃ\r\n                                    </th>\r\n                                    <th\r\n                                    // style={{\r\n                                    //     width: \"80px\"\r\n                                    // }}\r\n                                    >\r\n                                        កាត់ពន្ធ\r\n                                    </th>\r\n                                    <th\r\n                                    // style={{\r\n                                    //     width: \"80px\"\r\n                                    // }}\r\n                                    >\r\n                                        តម្លៃដឹក\r\n                                    </th>\r\n                                    <th\r\n                                    // style={{\r\n                                    //     width: \"100px\"\r\n                                    // }}\r\n                                    >\r\n                                        តម្លៃសរុបចុងក្រោយ\r\n                                    </th>\r\n                                </tr>\r\n                                {\r\n                                    data.map((load, index) => {\r\n                                        return (\r\n                                            <tr key={index + 1}>\r\n                                                <td>\r\n                                                    {index + 1}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {/* {load.id} */}\r\n                                                    <Qrcode\r\n                                                        size={50}\r\n                                                        value={load?.id}\r\n                                                        renderAs=\"svg\"\r\n                                                    />\r\n                                                </td>\r\n                                                <td>\r\n                                                    {convertDateToKh(load.date)}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.supplier.lname} {load.supplier.fname}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.supplier.tel}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {load.productCount}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(load.subTotal, 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(load.offer, 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(load.tax, 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(load.delivery, 2)}$\r\n                                                </td>\r\n                                                <td>\r\n                                                    {numberWithCommas(load.grandTotal, 2)}$\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                    <Col\r\n                        xs={{ span: 9, offset: 15 }}\r\n                    >\r\n                        <table\r\n                            // className={\"go-tblProduct\"}\r\n                            width=\"100%\"\r\n                            style={{\r\n                                textAlign: \"center\"\r\n                            }}\r\n                        >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុប\r\n                                    </th>\r\n                                    <td\r\n                                        style={{\r\n                                            width: \"150px\"\r\n                                        }}\r\n                                    >\r\n                                        {/* {numberWithCommas(dataFooter?.subTotal)}$ */}\r\n                                        {numberWithCommas(parseFloat(dataFooter?.subTotal), 2)}$\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        កាត់ពន្ធ\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.tax, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        បញ្ចុះតម្លៃ\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.offer, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃដឹកជញ្ជូន\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.delivery, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃសរុបចុងក្រោយ\r\n                                    </th>\r\n                                    <td>{numberWithCommas(dataFooter?.grandTotal, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        ការទូរទាត់\r\n                                    </td>\r\n                                    <td>{numberWithCommas(dataFooter?.payment, 2)}$</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{\r\n                                            textAlign: \"right\"\r\n                                        }}\r\n                                    >\r\n                                        តម្លៃមិនទាន់ទូទាត់\r\n                                    </th>\r\n                                    <td\r\n                                    >\r\n                                        {numberWithCommas(dataFooter?.grandTotal - dataFooter?.payment, 2)}$\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PrintPurchaseOrderRangeDate","import React, { useEffect, useRef, useState } from 'react'\r\nimport { Button, Modal } from 'antd'\r\nimport ReactToPrint from 'react-to-print';\r\nimport { theme } from '../../../static/theme';\r\nimport { CSVLink } from \"react-csv\";\r\nimport { reportProductRange } from '../../../asset/column/report';\r\nimport { addIndex } from '../../../functions/fn';\r\nimport PrintPurchaseOrderRangeDate from '../comp/printPurchaseRangeDate';\r\n\r\nexport default function PrintPurchaseOrderByRangeDate({ open, setOpen, data, date }) {\r\n    const componentRef = useRef()\r\n\r\n    const [dataFooter, setDataFooter] = useState({})\r\n\r\n    useEffect(() => {\r\n        if(data.length !== 0){\r\n            let subTotal = data.reduce((a, curr) => a + parseFloat(curr.subTotal),0)\r\n            let tax = data.reduce((a, curr) => a + parseFloat(curr.tax),0)\r\n            let offer = data.reduce((a, curr) => a + parseFloat(curr.offer),0)\r\n            let delivery = data.reduce((a, curr) => a + parseFloat(curr.delivery),0)\r\n            let grandTotal = data.reduce((a, curr) => a + parseFloat(curr.grandTotal),0)\r\n            let payment = data.reduce((a, curr) => a + parseFloat(curr.payment),0)\r\n\r\n            setDataFooter({\r\n                subTotal,\r\n                tax,\r\n                offer,\r\n                delivery,\r\n                grandTotal,\r\n                payment \r\n            })\r\n        }\r\n    }, [data])\r\n\r\n    const csvReport = {\r\n        data: addIndex(data),\r\n        headers: reportProductRange,\r\n        filename: 'ការគ្រប់គ្រង់ស្តុកទំនិញចូល_និងចេញ.xls'\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title=\"បោះពុម្ភ\"\r\n            visible={open}\r\n            width={1500}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={[\r\n                <CSVLink\r\n                    className='go-toCSV'\r\n                    {...csvReport}\r\n                    key=\"excel\"\r\n                    style={{\r\n                        float: \"left\"\r\n                    }}\r\n                >\r\n                    Export to CSV\r\n                </CSVLink>,\r\n                <Button\r\n                    danger\r\n                    key=\"cancel\"\r\n                    size={theme.btnSize}\r\n                    onClick={() => setOpen(!open)}\r\n                >\r\n                    ចាក់ចេញ\r\n                </Button>,\r\n                <ReactToPrint\r\n                    key=\"post\"\r\n                    trigger={() => {\r\n                        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n                        // to the root node of the returned component as it will be overwritten.\r\n                        return <Button\r\n                            type=\"default\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            បោះពុម្ភ\r\n                        </Button>;\r\n                    }}\r\n                    content={() => componentRef.current}\r\n                />\r\n            ]}\r\n        >\r\n            <PrintPurchaseOrderRangeDate ref={componentRef} data={data} date={date} dataFooter={dataFooter} />\r\n        </Modal>\r\n    )\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport { Button, DatePicker, Form, Modal } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { GET_REPORT_PO_BY_DATE } from '../../../graphql/report'\r\nimport { theme } from '../../../static/theme'\r\nimport PrintPurchaseOrderByRangeDate from './printPurchaseOrderByRangeDate'\r\n\r\nexport default function GetPurchaseOrderByRangeDate({ open, setOpen, productDB }) {\r\n    let [form] = Form.useForm()\r\n\r\n    const [getReportPurchaseOrderByRangeDate] = useMutation(GET_REPORT_PO_BY_DATE)\r\n\r\n\r\n    const [data, setData] = useState([])\r\n    const [date, setDate] = useState(\"\")\r\n\r\n    const [openPrint, setOpenPrint] = useState(false)\r\n\r\n    const onFinish = async (values) => {\r\n        getReportPurchaseOrderByRangeDate({\r\n            variables: {\r\n                input: {\r\n                    startDate: values.date[0],\r\n                    endDate: values.date[1]\r\n                }\r\n            },\r\n            update(_,result){\r\n                const getResults = result?.data?.getReportPurchaseOrderByRangeDate\r\n                // const getProducts = productDB?.getAllProducts\r\n\r\n                // console.log(getResults)\r\n\r\n                setData(getResults)\r\n                setOpenPrint(!openPrint) \r\n                setDate(values.date)\r\n            }\r\n        })\r\n    }\r\n\r\n    const onFinishFailed = (e) => {\r\n        console.log(e)\r\n    }\r\n\r\n    const dateHolder = [\"ចាប់ពី\", \"រហូតដល់\"]\r\n\r\n    return (\r\n        <Modal\r\n            title=\"ការទិញចូលដោយកាលបរិច្ឆេទ\"\r\n            visible={open}\r\n            onCancel={() => setOpen(!open)}\r\n            footer={null}\r\n        >\r\n            <PrintPurchaseOrderByRangeDate open={openPrint} setOpen={setOpenPrint} data={data} date={date} />\r\n            <Form\r\n                form={form}\r\n                name=\"getProductByDate\"\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    name=\"date\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"សូមបញ្ជូលទិន្នន័យអោយបានត្រឹមត្រូវ\"\r\n                        }\r\n                    ]}\r\n                >\r\n                    <DatePicker.RangePicker\r\n                        placeholder={dateHolder}\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                        htmlType='submit'\r\n                        type='primary'\r\n                        style={{\r\n                            width: \"100%\"\r\n                        }}\r\n                        size={theme.btnSize}\r\n                    >\r\n                        បញ្ជូល\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { useQuery } from '@apollo/client'\r\nimport { Col, Divider, Row } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport GetProductByDate from '../components/report/modal/getProductByDate'\r\nimport GetProductByRangeDate from '../components/report/modal/getProductByRangeDate'\r\nimport GetCategoryByRangeDate from '../components/report/modal/getCategoryByRangeDate'\r\nimport { noticeAction } from '../functions/fn'\r\nimport { GET_ALL_PRODUCT_NO_PAGE } from '../graphql/product'\r\nimport GetSaleOrderByRangeDate from '../components/report/modal/getSaleOrderByRangeDate'\r\nimport GetPurchaseOrderByRangeDate from '../components/report/modal/getPurchaseOrderByRangeDate'\r\n\r\nexport default function Report() {\r\n    const { data: productDB } = useQuery(GET_ALL_PRODUCT_NO_PAGE, {\r\n        fetchPolicy: \"network-only\",\r\n        onError: (err) => {\r\n            noticeAction(\"error\", err?.graphQLErrors[0]?.message + '')\r\n        },\r\n    })\r\n\r\n    const [openProductByDate, setOpenProductByDate] = useState(false)\r\n    const [openProductByRangeDate, setOpenProductByRangeDate] = useState(false)\r\n    const [openCategoryByRangeDate, setOpenCategoryByRangeDate] = useState(false)\r\n    const [openSaleOrderByRangeDate, setOpenSaleOrderByRangeDate] = useState(false)\r\n    const [openPurchaseOrderByRangeDate, setOpenPurchaseOrderByRangeDate] = useState(false)\r\n\r\n    return (\r\n        <div>\r\n            <GetProductByDate open={openProductByDate} setOpen={setOpenProductByDate} productDB={productDB} />\r\n            <GetProductByRangeDate open={openProductByRangeDate} setOpen={setOpenProductByRangeDate} productDB={productDB} />\r\n            <GetCategoryByRangeDate open={openCategoryByRangeDate} setOpen={setOpenCategoryByRangeDate} />\r\n            <GetSaleOrderByRangeDate open={openSaleOrderByRangeDate} setOpen={setOpenSaleOrderByRangeDate} />\r\n            <GetPurchaseOrderByRangeDate open={openPurchaseOrderByRangeDate} setOpen={setOpenPurchaseOrderByRangeDate} />\r\n            \r\n            <Row gutter={[16, 16]}>\r\n                <Col\r\n                    xs={24}\r\n                    md={24}\r\n                >\r\n                    <Divider orientation=\"left\">របាយការណ៍ទំនិញ</Divider>\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col\r\n                            xs={24}\r\n                            md={8}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenProductByDate(!openProductByDate)}\r\n                            >\r\n                                ទំនិញចេញចូលដោយកាលបរិច្ឆេទ\r\n                            </div>\r\n                        </Col>\r\n                        <Col\r\n                            xs={24}\r\n                            md={8}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenProductByRangeDate(!openProductByRangeDate)}\r\n                            >\r\n                                ទំនិញចេញចូលរវាងកាលបរិច្ឆេទ\r\n                            </div>\r\n                        </Col>\r\n                        <Col\r\n                            xs={24}\r\n                            md={8}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenCategoryByRangeDate(!openCategoryByRangeDate)}\r\n                            >\r\n                                ប្រភេទទំនិញចេញចូល\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={24}\r\n                >\r\n                    <Divider orientation=\"left\">របាយការណ៍ការលក់</Divider>\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col\r\n                            xs={24}\r\n                            md={8}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenSaleOrderByRangeDate(!openSaleOrderByRangeDate)}\r\n                            >\r\n                                ការលក់តាមកាលបរិច្ឆេទ\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col\r\n                    xs={24}\r\n                    md={24}\r\n                >\r\n                    <Divider orientation=\"left\">របាយការណ៍ការទិញ</Divider>\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col\r\n                            xs={24}\r\n                            md={8}\r\n                        >\r\n                            <div\r\n                                className=\"go-generateBtn\"\r\n                                onClick={() => setOpenPurchaseOrderByRangeDate(!openPurchaseOrderByRangeDate)}\r\n                            >\r\n                                ការទិញតាមកាលបរិច្ឆេទ\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport { BarChartOutlined, CreditCardOutlined, FileSearchOutlined, PieChartOutlined, ShoppingCartOutlined, SyncOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Dashboard from \"../pages/dashboard\";\r\nimport Product from \"../pages/product\";\r\nimport SaleOrder from \"../pages/saleOrder\";\r\nimport PurchaseOrder from \"../pages/purchaseOrder\";\r\nimport Reconciliation from \"../pages/reconciliation\";\r\nimport Customer from \"../pages/customer\";\r\nimport Supplier from \"../pages/supplier\";\r\nimport Deliver from \"../pages/deliver\";\r\nimport User from \"../pages/user\";\r\nimport AddSaleOrder from \"../components/saleOrder/addSaleOrder\";\r\nimport ViewSaleOrder from '../components/saleOrder/viewSaleOrder'\r\nimport AddPurchaseOrder from '../components/purchaseOrder/addPurchaseOrder'\r\nimport ViewPurchaseOrder from '../components/purchaseOrder/viewPurchaseOrder'\r\nimport { theme } from '../static/theme';\r\nimport Report from '../pages/report';\r\n\r\nexport function keyMenu(e) {\r\n    const myArr = e.split(\"/\");\r\n    let x = \"\"\r\n\r\n    if (myArr[1] === 'product' || myArr[1] === 'subProduct') {\r\n        x = \"/product\"\r\n    } else if (myArr[1] === 'category' || myArr[1] === 'subCategory') {\r\n        x = \"/category\"\r\n    } else if (myArr[1] === 'purchaseorder' || myArr[1] === 'subpurchaseorder') {\r\n        x = \"/purchaseorder\"\r\n    } else if (myArr[1] === 'saleorder' || myArr[1] === 'addsaleorder' || myArr[1] === 'viewsaleorder') {\r\n        x = \"/saleorder\"\r\n    } else if (myArr[1] === 'purchaseorder' || myArr[1] === 'addpurchaseorder' || myArr[1] === 'viewpurchaseorder') {\r\n        x = \"/purchaseorder\"\r\n    } else if (myArr[1] === 'reconciliation' || myArr[1] === 'subreconciliation') {\r\n        x = \"/reconciliation\"\r\n    } else if (myArr[1] === 'report') {\r\n        x = \"/report\"\r\n    } else if (myArr[1] === 'customer' || myArr[1] === 'subcustomer') {\r\n        x = \"/customer\"\r\n    } else if (myArr[1] === 'supplier' || myArr[1] === 'subsupplier') {\r\n        x = \"/supplier\"\r\n    } else if (myArr[1] === 'deliver' || myArr[1] === 'subdeliver') {\r\n        x = \"/deliver\"\r\n    } else if (myArr[1] === 'user' || myArr[1] === 'adddeliver') {\r\n        x = \"/user\"\r\n    }\r\n\r\n    else {\r\n        x = \"/\"\r\n    }\r\n\r\n    return x\r\n}\r\n\r\nexport const iconMenu = (e) => {\r\n    if (e === \"/\") {\r\n        return <BarChartOutlined\r\n            style={{\r\n                fontSize: theme.MenuFontSize\r\n            }}\r\n        />\r\n    } else if (e === \"/product\") {\r\n        return <ShoppingCartOutlined\r\n            style={{\r\n                fontSize: theme.MenuFontSize\r\n            }}\r\n        />\r\n    } else if (e === \"/saleorder\") {\r\n        return <PieChartOutlined\r\n            style={{\r\n                fontSize: theme.MenuFontSize\r\n            }}\r\n        />\r\n    } else if (e === \"/purchaseorder\") {\r\n        return <CreditCardOutlined\r\n            style={{\r\n                fontSize: theme.MenuFontSize\r\n            }}\r\n        />\r\n    } else if (e === \"/reconciliation\") {\r\n        return <SyncOutlined\r\n            style={{\r\n                fontSize: theme.MenuFontSize\r\n            }}\r\n        />\r\n    } else if (e === \"/report\") {\r\n        return <FileSearchOutlined\r\n            style={{\r\n                fontSize: theme.MenuFontSize\r\n            }}\r\n        />\r\n    } else if (e === \"/adminstator\") {\r\n        return <UserOutlined style={{\r\n            fontSize: theme.MenuFontSize\r\n        }}\r\n\r\n        />\r\n    }\r\n}\r\n\r\nexport const combineMenu = (e) => {\r\n    // console.log(e)\r\n    var newArray1 = []\r\n    var newArray2 = []\r\n\r\n    e?.map(load => {\r\n        if (load.sub === \"\" || load.sub === null || load.sub === undefined) {\r\n            newArray1.push(load)\r\n        } else {\r\n            newArray2.push(load)\r\n        }\r\n\r\n        return null;\r\n    })\r\n\r\n    newArray1?.map((load, index) => {\r\n        var array = []\r\n        return newArray2?.map(load1 => {\r\n            if (load._id + \"\" === load1.sub + \"\") {\r\n                if (load1.menu) {\r\n                    array.push(load1)\r\n                    return newArray1[index] = {\r\n                        ...newArray1[index],\r\n                        subContent: array\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        })\r\n    })\r\n\r\n    newArray1?.map((load, index) => {\r\n        if (load.subContent === undefined) {\r\n            newArray1[index] = { ...newArray1[index], subContent: [] }\r\n        }\r\n        return null;\r\n    })\r\n\r\n    return newArray1\r\n}\r\n\r\nexport const contentRouter = (e) => {\r\n    // console.log(e)\r\n    if (e === \"/\") {\r\n        return <Dashboard />\r\n    } else if (e === \"/product\") {\r\n        return <Product />\r\n    } else if (e === \"/saleorder\") {\r\n        return <SaleOrder />\r\n    } else if (e === \"/addsaleorder\") {\r\n        return <AddSaleOrder />\r\n    } else if (e === \"/viewsaleorder/:slug\") {\r\n        return <ViewSaleOrder />\r\n    } else if (e === \"/purchaseorder\") {\r\n        return <PurchaseOrder />\r\n    } else if (e === \"/addpurchaseorder\") {\r\n        return <AddPurchaseOrder />\r\n    } else if (e === \"/viewpurchaseorder/:slug\") {\r\n        return <ViewPurchaseOrder />\r\n    } else if (e === \"/reconciliation\") {\r\n        return <Reconciliation />\r\n    } else if (e === \"/report\") {\r\n        return <Report />\r\n    } else if (e === \"/customer\") {\r\n        return <Customer />\r\n    } else if (e === \"/supplier\") {\r\n        return <Supplier />\r\n    } else if (e === \"/deliver\") {\r\n        return <Deliver />\r\n    } else if (e === \"/user\") {\r\n        return <User />\r\n    }\r\n}","import React, { useContext } from 'react'\r\nimport { Image, Layout, Menu } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from '../asset/img/logo.png'\r\nimport { combineMenu, iconMenu, keyMenu } from '../functions/routeFn'\r\nimport { DataController } from '../context/dataProvider';\r\nimport { theme } from '../static/theme';\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function NavBar({ collapsed, setCollapsed }) {\r\n  const { content, urlPath } = useContext(DataController)\r\n\r\n  // const urlPath = useLocation().pathname\r\n\r\n  return (\r\n    <Sider theme=\"light\" collapsible collapsed={collapsed} onCollapse={() => setCollapsed(!collapsed)}  width={260}>\r\n      <Link to=\"/\">\r\n        <div className=\"logo\">\r\n          <Image width={\"100%\"} src={Logo} preview={false} />\r\n        </div>\r\n      </Link>\r\n      <Menu theme=\"light\" selectedKeys={[keyMenu(urlPath)]} mode=\"inline\">\r\n        {\r\n          combineMenu(content?.getContentById?.content).map(load =>\r\n            load.subContent.length === 0 ? (\r\n              <Menu.Item\r\n                key={load.path}\r\n                icon={iconMenu(load.path)}\r\n                style={{\r\n                  fontSize: theme.MenuFontSize\r\n                }}\r\n              >\r\n                {load.title}\r\n                <Link to={load.path} />\r\n              </Menu.Item>\r\n            ) : (\r\n              <SubMenu\r\n                key={load.path}\r\n                icon={iconMenu(load.path)}\r\n                title={load.title}\r\n                style={{\r\n                  fontSize: theme.MenuFontSize\r\n                }}\r\n              >\r\n                {\r\n                  load.subContent.map(load => (\r\n                    <Menu.Item\r\n                      key={load.path}\r\n\r\n                      style={{\r\n                        fontSize: theme.MenuFontSize\r\n                      }}\r\n                    >\r\n                      {load.title}\r\n                      <Link to={load.path} />\r\n                    </Menu.Item>\r\n                  )\r\n                  )\r\n                }\r\n              </SubMenu>\r\n            )\r\n          )\r\n        }\r\n        {/* <Menu.Item key=\"/\" icon={<BarChartOutlined />}>\r\n          ទំព័រដើម\r\n          <Link to=\"/\" />\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/product\" icon={<ShoppingCartOutlined />}>\r\n          ទំនិញ\r\n          <Link to=\"/product\" />\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/saleorder\" icon={<PieChartOutlined />}>\r\n          ការលក់ចេញ\r\n          <Link to=\"/saleorder\" />\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/purchaseorder\" icon={<CreditCardOutlined />}>\r\n          ការទិញចូល\r\n          <Link to=\"/purchaseorder\" />\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/reconciliation\" icon={<SyncOutlined />}>\r\n          បង្កើតសារពើភ័ណ្ឌ\r\n          <Link to=\"/reconciliation\" />\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/report\" icon={<FileSearchOutlined />}>\r\n          របាយការណ៍\r\n          <Link to=\"/report\" />\r\n        </Menu.Item>\r\n        <SubMenu key=\"sub2\" icon={<UserOutlined />} title=\"រដ្ឋបាល\">\r\n          <Menu.Item key=\"/customer\">\r\n            អតិថិជន\r\n            <Link to=\"/customer\" />\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/supplier\">\r\n            អ្នកផ្គត់ផ្គង់\r\n            <Link to=\"/supplier\" />\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/deliver\">\r\n            អ្នកដឹកជញ្ជូន\r\n            <Link to=\"/deliver\" />\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/user\">\r\n            អ្នកប្រើប្រាស់\r\n            <Link to=\"/user\" />\r\n          </Menu.Item>\r\n        </SubMenu> */}\r\n      </Menu>\r\n    </Sider>\r\n  )\r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\n\r\nexport const GET_NOTIFICATION = gql`\r\n    subscription Subscription {\r\n        newNotice {\r\n            id\r\n            action\r\n            title\r\n            content\r\n            user\r\n            createAt\r\n        }\r\n    }\r\n`","import React, { useContext, useEffect, useState } from 'react'\r\nimport { BellOutlined, PoweroffOutlined } from '@ant-design/icons';\r\nimport { Badge, Button, Col, Layout, Popconfirm, Popover, Row, List } from 'antd';\r\nimport { useSubscription } from '@apollo/client';\r\nimport { GET_NOTIFICATION } from '../graphql/notification';\r\nimport moment from 'moment';\r\nimport { auth } from '../api/config';\r\nimport { DataController } from '../context/dataProvider';\r\nimport { ACTION } from '../context/reducer';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { theme } from '../static/theme';\r\n\r\nconst { Header } = Layout;\r\nconst content = ({ data, newNum, setNewNum }) => {\r\n    return <div\r\n        style={{\r\n            maxHeight: 500,\r\n            overflowX: \"hidden\",\r\n            overflowY: \"scroll\"\r\n        }}\r\n    >\r\n        <List\r\n            style={{\r\n                width: 300\r\n            }}\r\n            itemLayout=\"horizontal\"\r\n            dataSource={data}\r\n            renderItem={(item, index) => (\r\n                <List.Item\r\n                    style={{\r\n                        backgroundColor: index++ < newNum && \"#F4FCFF\"\r\n                    }}\r\n                    onClick={() => setNewNum(0)}\r\n                >\r\n                    <List.Item.Meta\r\n                        title={<span\r\n                            style={{\r\n                                color: item.action === \"create\" ? \"green\" : item.action === \"update\" ? \"orange\" : \"red\"\r\n                            }}\r\n                        >\r\n                            {item.title}\r\n                        </span>}\r\n                        description={moment(new Date(parseInt(item?.createAt)), \"YYYYMMDD\").fromNow()}\r\n                    />\r\n                    {item.content}\r\n                </List.Item>\r\n\r\n            )}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default function Navheader() {\r\n    let history = useHistory()\r\n    let urlPath = useLocation().pathname\r\n    const { loginedDispatch, user, urlPathDispatch } = useContext(DataController)\r\n\r\n    const { data: NoticeDB } = useSubscription(GET_NOTIFICATION);\r\n\r\n    const [newNum, setNewNum] = useState(0)\r\n    const [data, setData] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (NoticeDB) {\r\n            setNewNum(e => e + 1)\r\n            setData(e => [NoticeDB?.newNotice, ...e])\r\n        }\r\n    }, [NoticeDB])\r\n\r\n    useEffect(() => {\r\n        urlPathDispatch({\r\n            type: ACTION.ADD_PAYLOAD,\r\n            payload: urlPath\r\n        })\r\n    }, [urlPathDispatch, urlPath])\r\n\r\n    const onSignOutFn = () => {\r\n        loginedDispatch({type: ACTION.ADD_PAYLOAD, payload: true})\r\n        auth.signOut().then(() => history.push(\"/\"))\r\n    }\r\n\r\n    return (\r\n        <Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n            <Row>\r\n                <Col\r\n                    xs={2}\r\n                    style={{\r\n                        paddingLeft: 20\r\n                    }}\r\n                >\r\n                    <Popover\r\n                        content={content({ data, newNum, setNewNum })}\r\n                        trigger=\"click\"\r\n                        placement=\"rightTop\"\r\n                    >\r\n                        <Badge\r\n                            count={newNum}\r\n                            size=\"default\"\r\n                        >\r\n                            <BellOutlined\r\n                                style={{\r\n                                    cursor: \"pointer\"\r\n                                }}\r\n                            />\r\n                        </Badge>\r\n                    </Popover>\r\n                </Col>\r\n                <Col\r\n                    xs={22}\r\n                    style={{\r\n                        textAlign: \"right\",\r\n                        paddingRight: 40\r\n                    }}\r\n                >\r\n                    {/* <Button\r\n                        type=\"link\"\r\n                    >\r\n                        <SettingOutlined\r\n                                style={{\r\n                                    cursor: \"pointer\"\r\n                                }}\r\n                            />\r\n                    </Button> */}\r\n                    <Popconfirm\r\n                        placement=\"leftTop\"\r\n                        title=\"តើអ្នកចង់ចាក់ចេញមែនទេ?\"\r\n                        okType=\"danger\"\r\n                        okText=\"ចង់\"\r\n                        cancelText=\"មិនចង់\"\r\n                        onConfirm={() => {\r\n                            onSignOutFn()\r\n                        }}\r\n                    >\r\n                        <Button\r\n                            danger\r\n                            shape=\"round\"\r\n                            size={theme.btnSize}\r\n                        >\r\n                            {user.displayName} <PoweroffOutlined />\r\n                        </Button>\r\n                    </Popconfirm>\r\n                </Col>\r\n            </Row>\r\n\r\n        </Header>\r\n    )\r\n}\r\n","import { Result } from 'antd'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Error404() {\r\n    return (\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Link to=\"/\">Back Home</Link>}\r\n        />\r\n    )\r\n}\r\n","import { signInWithEmailAndPassword } from '@firebase/auth';\r\nimport { Image, Form, Row, Col, Input, Button, Typography } from 'antd'\r\nimport React, { useContext } from 'react'\r\nimport { auth } from '../api/config';\r\nimport { msgTitle } from '../asset/data/msgTitle';\r\nimport Logo from '../asset/img/logo.png'\r\nimport { DataController } from '../context/dataProvider';\r\nimport { ACTION } from '../context/reducer';\r\nimport { noticeAction } from '../functions/fn';\r\n\r\nexport default function Login() {\r\n    const { loginedDispatch } = useContext(DataController)\r\n    let [form] = Form.useForm()\r\n\r\n    const onFinish = async (values) => {\r\n        signInWithEmailAndPassword(auth, values.email, values.password)\r\n            .then((userCredential) => {\r\n                // Signed in \r\n                // const user = userCredential.user;\r\n\r\n                noticeAction(\"success\", msgTitle.CREATE)\r\n                loginedDispatch({type: ACTION.ADD_PAYLOAD, payload: true})\r\n\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                const errorCode = error.code;\r\n                const errorMessage = error.message;\r\n\r\n                console.log(errorCode, errorMessage)\r\n                \r\n                noticeAction(\"error\", \"គណនីរបស់អ្នកមិនត្រឹមត្រូវនោះទេ!\")\r\n                \r\n                // noticeAction(\"success\", msgTitle.CREATE)\r\n            });\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                minHeight: \"100vh\",\r\n                position: \"relative\"\r\n            }}\r\n        >\r\n            <div\r\n                style={{\r\n                    height: \"100vh\",\r\n                    width: \"100vw\",\r\n                    backgroundImage: \"linear-gradient(to top right, #0b82c3, #3f4195)\",\r\n                    opacity: .8\r\n                }}\r\n            />\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    width: \"400px\",\r\n                    backgroundColor: \"white\",\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    borderRadius: 10,\r\n                    boxShadow: \"1px 1px 10px #050505\"\r\n                }}\r\n            >\r\n                <div\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        padding: \"10px 10px 5px 10px\",\r\n                        backgroundColor: \"white\",\r\n                        top: \"0px\",\r\n                        left: \"50%\",\r\n                        transform: \"translate(-50%, -50%)\",\r\n                        borderRadius: 100,\r\n                        boxShadow: \"1px 1px 5px #b2b2b2\"\r\n                    }}\r\n                >\r\n                    <Image\r\n                        src={Logo}\r\n                        width=\"100px\"\r\n                        preview={false}\r\n                    />\r\n                </div>\r\n                <div\r\n                    style={{\r\n                        padding: \"80px 30px 30px 30px\"\r\n                    }}\r\n                >\r\n                    <Form\r\n                        form={form}\r\n                        name=\"loginForm\"\r\n                        layout=\"vertical\"\r\n                        onFinish={onFinish}\r\n                        onFinishFailed={onFinishFailed}\r\n                    >\r\n                        <Row gutter=\"16\">\r\n                            <Col\r\n                                xs={24}\r\n                            >\r\n                                <Form.Item\r\n                                    label=\"អ៊ីមែល\"\r\n                                    name=\"email\"\r\n                                    rules={[{\r\n                                        required: true,\r\n                                        message: 'សូមបញ្ចូលទិន្នន័យអោយបានត្រឹមត្រូវ!',\r\n                                        type: \"email\"\r\n                                    }]}\r\n                                >\r\n                                    <Input placeholder=\"Email Address\" type=\"email\" size=\"large\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col\r\n                                xs={24}\r\n                            >\r\n                                <Form.Item\r\n                                    label=\"ពាក្យសម្ងាត់\"\r\n                                    name=\"password\"\r\n                                    rules={[{\r\n                                        required: true,\r\n                                        message: 'សូមបញ្ចូលទិន្នន័យអោយបានត្រឹមត្រូវ!'\r\n                                    }]}\r\n                                >\r\n                                    <Input.Password placeholder=\"Password\" size=\"large\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col\r\n                                xs={24}\r\n                            >\r\n                                <Form.Item>\r\n                                    <Button\r\n                                        htmlType=\"submit\"\r\n                                        style={{\r\n                                            width: \"100%\"\r\n                                        }}\r\n                                        size=\"large\"\r\n                                        type=\"primary\"\r\n                                    >\r\n                                        ចូលគណនី\r\n                                    </Button>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n\r\n                    <div\r\n                        style={{\r\n                            textAlign: \"center\",\r\n                            paddingTop: 20\r\n                        }}\r\n                    >\r\n                        <Button\r\n                            type=\"link\"\r\n                            size=\"small\"\r\n                        >\r\n                            <Typography.Text>\r\n                                Term Condition\r\n                            </Typography.Text>\r\n                        </Button>\r\n                        |\r\n                        <Button\r\n                            type=\"link\"\r\n                            size=\"small\"\r\n                        >\r\n                            <Typography.Text>\r\n                                Privacy Policy\r\n                            </Typography.Text>\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bagLoading.74b8eb55.gif\";","export default __webpack_public_path__ + \"static/media/breadLoading.15de5bd9.gif\";","import { Image } from 'antd'\r\nimport React from 'react'\r\nimport LoadingGif from '../../asset/gif/bagLoading.gif'\r\nimport Loading1Gif from '../../asset/gif/breadLoading.gif'\r\n// import Logo from '../../asset/img/logo.png'\r\nimport FadeIn from 'react-fade-in'\r\n\r\nexport default function Loading() {\r\n\r\n    return (\r\n        <FadeIn>\r\n            <div\r\n                style={{\r\n                    height: \"100vh\",\r\n                    width: \"100vw\",\r\n                    position: \"relative\",\r\n                    backgroundImage: \"linear-gradient(to top right, #0b82c3, #a7499a)\",\r\n                }}\r\n            >\r\n                <div\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: \"50%\",\r\n                        left: \"50%\",\r\n                        transform: \"translate(-50%, -50%)\",\r\n                    }}\r\n                >\r\n                    <div\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            // padding: \"8px 8px 2px 8px\",\r\n                            // backgroundColor: \"white\",\r\n                            // top: \"200px\",\r\n                            left: \"50px\",\r\n                            transform: \"translate(-50%, -50%)\",\r\n                            // borderRadius: 100,\r\n                            // boxShadow: \"1px 1px 5px #b2b2b2\"\r\n                        }}\r\n                    >\r\n                        <Image\r\n                            src={LoadingGif}\r\n                            alt=\"loading\"\r\n                            width=\"350px\"\r\n                            preview={false}\r\n                        />\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            // padding: \"8px 8px 2px 8px\",\r\n                            // backgroundColor: \"white\",\r\n                            top: \"20px\",\r\n                            left: \"-50px\",\r\n                            transform: \"translate(-50%, -50%)\",\r\n                            // borderRadius: 100,\r\n                            // boxShadow: \"1px 1px 5px #b2b2b2\"\r\n                        }}\r\n                    >\r\n                        <Image\r\n                            src={Loading1Gif}\r\n                            alt=\"loading\"\r\n                            width=\"350px\"\r\n                            preview={false}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* <Image\r\n                        src={LoadingGif}\r\n                        alt=\"loading\"\r\n                        width=\"350px\"\r\n                        preview={false}\r\n                    /> */}\r\n                    {/* <div\r\n                        style={{\r\n                            position: \"absolute\",\r\n                            padding: \"8px 8px 2px 8px\",\r\n                            backgroundColor: \"white\",\r\n                            top: \"50px\",\r\n                            left: \"50%\",\r\n                            transform: \"translate(-50%, -50%)\",\r\n                            borderRadius: 100,\r\n                            boxShadow: \"1px 1px 5px #b2b2b2\"\r\n                        }}\r\n                    >\r\n                        <Image\r\n                            src={Logo}\r\n                            width=\"50px\"\r\n                            preview={false}\r\n                        />\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n        </FadeIn>\r\n    )\r\n}\r\n","import './static/App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport StyleProvider from './context/styleProvider';\nimport { Layout } from 'antd';\nimport { useContext, useState } from 'react';\nimport NavBar from './routes/navbar';\nimport Navheader from './routes/navheader';\nimport { DataController } from './context/dataProvider';\nimport { contentRouter } from './functions/routeFn';\nimport Error404 from './pages/404';\nimport Login from './pages/login';\nimport Loading from './components/login/loading';\n\nconst { Content } = Layout;\n\nfunction App() {\n  const { content, user, logined } = useContext(DataController)\n  const [collapsed, setCollapsed] = useState(false)\n\n  return (\n    !logined ?\n      user !== null ? <Router>\n        <StyleProvider>\n\n          <Layout style={{ minHeight: '100vh' }}>\n            <NavBar collapsed={collapsed} setCollapsed={setCollapsed} />\n\n            <Layout className=\"site-layout\">\n              <Navheader collapsed={collapsed} setCollapsed={setCollapsed} />\n\n              <Content style={{ margin: '16px' }}>\n                <div className=\"site-layout-content\">\n                  <Switch>\n                    {\n                      content?.getContentById?.content?.map((load, index) => (\n                        index === 0 ?\n                          <Route exact path={load.path} key={load.path} >\n                            {contentRouter(load.path)}\n                          </Route>\n                          : <Route path={load.path} key={load.path}>\n                            {contentRouter(load.path)}\n                          </Route>\n                      ))\n                    }\n                    <Route>\n                      <Error404 />\n                    </Route>\n\n\n                    {/* <Route path=\"/addsaleorder\">\n                    <AddSaleOrder />\n                  </Route> */}\n\n                    {/* <Route exact path=\"/\">\n                    <Dashboard />\n                  </Route>\n                  <Route path=\"/product\">\n                    <Product />\n                  </Route>\n                  <Route path=\"/saleorder\">\n                    <SaleOrder />\n                  </Route>\n                  <Route path=\"/addsaleorder\">\n                    <AddSaleOrder />\n                  </Route>\n                  <Route path=\"/viewsaleorder/:slug\">\n                    <ViewSaleOrder />\n                  </Route>\n                  <Route path=\"/purchaseorder\">\n                    <PurchaseOrder />\n                  </Route>\n                  <Route path=\"/addpurchaseorder\">\n                    <AddPurchaseOrder />\n                  </Route>\n                  <Route path=\"/viewpurchaseorder/:slug\">\n                    <ViewPurchaseOrder />\n                  </Route>\n                  <Route path=\"/reconciliation\">\n                    <Reconciliation />\n                  </Route>\n                  <Route path=\"/customer\">\n                    <Customer />\n                  </Route>\n                  <Route path=\"/supplier\">\n                    <Supplier />\n                  </Route>\n                  <Route path=\"/deliver\">\n                    <Deliver />\n                  </Route>\n                  <Route path=\"/user\">\n                    <User />\n                  </Route> */}\n                  </Switch>\n\n                </div>\n              </Content>\n              {/* <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer> */}\n            </Layout>\n          </Layout>\n\n\n\n\n        </StyleProvider>\n      </Router> : <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Login />\n          </Route>\n          <Route path=\"*\">\n            <Login />\n          </Route>\n        </Switch>\n      </Router>\n      : <Loading />\n  );\n}\n\nexport default App;\n","import React from 'react'\r\nimport App from './App'\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  HttpLink,\r\n  split,\r\n} from \"@apollo/client\";\r\nimport { setContext } from '@apollo/client/link/context'\r\nimport { WebSocketLink } from '@apollo/client/link/ws';\r\nimport { getMainDefinition } from '@apollo/client/utilities';\r\nimport DataProvider from './context/dataProvider';\r\n\r\nconst address = process.env.React_App_SERVER\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: `https://${address}`\r\n})\r\n\r\nconst wsLink = new WebSocketLink({\r\n  uri: `wss://${address}`,\r\n  options: {\r\n    reconnect: true\r\n  }\r\n});\r\n\r\nconst authLink = setContext((request, previousContext) => {\r\n  const token = localStorage.getItem(\"jwtToken\")\r\n  return {\r\n    headers: {\r\n      Authorization: token ? `Bearer ${token}` : ''\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  authLink.concat(httpLink),\r\n  // httpLink,\r\n  // authLink,\r\n);\r\n\r\nconst client = new ApolloClient({\r\n  link: splitLink,\r\n  cache: new InMemoryCache()\r\n})\r\n\r\nexport default (\r\n  <ApolloProvider client={client}>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </ApolloProvider>\r\n)","import ReactDOM from 'react-dom';\nimport './static/index.css';\nimport 'antd/dist/antd.css';\nimport reportWebVitals from './static/reportWebVitals';\nimport ApolloProvider from './ApolloProvider';\n\nReactDOM.render(\n    ApolloProvider,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}